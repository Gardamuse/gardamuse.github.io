{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PlayingCard.vue?fbd3","webpack:///./src/components/HandView.vue?f5ae","webpack:///./src/components/DiceView.vue?cc53","webpack:///./src/App.vue?d51e","webpack:///./src/components/GameView.vue?606a","webpack:///./src/assets/flowers.png","webpack:///./src/components/PatreonButton.vue?8e94","webpack:///./src/components/GameView.vue?2bff","webpack:///./src/assets/black-felt.png","webpack:///./src/components/StartMenu.vue?ac6b","webpack:///./src/assets/patreon-banner.webp","webpack:///./src/components/TextButton.vue?ac38","webpack:///./src/components/HandView.vue?c3c6","webpack:///./src/components/DialogueView.vue?78fb","webpack:///./src/App.vue","webpack:///./src/components/GameView.vue","webpack:///./src/components/ValueMeter.vue","webpack:///./src/util.ts","webpack:///./src/effects/ValueMod.ts","webpack:///./src/effects/ValueRange.ts","webpack:///./src/components/ValueMeter.vue?a5c4","webpack:///./src/components/ValueMeter.vue?d750","webpack:///./src/components/TextButton.vue","webpack:///./src/components/TextButton.vue?72a9","webpack:///./src/components/TextButton.vue?a9fe","webpack:///./src/store/globalState.ts","webpack:///./src/components/PlayingCard.vue","webpack:///./src/components/PlayingCard.vue?3f51","webpack:///./src/components/PlayingCard.vue?bf32","webpack:///./src/Card.ts","webpack:///./src/components/DiceView.vue","webpack:///./src/components/DiceView.vue?a465","webpack:///./src/components/DiceView.vue?79a7","webpack:///./src/components/PatreonButton.vue","webpack:///./src/components/PatreonButton.vue?a3ae","webpack:///./src/components/PatreonButton.vue?a993","webpack:///./src/components/GameView.vue?1080","webpack:///./src/components/GameView.vue?4165","webpack:///./src/Deck.ts","webpack:///./src/Dice.ts","webpack:///./src/stages/GameStage.ts","webpack:///./src/stages/TextStage.ts","webpack:///./src/stages/IntensityStage.ts","webpack:///./src/stages/HighlightStage.ts","webpack:///./src/stages/EndStage.ts","webpack:///./src/stages/BonusStage.ts","webpack:///./src/stages/PickStage.ts","webpack:///./src/stages/DrawStage.ts","webpack:///./src/Game.ts","webpack:///./src/Menu.ts","webpack:///./src/components/StartMenu.vue","webpack:///./src/components/StartMenu.vue?0b14","webpack:///./src/components/StartMenu.vue?1128","webpack:///./src/components/DialogueView.vue","webpack:///./src/components/DialogueView.vue?d9bf","webpack:///./src/components/DialogueView.vue?3376","webpack:///./src/components/HandView.vue","webpack:///./src/components/HandView.vue?71f7","webpack:///./src/components/HandView.vue?9274","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/components/ValueMeter.vue?ea85","webpack:///./src/components/DialogueView.vue?619c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","style","cssVars","menu","activeComponent","view","class","isLoaded","game","state","drawnCards","card","scale","toggleScale","clickCard","currentDialogue","round","roundString","cardsToPick","cardsPickedThisRound","stageId","bonusRolls","max","allowNextStage","nextStage","buttonLabel","pickedCards","dice","die","allowDiceBuy","buyDice","baseUrl","wait","ms","Promise","resolve","reject","setTimeout","fetchHjson","path","a","transformResponse","response","info","parse","getInfo","isVideo","url","test","sample","array","Math","floor","random","timeToDays","time","currentDate","day","this","timeofday","hour","minute","toFixed","padStart","displayTime","uuid","replace","Number","crypto","getRandomValues","Uint8Array","toString","capitalize","charAt","toUpperCase","substr","pickFrom","list","fraction","index","clamp","min","showNumber","relative","undefined","ensure","possibilities","find","v","shuffle","temporaryValue","randomIndex","currentIndex","type","mod","abs","mods","ValueMod","activate","reverse","reverseActivate","text","capBaseValue","_baseValue","_min","_max","valueMods","minMods","maxMods","texts","MAX_SAFE_INTEGER","mulMods","oldValue","baseValue","reverseActivateAll","oldBase","sum","activateAll","values","ValueRange","backgroundColor","barColor","props","container","String","methods","log","msg","console","computed","render","__scopeId","onselectstart","icon","loading","cardFamilyString","dialogueString","globalState","load","familyList","families","familyPath","family","JSON","stringify","dialogue","title","hasParent","highlight","levelString","src","thumb","subtitle","description","artist","components","ValueMeter","TextButton","hue","levels","parent","level","findIndex","isParent","maxLevel","locked","roll","href","label","scaledCard","PlayingCard","DiceView","PatreonButton","created","cards","parseCards","Deck","pop","drawIndex","getLevel","_value","_locked","isRolling","valueUsed","rollingDice","rollsLeft","notifyDiceRoll","isUsed","args","_allowNext","_allowDiceBuy","stage","_nextStage","onResume","setStage","gotoNext","output","onStart","_text","deck","done","pickStage","parentCard","diceCount","diceSize","size","lockDice","intensities","pick","highlightedCards","removeCard","pickCard","resumeStage","leftToPick","stage1","restart","withoutFamily","draw","addValue","allowNext","playerHand","rewardRolls","lookup","onDiceRoll","gameComponent","stage2","stage3","stage4","stageD","stageP","link","allDiceReady","diceValues","useValue","diceReadyCount","diceRollingCount","diceAreLocked","onCardClick","ready","rollCount","rolling","_activeComponent","_game","GAME_VERSION","startGame","location","emits","util","GameView","StartMenu","DialogueView","HandView","routes","component","router","history","use","mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/play/ditzy-dice/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PlayingCard.vue?vue&type=style&index=0&id=bf0c33c8&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HandView.vue?vue&type=style&index=1&id=d4be429e&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DiceView.vue?vue&type=style&index=0&id=0db4f4f9&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=a57fae36&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GameView.vue?vue&type=style&index=0&id=5f1fbe3b&lang=scss\"","module.exports = __webpack_public_path__ + \"img/flowers.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PatreonButton.vue?vue&type=style&index=0&id=d5159fe2&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GameView.vue?vue&type=style&index=1&id=5f1fbe3b&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/black-felt.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StartMenu.vue?vue&type=style&index=0&id=5a9a0fa2&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/patreon-banner.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TextButton.vue?vue&type=style&index=0&id=2ba6bbe6&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HandView.vue?vue&type=style&index=0&id=d4be429e&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DialogueView.vue?vue&type=style&index=1&id=1c3d93b5&scoped=true&lang=scss\"","<template >\n  <div id=\"milkfarm-app\" :style=\"cssVars\">\n    <!--<router-view v-slot=\"{ Component }\">\n      <transition name=\"fade\" mode=\"out-in\">\n        <component :is=\"Component\" />\n      </transition>\n    </router-view>-->\n    <component :is=\"menu.activeComponent\"\n               v-bind=\"{ menu: this.menu }\"\n               v-on:goto-view=\"(view) => {menu.activeComponent = view}\"\n               v-on:close=\"menu.activeComponent = 'StartMenu'\">\n    </component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport GameView from '@/components/GameView.vue'\nimport Menu from \"@/Menu\"\nimport StartMenu from \"@/components/StartMenu.vue\"\nimport DialogueView from \"@/components/DialogueView.vue\"\nimport globalState from \"@/store/globalState\"\nimport HandView from \"@/components/HandView.vue\"\n\n@Options({\n  components: {\n    GameView, StartMenu, DialogueView, HandView\n  },\n  methods: {\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/flowers.png') + ')'\n      }\n    }\n  }\n})\nexport default class App extends Vue {\n  menu: Menu = new Menu()\n}\n</script>\n\n<style lang=\"scss\">\n@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700');\n@import url('https://fonts.googleapis.com/css?family=Maven+Pro:500');\n//@import url('https://fonts.googleapis.com/css?family=Croissant+One'); // The Blushing Defeat title font\n\nhtml {\n  height: 100%;\n}\nbody {\n  background-color: #353540;\n  margin: 0;\n  min-height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  & > * {\n    flex-shrink: 0;\n  }\n}\n#app {\n  flex-grow: 1;\n\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  & > * {\n    flex-shrink: 0;\n  }\n}\n#milkfarm-app {\n  flex-grow: 1;\n\n  //font-family: Avenir, Helvetica, Arial, sans-serif;\n  font-family: \"Open Sans\", \"Helvetica Neue\", Avenir, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100%;\n  color: #fefefe;\n  position: relative;\n  background: var(--background-image), linear-gradient(180deg, rgba(#7f2c53, 1), rgba(#520000, 1));\n  //background-image: url(\"https://www.transparenttextures.com/patterns/black-thread-light.png\");\n  background-repeat: repeat;\n  background-attachment: scroll;\n  //overflow-x: auto;\n\n  h1, h2, h3, h4, h5 {\n    font-family: \"Maven Pro\", \"Open Sans\", \"Helvetica Neue\", Avenir, Helvetica, Arial, sans-serif;\n  }\n}\na {\n  color: white;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n$border-radius: 8px;\n$window-background-color: #341224;\n\n.window {\n  background: $window-background-color;\n  padding: 10px;\n  border: 2px solid black;\n  border-radius: $border-radius;\n}\n</style>\n","<template>\n  <div class=\"milkfarm\" v-if=\"isLoaded\">\n    <div class=\"cards-wrapper drawn-cards\">\n      <div class=\"cards\" :class=\"{'tight': game.state.drawnCards.length > 8}\">\n        <template v-for=\"card in game.drawnCards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card); game.clickCard(card);\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n    <div class=\"window dialogue\">\n      <div class=\"text\">\n        {{ game.currentDialogue }}\n      </div>\n      <div class=\"round-counter\">\n        <h3 v-if=\"game.round.value > 0\">{{ game.roundString }}</h3>\n        <h1 v-else style=\"margin: 0; padding: 0;\">Ditzy Dice</h1>\n      </div>\n      <div v-if=\"game.state.cardsToPick > 0\" class=\"cards-to-pick\">\n        <h3>Picked {{ game.state.cardsPickedThisRound }} of {{ game.state.cardsToPick }} cards</h3>\n      </div>\n      <div v-if=\"game.round.value > 0 && game.stageId !== 'bonus'\" class=\"bonus-rolls\">\n        <h3>Bonus rolls: {{ game.state.bonusRolls.value }} / {{ game.state.bonusRolls.max }}</h3>\n      </div>\n      <TextButton v-if=\"game.allowNextStage()\" class=\"next-button\" @click=\"game.nextStage()\">\n        <p style=\"margin: 0;\">{{ game.buttonLabel }}</p>\n      </TextButton>\n    </div>\n    <div class=\"cards-wrapper picked-cards\">\n      <div class=\"cards\" :class=\"{'tight': game.state.pickedCards.length > 5}\">\n        <template v-for=\"card in game.state.pickedCards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card)\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n    <div class=\"dices\">\n      <template v-for=\"die in game.state.dice\" v-bind:key=\"die\">\n        <DiceView :dice=\"die\"></DiceView>\n      </template>\n      <div class=\"dice-view add-dice\" v-if=\"game.allowDiceBuy()\" @click=\"game.buyDice()\">\n        <p>+</p>\n      </div>\n    </div>\n    <div class=\"window credits\">\n      <h2 style=\"margin: 0;\">Credits</h2>\n      <PatreonButton></PatreonButton>\n      <div>\n        <p>Artist</p>\n        <p>Artist</p>\n        <p>Artist</p>\n      </div>\n    </div>\n    <!--<keep-alive>\n      <component :is=\"selectedTab\" v-bind=\"currentProperties\"></component>\n    </keep-alive>-->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class GameView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n</script>\n\n<style lang=\"scss\">\n.window {\n\n}\n</style>\n\n<style scoped lang=\"scss\">\n  $border-radius: 8px;\n  $window-background-color: #341224;\n\n  .window {\n    background: $window-background-color;\n    padding: 10px;\n    border: 2px solid black;\n    border-radius: $border-radius;\n  }\n\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-rows: 400px 200px 200px 100px;\n    grid-template-areas:\n      \"c c\"\n      \"p s\"\n      \"p s\"\n      \". d\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    min-height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1000px){\n      padding: 10px;\n    }\n\n    @media only screen and (min-width: 1700px){\n      padding-left: 100px;\n      padding-right: 100px;\n    }\n  }\n\n  .dialogue {\n    grid-area: s;\n\n    display: grid;\n    grid-template-rows: 30px 30px 40px 1fr 50px;\n    grid-template-columns: 2fr 2fr 1fr 2fr;\n    grid-template-areas:\n      \"r r . b\"\n      \"p p . b\"\n      \". . . .\"\n      \"t t t t\"\n      \". . . n\";\n\n    width: 40vw;\n    max-width: 700px;\n    white-space: pre-wrap;\n\n    @media only screen and (max-width: 1000px){\n      grid-template-rows: 25px 25px 40px 1fr 50px;\n      grid-template-columns: 1fr 1fr 1fr;\n      grid-template-areas:\n      \"r r b\"\n      \"p p b\"\n      \". . .\"\n      \"t t t\"\n      \". . n\";\n    }\n\n    .text {\n      grid-area: t;\n    }\n\n    .next-button {\n      grid-area: n;\n    }\n\n    .round-counter {\n      grid-area: r;\n    }\n\n    .cards-to-pick {\n      grid-area: p;\n    }\n\n    .bonus-rolls {\n      grid-area: b;\n    }\n  }\n\n  .drawn-cards {\n    grid-area: c;\n    z-index: 10;\n\n    @media only screen and (max-width: 1400px){\n      .cards {\n        grid-auto-columns: 100px;\n      }\n      .tight {\n        grid-auto-columns: 75px !important;\n      }\n    }\n    @media only screen and (max-width: 1100px){\n      .cards {\n        grid-auto-columns: 50px;\n      }\n      .tight {\n        grid-auto-columns: 50px !important;\n      }\n    }\n\n    .tight {\n      grid-auto-columns: 100px;\n    }\n  }\n\n  .picked-cards {\n    grid-area: p;\n    background-color: rgba($window-background-color, 0.25);\n\n    .cards {\n      grid-auto-columns: 100px;\n    }\n\n    @media only screen and (max-width: 1400px){\n      .cards {\n        grid-auto-columns: 50px;\n      }\n    }\n\n    .tight {\n      grid-auto-columns: 50px;\n    }\n  }\n\n  .cards-wrapper {\n    overflow-x: auto;\n    overflow-y: visible;\n\n    border: 3px solid black;\n    border-radius: $border-radius;\n  }\n\n  .cards {\n    display: grid;\n    grid-auto-columns: 150px;\n    grid-template-rows: 200px;\n    grid-auto-flow: column;\n    grid-gap: 10px;\n    transform: scale(1);\n    transform-origin: top left;\n    height: 0; // Just a small height. Could be 0. If not limited, page size gets messed up when scaling.\n    width: 100%; // 100% * 2 (due to scaling with 0.5) to fill up entire space\n    //margin-top: 10px;\n  }\n\n  .scaled {\n    transform: scale(1.06);\n    z-index: 2;\n    border-color: #939393;\n  }\n\n  .dices {\n    grid-area: d;\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 100px);\n    grid-auto-rows: 100px;\n    grid-template-rows: 100px;\n    grid-gap: 3px;\n\n    //background-color: #1E6BB8;\n  }\n\n  .add-dice {\n    background-color: rgba(#fff0e8, 0.75);\n    border-color: rgba(black, 0.9);\n    color: rgba(black, 0.9);\n  }\n\n  .credits {\n    display: none;\n  }\n\n  .value-meter {\n    height: 50px;\n    background-color: #222;\n\n    .milk-label {\n      margin: 0;\n      mix-blend-mode: exclusion;\n      color: #fff;\n      font-weight: bold;\n    }\n  }\n\n</style>\n","<template>\n  <div class=\"value-meter\" :style=\"cssVars\">\n    <div class=\"filled-bar\"></div>\n    <div class=\"label\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueRange from '@/effects/ValueRange'\n\n@Options({\n  props: {\n    container: ValueRange,\n    barColor: String,\n    backgroundColor: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--percent-filled': this.container.fraction * 100 + '%',\n        '--background-color': this.backgroundColor,\n        '--bar-color': this.barColor\n      }\n    }\n  }\n})\nexport default class ValueMeter extends Vue {\n  container!: ValueRange | undefined\n  backgroundColor: string = '#282c3b'\n  barColor: string = '#741A32'\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .value-meter {\n    border: 1px solid black;\n    border-radius: 0;\n    background-color: var(--background-color);\n    position: relative;\n    height: 1em;\n  }\n\n  .filled-bar {\n    height: 100%;\n    transition: width 0.1s linear;\n\n    border-radius: 0;\n    background-color: var(--bar-color);\n    width: var(--percent-filled);\n  }\n\n  .label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    display: grid;\n    place-items: center;\n  }\n\n</style>\n","import axios from \"axios\"\nimport Hjson from \"hjson\"\n\nexport default {\n  baseUrl(): string {\n    return process.env.VUE_APP_BASE_URL\n  },\n  wait(ms: number) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, ms)\n    })\n  },\n  /**\n   * Fetches a HJSON or JSON file from the public folder.\n   * @param path relative to the public folder with no leading slash. Ex: 'research/research-tree.hjson'\n   */\n  async fetchHjson(path: string) {\n    let response = await axios.get(\n      this.baseUrl() + '/' + path,\n      { transformResponse: [(data) => { return data }] }) // Return pure data, do not auto-convert to json\n\n    let data = response.data\n    let info = Hjson.parse(data)\n    return info\n  },\n  async getInfo(id: string) {\n    return await this.fetchHjson(id + '/info.hjson')\n  },\n  isVideo(url: string) {\n    return /\\.webm$/i.test(url)\n  },\n  sample(array: any[]): any {\n    return array[Math.floor(Math.random() * array.length)]\n  },\n  timeToDays(time: number): number {\n    return time / 60\n  },\n  currentDate(time: number): string {\n    let day = Math.floor(this.timeToDays(time))\n    let timeofday = ((time % 60) / 60 * 24)\n    let hour = Math.floor(timeofday)\n    let minute = ((timeofday - hour) * 60)\n    return `Day ${day}, ${hour.toFixed(0).padStart(2, '0')}:${minute.toFixed(0).padStart(2, '0')}`\n  },\n  displayTime(time: number): string {\n    let day = Math.floor(this.timeToDays(time))\n    let timeofday = ((time % 60) / 60 * 24)\n    let hour = Math.floor(timeofday)\n    let minute = ((timeofday - hour) * 60)\n\n    let s = \"\"\n    if (day == 1) s += `${day} day`\n    if (day > 1) s += `${day} days`\n    if (day >= 1 && hour > 0) s += \", \"\n    if (hour == 1) s += `${hour} hour`\n    if (hour > 1) s += `${hour} hours`\n    if (day == 0 && hour == 0) s = `${minute} minutes`\n    return s\n  },\n  uuid(): string {\n    return (\"\" + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n      (Number(c) ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> Number(c) / 4).toString(16)\n    )\n  },\n  capitalize(s: string): string {\n    return s.charAt(0).toUpperCase() + s.substr(1)\n  },\n  pickFrom<E>(list: E[], fraction: number): E {\n    let index = this.clamp(Math.round(fraction * (list.length - 1)), 0, list.length - 1)\n    return list[index]\n  },\n  clamp(value: number, min: number, max: number) {\n    return Math.max(Math.min(value, max), min)\n  },\n  /**\n   *\n   * @param value the number that should be formatted\n   * @param relative this number determines how the value should be formatted. If not given, value is used for this.\n   */\n  showNumber(value: number, relative: number | undefined = undefined): string {\n    if (relative == undefined) relative = value\n\n    if (relative < 1) return value.toFixed(2)\n    else if (relative < 10) return value.toFixed(1)\n    return value.toFixed(0)\n  },\n  /** Ensure that a value is one of the possible values, if not, will return the first possible value as default. */\n  ensure(value: any, possibilities: any[]): any {\n    if (possibilities.find(v => v == value)) {\n      return value\n    }\n    return possibilities[0]\n  },\n  shuffle(array: any[]) {\n    let currentIndex = array.length; let temporaryValue; let randomIndex\n\n    // While there remain elements to shuffle...\n    while (currentIndex !== 0) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex)\n      currentIndex -= 1\n\n      // And swap it with the current element.\n      temporaryValue = array[currentIndex]\n      array[currentIndex] = array[randomIndex]\n      array[randomIndex] = temporaryValue\n    }\n    return array\n  }\n}\n","import CollectionPlayer from \"@/employee/CollectionPlayer\"\nimport util from \"@/util\"\nimport { identifier, list, map, primitive, serializable } from \"serializr\"\n\nexport default class ValueMod {\n  @serializable(identifier())\n  public readonly uuid: string = util.uuid()\n  @serializable\n  public readonly type: string = 'add' // add, mul\n  @serializable\n  public readonly value: number = 0\n\n  constructor(value: number, type: string) {\n    this.type = type\n    this.value = value\n  }\n\n  static activate(value: number, mod: ValueMod): number {\n    if (mod.type === 'add') return value + mod.value\n    else if (mod.type === 'mul') return value * mod.value\n\n    return value\n  }\n\n  /**\n   * Returns the value that could be activated to become X, where X is the input value\n   * @param value X\n   * @param mod\n   */\n  static reverseActivate(value: number, mod: ValueMod): number {\n    if (mod.type === 'add') return value - mod.value\n    else if (mod.type === 'mul') return value * (1 / mod.value)\n    return value\n  }\n\n  /**\n   * Activate all mods on a value. This uses a predefined order of activation.\n   * @param value the value to modify\n   * @param mods\n   */\n  static activateAll(value: number, mods: ValueMod[]): number {\n    for (let mod of mods) {\n      if (mod.type === 'add') value = ValueMod.activate(value, mod)\n    }\n\n    for (let mod of mods) {\n      if (mod.type === 'mul') value = ValueMod.activate(value, mod)\n    }\n\n    return value\n  }\n\n  /**\n   * Reverse-activates all mods on a value. This uses a predefined order of activation.\n   * @param value the value to modify\n   * @param mods\n   */\n  static reverseActivateAll(value: number, mods: ValueMod[]): number {\n    for (let mod of mods.reverse()) {\n      if (mod.type === 'mul') value = ValueMod.reverseActivate(value, mod)\n    }\n\n    for (let mod of mods.reverse()) {\n      if (mod.type === 'add') value = ValueMod.reverseActivate(value, mod)\n    }\n\n    return value\n  }\n\n  equals(mod: ValueMod) {\n    return this.value == mod.value && this.type == mod.type\n  }\n\n  toString(): string {\n    let s = \"\"\n    let value = util.showNumber(Math.abs(this.value))\n    let type = \"\"\n    if (this.type === 'add') {\n      if (this.value > 0) s = `+${value}`\n      else s = `-${value}`\n    } else if (this.type === 'mul') {\n      s = `x${value}`\n    }\n    return s\n  }\n}\n","import CollectionPlayer from \"@/employee/CollectionPlayer\"\nimport util from \"@/util\"\nimport { list, map, object, primitive, serializable } from \"serializr\"\nimport ValueMod from \"@/effects/ValueMod\"\n\nexport type MapStringAny = { [index: string]: any }\n\nexport default class ValueRange {\n  @serializable\n  private _baseValue: number = 0\n  @serializable\n  private readonly _min: number = 0\n  @serializable\n  private readonly _max: number = 0\n\n  @serializable(map(object(ValueMod)))\n  public valueMods: MapStringAny = {}\n\n  @serializable(map(object(ValueMod)))\n  public minMods: MapStringAny = {}\n\n  @serializable(map(object(ValueMod)))\n  public maxMods: MapStringAny = {}\n\n  @serializable(list(primitive()))\n  private readonly texts: string[] = []\n\n  @serializable\n  public readonly capBaseValue: boolean = false // If true, setting baseValue outside min/max range will not work\n\n  constructor(value: number, min: number, max: number | undefined = undefined, text: string[] = [], capBaseValue = false) {\n    this._baseValue = value\n    this._min = min\n    this._max = (max == undefined) ? Number.MAX_SAFE_INTEGER : max\n    this.texts = text\n    this.capBaseValue = capBaseValue\n  }\n\n  /**\n   * Adds the given amount to the current final value.\n   * @param value\n   * @return how much the value was changed\n   */\n  addValue(value: number): number {\n    let mulMods = []\n    for (let key in this.valueMods) {\n      let mod = this.valueMods[key]\n      if (mod.type == 'mul') mulMods.push(mod)\n    }\n    let oldValue = this.value\n    let oldBase = this.baseValue\n    this.baseValue += ValueMod.reverseActivateAll(value, mulMods)\n    return this.value - oldValue\n  }\n\n  /**\n   * Adds the given amount to the current base value.\n   * @param value\n   * @return how much the base value was actually changed\n   */\n  addBaseValue(value: number): number {\n    let oldBase = this.baseValue\n    this.baseValue += value\n\n    return this.baseValue - oldBase\n  }\n\n  set fraction(fraction: number) {\n    this.baseValue = this.min + this.max * fraction\n  }\n\n  get fraction(): number {\n    return (this.value - this.min) / (this.max - this.min)\n  }\n\n  get value(): number {\n    let sum = ValueMod.activateAll(this._baseValue, Object.values(this.valueMods))\n\n    if (sum > this.max) {\n      return this.max\n    } else if (sum < this.min) {\n      return this.min\n    } else {\n      return sum\n    }\n  }\n\n  set baseValue(value: number) {\n    if (this.capBaseValue) {\n      value = Math.max(Math.min(value, this.max), this.min)\n    }\n    this._baseValue = value\n  }\n\n  get baseValue(): number {\n    return this._baseValue\n  }\n\n  get min(): number {\n    return ValueMod.activateAll(this._min, Object.values(this.minMods))\n  }\n\n  //set min(value: number) {\n  //  this._min = value;\n  //}\n\n  get max(): number {\n    return ValueMod.activateAll(this._max, Object.values(this.maxMods))\n  }\n\n  //set max(value: number) {\n  //  this._max = value;\n  //}\n\n  get text(): string {\n    if (this.texts.length == 0) return this.value.toFixed(1)\n    return util.pickFrom(this.texts, this.fraction)\n  }\n\n  load(state: ValueRange) {\n    //this._min = state._min\n    //this._max = state._max\n    this._baseValue = state._baseValue\n  }\n\n  get copy(): ValueRange {\n    let v = new ValueRange(this._baseValue, this._min, this._max, this.texts)\n    v.valueMods = this.valueMods\n    return v\n  }\n}\n","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueRange from '@/effects/ValueRange'\n\n@Options({\n  props: {\n    container: ValueRange,\n    barColor: String,\n    backgroundColor: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--percent-filled': this.container.fraction * 100 + '%',\n        '--background-color': this.backgroundColor,\n        '--bar-color': this.barColor\n      }\n    }\n  }\n})\nexport default class ValueMeter extends Vue {\n  container!: ValueRange | undefined\n  backgroundColor: string = '#282c3b'\n  barColor: string = '#741A32'\n}\n","import { render } from \"./ValueMeter.vue?vue&type=template&id=ef28c724&scoped=true\"\nimport script from \"./ValueMeter.vue?vue&type=script&lang=ts\"\nexport * from \"./ValueMeter.vue?vue&type=script&lang=ts\"\n\nimport \"./ValueMeter.vue?vue&type=style&index=0&id=ef28c724&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ef28c724\"\n\nexport default script","<template>\n  <div class=\"text-button\" onselectstart=\"return false\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    icon: String\n  }\n})\nexport default class TextButton extends Vue {\n  icon!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n.text-button {\n  color: $text-light;\n  padding: 0.5em;\n  cursor: pointer;\n  background-color: $component-button;\n\n  transition: background-color $selection-time;\n\n  &:hover {\n    background-color: scale-color(lighten($component-button, 10%), $saturation: 30%);\n  }\n  &:active {\n    background-color: scale-color(darken($component-button, 5%), $saturation: -5%);\n  }\n\n  display: grid;\n  align-items: center;\n  justify-content: center;\n}\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    icon: String\n  }\n})\nexport default class TextButton extends Vue {\n  icon!: string\n}\n","import { render } from \"./TextButton.vue?vue&type=template&id=2ba6bbe6&scoped=true\"\nimport script from \"./TextButton.vue?vue&type=script&lang=ts\"\nexport * from \"./TextButton.vue?vue&type=script&lang=ts\"\n\nimport \"./TextButton.vue?vue&type=style&index=0&id=2ba6bbe6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2ba6bbe6\"\n\nexport default script","import { reactive, toRefs } from 'vue'\nimport util from \"@/util\"\n\nconst state = reactive({\n  loading: true,\n  cardFamilyString: \"\" as string,\n  dialogueString: \"\" as string\n})\n\nexport default function globalState() {\n  const load = async () => {\n    state.loading = true\n    let familyList = await util.fetchHjson('cards/series.hjson')\n    let families: any = []\n    for (let familyPath of familyList) {\n      let family: any = await util.fetchHjson(`cards/${familyPath}`)\n      families.push(family)\n    }\n    state.cardFamilyString = JSON.stringify(families)\n\n    let dialogue = await util.fetchHjson('dialogue.hjson')\n    state.dialogueString = JSON.stringify(dialogue)\n\n    state.loading = false\n  }\n\n  return { ...toRefs(state), load }\n}\n","<template>\n  <div class=\"playing-card\" :class=\"{'single-card': card.type === 'single', 'child-card': card.hasParent, 'highlight': card.highlight}\" :style=\"cssVars\">\n    <div class=\"title-field\" title=\"Name of this card\">\n      <h3>{{ card.title }}</h3>\n    </div>\n    <div class=\"levels-field\" title=\"Level of this card / Max level of this card\">\n      <h3>{{ card.levelString }}</h3>\n    </div>\n    <div class=\"thumb-container\">\n      <img class=\"thumb\" :src=\"card.thumb\"/>\n    </div>\n    <div v-if=\"card.subtitle !== ''\" class=\"subtitle-field\" title=\"Name of this level of this card\">\n      <h3>{{ card.subtitle }}</h3>\n    </div>\n    <div class=\"description-field\">\n      <p>{{ card.description }}</p>\n    </div>\n    <div class=\"artist-field\">\n      <p>{{ card.artist }}</p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../Card\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    card: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n        '--background-hue': this.card.hue,\n        '--background-image': 'url(' + require('@/assets/black-felt.png') + ')'\n      }\n    }\n  }\n})\nexport default class PlayingCard extends Vue {\n  card!: Card\n}\n</script>\n\n<style scoped lang=\"scss\">\nh1, h2, h3, h4, h5, p {\n  margin: 0;\n  line-height: 1;\n}\n\np {\n  font-size: 11px;\n  line-height: 1.2;\n}\n\n$text-field-color: var(--background-color);//var(--background-color);\n$text-color: #111;\n\n.playing-card {\n  background: hsl(var(--background-hue), 100%, 30%) var(--background-image);\n  border: 2px solid var(--border-color);\n  border-radius: 4px;\n  padding: 5px 5px;\n  cursor: pointer;\n  user-select: none;\n  color: $text-color;\n  width: 240px;\n  height: 350px;\n\n  position: relative;\n  display: grid;\n  grid-template-columns: 6fr 2fr;\n  grid-template-rows: 30px 1fr 30px 1fr;\n  grid-template-areas:\n    \"t l\"\n    \"i i\"\n    \"i i\"\n    \"d d\";\n  grid-gap: 2px;\n\n  backface-visibility: hidden;\n  transition: transform 0.2s, border-color 0.1s;\n  transform-origin: top left;\n  transform: scale(1);\n\n  &:hover {\n    transform: scale(1.06);\n    z-index: 2;\n  }\n}\n\n.single-card {\n  //grid-template-columns: 6fr 2fr;\n  //grid-template-rows: 30px 1fr 30px 1fr;\n  grid-template-areas:\n    \"t t\"\n    \"i i\"\n    \"i i\"\n    \"d d\";\n\n  .levels-field {\n    display: none;\n  }\n}\n\n.child-card {\n  grid-template-columns: 12fr 3fr;\n  grid-template-rows: 30px 1fr 30px 1fr;\n  grid-template-areas:\n    \"t t\"\n    \"i i\"\n    \"s l\"\n    \"d d\";\n}\n\n.highlight {\n  border-color: $highlight-color;\n  transform: scale(1.03);\n  z-index: 1;\n}\n\n.bold-field {\n  background: linear-gradient(hsl(var(--background-hue), 80%, 90%), hsl(var(--background-hue), 60%, 60%));\n  //background-color: #aaa;\n  //background-blend-mode: overlay;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  padding: 4px 4px;\n}\n\n.title-field {\n  @extend .bold-field;\n  grid-area: t;\n\n  h3 {\n    font-size: 15px;\n    line-height: 1.1;\n  }\n}\n\n.subtitle-field {\n  @extend .bold-field;\n  grid-area: s;\n\n  h3 {\n    font-size: 14px;\n    line-height: 1.1;\n  }\n}\n\n.levels-field {\n  @extend .bold-field;\n  grid-area: l;\n  text-align: center;\n  h3 {\n    font-size: 14px;\n    line-height: 1.1;\n  }\n}\n\n.thumb-container {\n  grid-area: i;\n\n  background: #333;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n\n  overflow: hidden;\n}\n\n.thumb {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: 50% 50%;\n  pointer-events: none;\n  user-select: none;\n}\n\n.description-field {\n  grid-area: d;\n\n  background-color: hsla(var(--background-hue), 80%, 100%, 60%);\n  //background-image: linear-gradient($text-field-color, $text-field-color);\n  //background-color: #777;\n  background-blend-mode: multiply;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  padding: 4px 8px;\n\n  white-space: pre-wrap;\n}\n\n.artist-field {\n  position: absolute;\n  bottom: 5px;\n  right: 4px;\n  padding-top: 1px;\n  padding-left: 12px;\n  padding-right: 5px;\n  //width: 80px;\n  background: hsl(var(--background-hue), 100%, 30%) var(--background-image);\n  border-top-left-radius: 100px;\n  border-left: 1px solid var(--border-color);\n  border-top: 1px solid var(--border-color);\n\n  text-align: left;\n  color: hsl(var(--background-hue), 70%, 65%);\n\n  p {\n    font-size: 9px;\n    line-height: 1;\n  }\n}\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../Card\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    card: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n        '--background-hue': this.card.hue,\n        '--background-image': 'url(' + require('@/assets/black-felt.png') + ')'\n      }\n    }\n  }\n})\nexport default class PlayingCard extends Vue {\n  card!: Card\n}\n","import { render } from \"./PlayingCard.vue?vue&type=template&id=bf0c33c8&scoped=true\"\nimport script from \"./PlayingCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PlayingCard.vue?vue&type=script&lang=ts\"\n\nimport \"./PlayingCard.vue?vue&type=style&index=0&id=bf0c33c8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-bf0c33c8\"\n\nexport default script","export default class Card {\n  public readonly family: any\n  public readonly thumb: string\n  public readonly name: string\n  public readonly description: string\n  public readonly levels: Card[]\n  public readonly type: string // numeric, select, single\n  public readonly hue: number\n  public readonly artist: string\n\n  private readonly parent: Card\n\n  public scale: boolean = false\n  public highlight: boolean = false\n\n  constructor(state: any) {\n    this.family = state.family ? state.family : \"None\"\n\n    this.thumb = state.thumb\n    this.name = state.name\n    this.description = state.description\n    this.levels = state.levels ? state.levels : []\n    this.type = state.type ? state.type : \"single\"\n    this.parent = state.parent\n    this.hue = state.hue ? state.hue : 0\n    this.artist = state.artist ? state.artist : \"Gardamuse\"\n  }\n\n  get title(): string {\n    if (this.hasParent) return `${this.parent.name}`\n    return this.name\n  }\n\n  get subtitle(): string {\n    if (this.hasParent) return `${this.name}`\n    return \"\"\n  }\n\n  get level(): number {\n    if (this.hasParent) {\n      return this.parent.levels.findIndex((c: Card) => { return c.name == this.name }) + 1\n    }\n    return 0\n  }\n\n  get maxLevel(): number {\n    if (this.hasParent) {\n      return this.parent.levels.length\n    }\n    return this.levels.length\n  }\n\n  get levelString(): string {\n    if (this.type == \"single\") return \"1\"\n    if (this.isParent) return this.maxLevel.toFixed(0)\n    return `${this.level} / ${this.maxLevel}`\n  }\n\n  getLevel(level: number): Card {\n    if (this.type != \"single\" && level < this.levels.length) {\n      return this.levels[level]\n    }\n    return this\n  }\n\n  get hasParent(): boolean {\n    return this.parent != undefined\n  }\n\n  get isParent(): boolean {\n    return this.type != \"single\" && this.levels.length > 0\n  }\n}\n","<template>\n  <div class=\"dice-view\" :class=\"{'locked-dice': dice.locked}\" :style=\"cssVars\" @click=\"dice.roll()\">\n    <p>{{ dice.value }} / {{ dice.max }}</p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../Card\"\nimport Dice from \"@/Dice\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    dice: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n      }\n    }\n  }\n})\nexport default class DiceView extends Vue {\n  dice!: Dice\n}\n</script>\n\n<style lang=\"scss\">\n.dice-view {\n  background: #fff0e8;\n  color: #111;\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n  border: 3px solid black;\n  border-radius: 4px;\n  padding: 5px 5px;\n  cursor: pointer;\n  user-select: none;\n\n  // Align content vertically\n  display: table;\n  p {\n    display: table-cell;\n    vertical-align: middle;\n  }\n\n  backface-visibility: hidden;\n  transition: transform 0.2s, border-color 0s;\n  transform-origin: top;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  &:active {\n    border-color: #efa200;\n    color: #efa200;\n  }\n}\n\n.locked-dice {\n  color: #222;\n  background: #777068;\n  cursor: default;\n\n  &:hover {\n    transform: scale(1);\n  }\n\n  &:active {\n    border-color: var(--border-color);\n    color: #222;\n  }\n}\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../Card\"\nimport Dice from \"@/Dice\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    dice: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n      }\n    }\n  }\n})\nexport default class DiceView extends Vue {\n  dice!: Dice\n}\n","import { render } from \"./DiceView.vue?vue&type=template&id=0db4f4f9\"\nimport script from \"./DiceView.vue?vue&type=script&lang=ts\"\nexport * from \"./DiceView.vue?vue&type=script&lang=ts\"\n\nimport \"./DiceView.vue?vue&type=style&index=0&id=0db4f4f9&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <a href=\"https://www.patreon.com/gardamuse\" :style=\"cssVars\" class=\"patreon-button\" />\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    label: String\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/patreon-banner.webp') + ')'\n      }\n    }\n  }\n})\nexport default class PatreonButton extends Vue {\n  label!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n.patreon-button {\n  background: var(--background-image);\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: block;\n  width: 1fr;\n  //max-width: 300px;\n  height: 200px;\n  margin: 10px auto;\n  border: $component-border-style;\n  backface-visibility: hidden;\n  transition: transform 0.3s;\n\n  &:hover {\n    transform: scale(1.024) translateY(0px) translateX(0px);\n  }\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    label: String\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/patreon-banner.webp') + ')'\n      }\n    }\n  }\n})\nexport default class PatreonButton extends Vue {\n  label!: string\n}\n","import { render } from \"./PatreonButton.vue?vue&type=template&id=d5159fe2&scoped=true\"\nimport script from \"./PatreonButton.vue?vue&type=script&lang=ts\"\nexport * from \"./PatreonButton.vue?vue&type=script&lang=ts\"\n\nimport \"./PatreonButton.vue?vue&type=style&index=0&id=d5159fe2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-d5159fe2\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class GameView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n","import { render } from \"./GameView.vue?vue&type=template&id=5f1fbe3b&scoped=true\"\nimport script from \"./GameView.vue?vue&type=script&lang=ts\"\nexport * from \"./GameView.vue?vue&type=script&lang=ts\"\n\nimport \"./GameView.vue?vue&type=style&index=0&id=5f1fbe3b&lang=scss\"\nimport \"./GameView.vue?vue&type=style&index=1&id=5f1fbe3b&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5f1fbe3b\"\n\nexport default script","import Hjson from \"hjson\"\nimport globalState from \"@/store/globalState\"\nimport Card from \"@/Card\"\nimport util from \"@/util\"\n\nexport default class Deck {\n  public cards: Card[]\n\n  constructor(cards: Card[] | undefined = undefined) {\n    if (cards != undefined) {\n      this.cards = cards\n    } else {\n      this.cards = this.parseCards()\n    }\n  }\n\n  /** Returns a new deck with this one's cards, but with all cards of a given family removed. */\n  withoutFamily(family: string): Deck {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (card.family.name != family) cards.push(card)\n    }\n    return new Deck(cards)\n  }\n\n  /**\n   * Returns the cards on 1-based indices specified by values.\n   * @param values\n   */\n  pick(values: number[]) {\n    let cards: Card[] = []\n    for (let i = 0; i < this.cards.length; i++) {\n      for (let value of values) {\n        if (i == value - 1) cards.push(this.cards[i])\n      }\n    }\n    return cards\n  }\n\n  draw(value: number): Card[] {\n    let cards: Card[] = []\n    for (let i = 0; i < value; i++) {\n      let card: Card | undefined = this.cards.pop()\n      if (card != undefined) cards.push(card)\n      else break\n    }\n    return cards\n  }\n\n  /** Draws the card with given index. */\n  drawIndex(index: number) {\n    return this.cards.splice(index, 1)[0]\n  }\n\n  removeCard(card: Card) {\n    let i = this.cards.findIndex(c => c.name == card.name && c.description == card.description)\n    if (i != -1) this.drawIndex(i)\n  }\n\n  size(): number {\n    return this.cards.length\n  }\n\n  shuffle() {\n    this.cards = util.shuffle(this.cards)\n  }\n\n  get pickableCards(): Card[] {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (!card.isParent) cards.push(card)\n      for (let i = 0; i < card.levels.length; i++) {\n        cards.push(card.getLevel(i))\n      }\n    }\n    return cards\n  }\n\n  get allLevels(): Card[] {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      cards.push(card)\n      for (let i = 0; i < card.levels.length; i++) {\n        cards.push(card.getLevel(i))\n      }\n    }\n    return cards\n  }\n\n  private parseCards(): Card[] {\n    let families: any = JSON.parse(globalState().cardFamilyString.value)\n    let cards = []\n    for (let family of families) {\n      for (let card of family.cards) {\n        let levels: Card[] = []\n        if (card.levels != undefined) {\n          for (let level of card.levels) {\n            levels.push(new Card({\n              family: family,\n              thumb: (level.thumb) ? `cards/${level.thumb}` : (card.thumb) ? `cards/${card.thumb}` : `cards/${family.thumb}`,\n              name: level.name,\n              description: level.description,\n              type: card.type,\n              levels: [],\n              parent: card,\n              hue: family.hue,\n              artist: (level.artist) ? level.artist : (card.artist) ? card.artist : (family.artist) ? family.artist : \"Gardamuse\"\n            }))\n          }\n        }\n        cards.push(new Card({\n          family: family,\n          thumb: (card.thumb) ? `cards/${card.thumb}` : `cards/${family.thumb}`,\n          name: card.name,\n          description: card.description,\n          type: card.type,\n          levels: levels,\n          hue: family.hue,\n          artist: (card.artist) ? card.artist : (family.artist) ? family.artist : \"Gardamuse\"\n        }))\n      }\n    }\n\n    return cards\n  }\n}\n","import Game from \"@/Game\"\n\nexport default class Dice {\n  private _value: number = 1\n  public max: number\n  private _locked: boolean = false\n  private isRolling: boolean = false\n  private valueUsed: boolean = true // True when dice has been rolled but its value has not yet been used\n\n  private game: Game\n\n  // @ts-ignore\n  constructor(max: number, game: Game = undefined) {\n    this.max = max\n    this.game = game\n  }\n\n  load(game: Game) {\n    this.game = game\n  }\n\n  roll() {\n    if (this.isRolling || this.locked) return\n    this.isRolling = true\n    this.rollingDice(10)\n  }\n\n  /** Returns the dice value and marks this dice as used until it is rolled again. */\n  useValue(): number {\n    this.valueUsed = true\n    return this.value\n  }\n\n  get isUsed(): boolean {\n    return this.valueUsed\n  }\n\n  private rollingDice(rollsLeft: number) {\n    if (rollsLeft > 0) {\n      this._value = rollsLeft\n      setTimeout(() => {\n        this.rollingDice(rollsLeft - 1)\n      }, 50)\n    } else {\n      this._value = Math.floor(Math.random() * this.max) + 1\n      this.valueUsed = false\n      this.game.notifyDiceRoll(this.value)\n      this.isRolling = false\n    }\n  }\n\n  set locked(value: boolean) {\n    this._locked = value\n  }\n\n  get locked(): boolean {\n    return this._locked || !this.isUsed\n  }\n\n  get value(): number {\n    return this._value\n  }\n\n  get rolling(): boolean {\n    return this.isRolling\n  }\n}\n","import Game from \"@/Game\"\nimport Card from \"@/Card\"\n\nexport default abstract class GameStage {\n  public id: string = \"stage\"\n  protected game: Game\n  protected args: any = {}\n  protected _nextStage: GameStage | undefined\n  protected _allowNext: boolean = true\n  protected _allowDiceBuy: boolean = false\n  public buttonLabel: string = \"Next\"\n  public activeComponent: string = \"GameView\"\n\n  protected constructor(game: Game) {\n    this.game = game\n  }\n\n  onStart() {}\n\n  onResume() {}\n\n  onDiceRoll(values: number[]) {}\n\n  onCardClick(card: Card) {}\n\n  /** Returns an arguments object for the next stage. */\n  output(): any {}\n\n  link(stage: GameStage): GameStage {\n    this._nextStage = stage\n    return stage\n  }\n\n  resumeStage(stage: GameStage) {\n    stage.onResume()\n    this.game.setStage(stage)\n  }\n\n  nextStage(stage: GameStage | undefined = undefined, args: any = undefined) {\n    if (stage != undefined) {\n      this.gotoNext(stage, args)\n    } else if (this._nextStage != undefined) {\n      this.gotoNext(this._nextStage, args)\n    } else {\n      this.game.setStage(this)\n    }\n  }\n\n  allowNext(): boolean {\n    return this._allowNext\n  }\n\n  allowDiceBuy(): boolean {\n    return this._allowDiceBuy\n  }\n\n  private gotoNext(stage: GameStage, args: any = undefined) {\n    stage.args = (args != undefined) ? args : this.output()\n    stage.onStart()\n    this.game.setStage(stage)\n  }\n\n  get text(): string {\n    return \"\"\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\n\nexport default class TextStage extends GameStage {\n  protected _text: string\n\n  constructor(game: Game, text: string = \"\") {\n    super(game)\n    this._text = text\n  }\n\n  get text(): string {\n    return this._text\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/Card\"\nimport Deck from \"@/Deck\"\nimport PickStage from \"@/stages/PickStage\"\nimport HighlightStage from \"@/stages/HighlightStage\"\n\nexport default class IntensityStage extends TextStage {\n  private pickStage!: PickStage\n  private parentCard!: Card\n  private deck: Deck = new Deck([])\n  private done: boolean = false\n\n  constructor(game: Game) {\n    super(game, \"\")\n  }\n\n  onStart() {\n    this.pickStage = this.args.pickStage\n    this.parentCard = this.args.parentCard\n    this._allowDiceBuy = (this.args.allowDiceBuy != undefined) ? this.args.allowDiceBuy : true\n    this._text = `Ah, you got ${this.parentCard.name}. ${this.game.dialogue['intensityStage']}`\n    this.done = false\n\n    this.deck = new Deck(this.parentCard.levels)\n    this.game.state.drawnCards = this.deck.cards\n    this.game.diceCount = 1\n    this.game.diceSize = this.deck.size()\n    this._allowNext = false\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.done) return\n    this.done = true\n    this.game.lockDice(true)\n\n    //let value = Math.min(...values)\n    //let intensity: Card = this.deck.cards[value - 1]\n    let intensities: Card[] = this.deck.pick(values)\n    this.nextStage(new HighlightStage(this.game), { pickStage: this.pickStage, highlightedCards: intensities })\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/Card\"\nimport Deck from \"@/Deck\"\nimport PickStage from \"@/stages/PickStage\"\nimport IntensityStage from \"@/stages/IntensityStage\"\n\nexport default class HighlightStage extends TextStage {\n  private pickStage!: PickStage\n  private highlightedCards: Card[] = []\n  private done: boolean = false\n\n  constructor(game: Game) {\n    super(game, \"\")\n  }\n\n  onStart() {\n    this.pickStage = this.args.pickStage\n    this.highlightedCards = this.args.highlightedCards\n    this._allowDiceBuy = (this.args.allowDiceBuy != undefined) ? this.args.allowDiceBuy : true\n    if (this.highlightedCards.length == 1) {\n      this._text = `Ah, you got ${this.highlightedCards[0].name}. Click on it to add it to your hand.`\n    } else {\n      this._text = `Because you rolled multiple dice you now get to choose one of the highlighted cards. Click on the one you want to add to your hand.`\n    }\n\n    for (let c of this.highlightedCards) {\n      c.highlight = true\n    }\n\n    this.done = false\n    this._allowNext = false\n  }\n\n  onCardClick(card: Card) {\n    if (card.highlight) {\n      for (let c of this.highlightedCards) {\n        c.highlight = false\n        c.scale = false\n      }\n      if (card.isParent) {\n        this.pickStage.deck.removeCard(card)\n        this.nextStage(new IntensityStage(this.game), { pickStage: this.pickStage, parentCard: card, allowDiceBuy: this._allowDiceBuy })\n      } else {\n        this.pickStage.deck.removeCard(card)\n        this.game.pickCard(card)\n        this.resumeStage(this.pickStage)\n      }\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport Deck from \"@/Deck\"\n\nexport default class EndStage extends TextStage {\n  private pickedCards: Card[] = []\n  private leftToPick: number = 0\n  public deck: Deck = new Deck([])\n\n  constructor(game: Game) {\n    super(game, \"\")\n  }\n\n  onStart() {\n    this.activeComponent = \"HandView\"\n    this._text = this.game.dialogue['endStage']\n    this._nextStage = this.game.stage1\n    this.buttonLabel = \"The End\"\n  }\n\n  nextStage(stage: GameStage | undefined = undefined, args: any = undefined) {\n    this.game.restart()\n    super.nextStage(stage, args)\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport Deck from \"@/Deck\"\nimport EndStage from \"@/stages/EndStage\"\n\nexport default class BonusStage extends TextStage {\n  private pickedCards: Card[] = []\n  private leftToPick: number = 0\n  public deck: Deck = new Deck([])\n\n  constructor(game: Game) {\n    super(game, \"\")\n    this.id = \"bonus\"\n  }\n\n  onStart() {\n    this._text = this.game.dialogue['bonusStage']\n    this.deck = new Deck(this.game.deck.withoutFamily('Reward').draw(12))\n    this.game.state.drawnCards = this.deck.cards\n\n    this.game.round.addValue(1)\n    this.game.state.cardsPickedThisRound = 0\n    this.leftToPick = this.game.state.bonusRolls.value\n    this.game.state.cardsToPick = this.leftToPick\n    this.game.diceCount = 2\n    this.game.diceSize = this.deck.size()\n    this._allowDiceBuy = false\n    this._allowNext = false\n\n    if (this.leftToPick == 0) {\n      this.onResume()\n    }\n  }\n\n  onResume() {\n    this.game.state.drawnCards = this.deck.cards\n    this.game.diceCount = 2\n    this.game.diceSize = this.deck.size()\n\n    if (this.leftToPick == 0) {\n      this.game.state.drawnCards = []\n      this.game.diceCount = 0\n      this.activeComponent = \"HandView\"\n      this._text = `Take a moment now, look at your cards.\\n\\nRead each one, if you still can read, that is.`\n      this._nextStage = new EndStage(this.game)\n      this._allowNext = true\n      this.game.lockDice(true)\n      //this.nextStage(new EndStage(this.game))\n    }\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.leftToPick > 0) {\n      this.leftToPick -= 1\n      this.pickedCards = this.deck.pick(values)\n      this.game.lockDice(true)\n\n      this.nextStage(new HighlightStage(this.game), { pickStage: this, highlightedCards: this.pickedCards, allowDiceBuy: false })\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/Card\"\nimport Deck from \"@/Deck\"\nimport IntensityStage from \"@/stages/IntensityStage\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport BonusStage from \"@/stages/BonusStage\"\n\nexport default class PickStage extends TextStage {\n  private pickedCards: Card[] = []\n  private leftToPick: number = 0\n  private diceCount: number = 1\n  public deck: Deck = new Deck([])\n\n  constructor(game: Game, text: string = \"\") {\n    super(game, \"\")\n  }\n\n  onStart() {\n    this._text = this.game.dialogue['pickStage']\n    this.deck = new Deck(this.args.drawnCards)\n    this.leftToPick = this.args.cardsToPick\n    this.pickedCards = []\n\n    this.diceCount = 1\n    this.game.diceCount = this.diceCount\n    this.game.diceSize = this.deck.size()\n    this._allowNext = false\n    this._allowDiceBuy = true\n  }\n\n  onResume() {\n    this.game.state.drawnCards = this.deck.cards\n    this.diceCount = Math.max(1, this.diceCount - 1)\n    this.game.diceCount = this.diceCount\n    this.game.diceSize = this.deck.size()\n    this._allowDiceBuy = true\n    if (this.leftToPick == 0) {\n      this._text = `Good job! You completed round ${this.game.round.value}.`\n      this.buttonLabel = \"Next round\"\n      this._allowNext = true\n      this.game.lockDice(true)\n\n      if (this.game.round.fraction == 1) {\n        if (this.game.state.bonusRolls.value > 0) {\n          this.buttonLabel = \"To Bonus Round\"\n        } else {\n          this.buttonLabel = \"Next\"\n        }\n        this._nextStage = new BonusStage(this.game)\n      }\n    }\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.leftToPick > 0) {\n      this.leftToPick -= 1\n      this.pickedCards = this.deck.pick(values)\n      this.game.lockDice(true)\n      this.diceCount = values.length\n\n      this.nextStage(new HighlightStage(this.game), { pickStage: this, highlightedCards: this.pickedCards })\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\n\nexport default class DrawStage extends TextStage {\n  private drawnCards: Card[] = []\n  private cardsToPick: number = 0\n\n  constructor(game: Game) {\n    super(game, \"\")\n  }\n\n  onStart() {\n    this._text = this.game.dialogue['drawStage']\n    this.cardsToPick = 0\n    this.drawnCards = this.game.deck.draw(8)\n    this.game.diceSize = Math.min(6, this.drawnCards.length)\n    this.game.state.drawnCards = this.drawnCards\n    this._allowNext = false\n    this.game.round.addValue(1)\n    this.game.state.cardsPickedThisRound = 0\n    this.game.state.cardsToPick = 0\n    this.game.diceCount = 1\n    this._allowDiceBuy = false\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.allowNext()) return\n    let value = Math.min(...values)\n    this.cardsToPick = value\n    this.game.state.cardsToPick = value\n    this._text = `You will have to draw ${value} cards this round.`\n    this._allowNext = true\n    this.game.lockDice(true)\n  }\n\n  output(): any {\n    return { drawnCards: this.drawnCards, cardsToPick: this.cardsToPick }\n  }\n\n  nextStage() {\n    if (this.allowNext()) super.nextStage()\n  }\n}\n","import { reactive, toRaw } from 'vue'\nimport Deck from \"@/Deck\"\nimport globalState from \"@/store/globalState\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/Card\"\nimport GameStage from \"@/stages/GameStage\"\nimport TextStage from \"@/stages/TextStage\"\nimport PickStage from \"@/stages/PickStage\"\nimport DrawStage from \"@/stages/DrawStage\"\nimport ValueRange from \"@/effects/ValueRange\"\nimport DialogueView from \"@/components/DialogueView.vue\"\n\nexport default class Game {\n  // State variables are all given default values in restart function\n  state = reactive({\n    deck: new Deck(),\n    dice: [] as Dice[],\n    drawnCards: [] as Card[],\n    pickedCards: [] as Card[],\n    playerHand: [] as Card[],\n    stage: new TextStage(this) as GameStage,\n    round: new ValueRange(0, 0, 3),\n    cardsToPick: 0,\n    cardsPickedThisRound: 0,\n    rewardRolls: new ValueRange(0, 0, 8),\n    bonusRolls: new ValueRange(0, 0, 8)\n  })\n\n  public dialogue: any\n  public stage1!: GameStage\n\n  constructor() {\n    this.dialogue = JSON.parse(globalState().dialogueString.value)\n\n    this.restart()\n    console.log(\"Deck size:\", this.state.deck.size())\n\n    // @ts-ignore\n    window.lookup = (name: string) => {\n      let index = this.deck.cards.findIndex((c: Card) => c.name == name)\n      this.state.drawnCards = [this.deck.cards[index]]\n      return this.state.drawnCards\n    }\n\n    // @ts-ignore\n    window.roll = (value: number) => {\n      this.state.stage.onDiceRoll([value])\n    }\n\n    // @ts-ignore\n    window.round = (value: number) => {\n      this.state.round.baseValue = value\n    }\n\n    // @ts-ignore\n    window.stage = () => {\n      return this.state.stage\n    }\n\n    // @ts-ignore\n    window.gameComponent = () => {\n      return this.activeComponent\n    }\n  }\n\n  restart() {\n    // Create all stages\n    this.stage1 = new TextStage(this, this.dialogue[`stage1`])\n    this.stage1.id = \"stage1\"\n    this.stage1.activeComponent = \"DialogueView\"\n\n    let stage2 = new TextStage(this, this.dialogue[`stage2`])\n    stage2.activeComponent = \"DialogueView\"\n\n    let stage3 = new TextStage(this, this.dialogue[`stage3`])\n    stage3.buttonLabel = \"Yes\"\n    stage3.activeComponent = \"DialogueView\"\n\n    let stage4 = new TextStage(this, this.dialogue[`stage4`])\n    stage4.buttonLabel = \"Start\"\n    stage4.activeComponent = \"DialogueView\"\n\n    let stageD = new DrawStage(this)\n    let stageP = new PickStage(this)\n\n    this.stage1.link(stage2).link(stage3).link(stage4).link(stageD).link(stageP).link(stageD)\n\n    // Reset state variables\n    this.state.deck = new Deck()\n    this.state.dice = []\n    this.state.drawnCards = []\n    this.state.pickedCards = []\n    this.state.playerHand = []\n    this.state.stage = this.stage1\n    this.state.round = new ValueRange(0, 0, 3)\n    this.state.cardsToPick = 0\n    this.state.cardsPickedThisRound = 0\n    this.state.rewardRolls = new ValueRange(0, 0, 8)\n    this.state.bonusRolls = new ValueRange(0, 0, 8)\n\n    this.state.deck.shuffle()\n    this.lockDice(true)\n  }\n\n  /** Adds a card to the players hand */\n  pickCard(card: Card) {\n    this.state.pickedCards.push(card)\n    this.state.cardsPickedThisRound += 1\n  }\n\n  nextStage() {\n    this.state.stage.nextStage()\n  }\n\n  get buttonLabel(): string {\n    return this.state.stage.buttonLabel\n  }\n\n  allowNextStage(): boolean {\n    return this.state.stage.allowNext()\n  }\n\n  setStage(stage: GameStage) {\n    this.state.stage = stage\n  }\n\n  notifyDiceRoll(value: number) {\n    if (this.allDiceReady) {\n      this.state.stage.onDiceRoll(this.diceValues)\n\n      for (let die of this.state.dice) {\n        die.useValue()\n      }\n    }\n  }\n\n  get diceValues(): number[] {\n    let values = []\n    for (let die of this.state.dice) {\n      values.push(die.value)\n    }\n    return values\n  }\n\n  get allDiceReady(): boolean {\n    return this.diceReadyCount == this.state.dice.length\n  }\n\n  get diceReadyCount(): number {\n    let ready = 0\n    for (let die of this.state.dice) {\n      if (!die.isUsed) ready += 1\n    }\n    return ready\n  }\n\n  get diceRollingCount(): number {\n    let rollCount = 0\n    for (let die of this.state.dice) {\n      if (die.rolling) rollCount += 1\n    }\n    return rollCount\n  }\n\n  lockDice(value: boolean) {\n    for (let die of this.state.dice) {\n      die.locked = value\n    }\n  }\n\n  diceAreLocked(): boolean {\n    let locked = 0\n    for (let die of this.state.dice) {\n      if (die.locked) locked += 1\n    }\n    return locked == this.state.dice.length\n  }\n\n  buyDice() {\n    if (!this.allowDiceBuy()) return\n    this.bonusRolls.addValue(1)\n\n    if (this.state.dice.length == 0) this.state.dice.push(new Dice(6, this))\n    else this.state.dice.push(new Dice(this.state.dice[0].max, this))\n  }\n\n  allowDiceBuy(): boolean {\n    return this.state.stage.allowDiceBuy() &&\n      this.diceReadyCount + this.diceRollingCount == 0 &&\n      !this.diceAreLocked() &&\n      this.state.dice.length < 4 &&\n      this.state.bonusRolls.value < this.state.bonusRolls.max\n  }\n\n  get activeComponent(): string {\n    return this.state.stage.activeComponent\n  }\n\n  set diceCount(value: number) {\n    let dice: Dice[] = []\n    for (let i = 0; i < value; i++) {\n      if (this.state.dice.length == 0) dice.push(new Dice(6, this))\n      else dice.push(new Dice(this.state.dice[0].max, this))\n    }\n    this.state.dice = dice\n  }\n\n  set diceSize(value: number) {\n    for (let i = 0; i < this.state.dice.length; i++) {\n      this.state.dice[i] = new Dice(value, this)\n    }\n  }\n\n  clickCard(card: Card) {\n    this.state.stage.onCardClick(card)\n  }\n\n  get currentDialogue(): string {\n    return this.state.stage.text\n  }\n\n  get deck(): Deck {\n    return this.state.deck as Deck\n  }\n\n  get drawnCards(): Card[] {\n    return this.state.drawnCards as Card[]\n  }\n\n  get round(): ValueRange {\n    return this.state.round as ValueRange\n  }\n\n  get roundString(): string {\n    if (this.state.stage.id == \"bonus\") return \"Bonus Round\"\n    return `Round ${this.round.value} of ${this.round.max}`\n  }\n\n  get stageId(): string {\n    return this.state.stage.id\n  }\n\n  get rewardRolls(): ValueRange {\n    return this.state.rewardRolls as ValueRange\n  }\n\n  get bonusRolls(): ValueRange {\n    return this.state.bonusRolls as ValueRange\n  }\n\n  get cardsPickedThisRound(): number {\n    return this.state.cardsPickedThisRound\n  }\n\n  get showDialogueOnly(): boolean {\n    return this.round.value == 0\n  }\n}\n","import Game from \"@/Game\"\nimport globalState from \"@/store/globalState\"\nimport { reactive } from \"vue\"\n\nexport default class Menu {\n  public static readonly GAME_VERSION = '0.2.0'\n\n  private _activeComponent: string = \"StartMenu\"\n  private _game: any = undefined\n\n  constructor() {\n    globalState().load()\n  }\n\n  get game() {\n    return this._game\n  }\n\n  startGame() {\n    if (this.game == undefined) this._game = reactive(new Game())\n    this.activeComponent = this.game!.activeComponent\n    console.log(\"Started game.\", this.activeComponent)\n  }\n\n  get activeComponent(): string {\n    if (this.game != undefined) return this.game.activeComponent\n    return this._activeComponent\n  }\n\n  set activeComponent(value: string) {\n    this._activeComponent = value\n  }\n}\n","<template>\n  <template v-if=\"isLoaded\">\n    <div class=\"menu-view\">\n      <div class=\"window text-window\">\n        <div class=\"stat-row\" style=\"grid-template-columns: 50px 1fr 50px;\">\n          <p></p>\n          <h1 style=\"text-align: center; margin: 0;\">Ditzy Dice</h1>\n          <!--<p style=\"text-align: right; margin: 0; line-height: 20px;\">v{{saveSystem.gameVersion}}</p>-->\n        </div>\n        <div class=\"window start-menu-text\">\n          <p>Greetings!</p>\n          <p>This is an <b>erotic transformation</b> game. That means <b>sexual content</b>, focusing on bodily and mental transformations related to bimbofication. If you are not comfortable with, or legally allowed to view such content, turn around now. </p>\n          <p>Otherwise, if you have feedback or questions, let me know in the comments!</p>\n        </div>\n\n        <div class=\"start-menu-buttons\">\n          <TextButton class=\"farm-button\" @click=\"menu.startGame()\">\n            <h3>Start</h3>\n          </TextButton>\n          <!--<TextButton class=\"farm-button\" @click=\"$emit('goto-view', 'PatchNotesScreen')\">\n            <h3>Patch Notes</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"$emit('goto-view', 'HelpMenu')\">\n            <h3>Help</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"$emit('goto-view', 'CreditsScreen')\">\n            <h3>Credits</h3>\n          </TextButton>-->\n        </div>\n        <div class=\"start-menu-buttons\" style=\"margin-top: 50px;\">\n          <TextButton class=\"farm-button\" @click=\"window().location.href = 'https://www.blushingdefeat.com/play/'\">\n            <h3>Exit to Blushing Defeat</h3>\n          </TextButton>\n        </div>\n      </div>\n\n      <!--<PatreonButton></PatreonButton>-->\n\n    </div>\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class StartMenu extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.menu-view {\n  //max-width: $full-page-width;\n\n  display: grid;\n  grid-template-rows: auto auto;\n  grid-template-columns: 1fr;\n  grid-template-areas:\n    \"p\"\n    \"t\";\n  grid-gap: 20px;\n  margin: 20px;\n\n  @media screen and (max-width: $mobile-width){\n    grid-template-areas:\n      \"t\"\n      \"p\";\n    margin: 0;\n  }\n}\n\n.text-window {\n  grid-area: t;\n\n  display: flex;\n  flex-direction: column;\n  min-height: 200px;\n  max-width: 600px;\n  margin: auto;\n\n  padding: 20px;\n  box-sizing: border-box;\n\n  p {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  @media screen and (max-width: $mobile-width){\n    padding: 10px\n  }\n}\n\n.patreon-button {\n  grid-area: p;\n\n  box-sizing: border-box;\n  margin: auto;\n  width: 100%;\n  max-width: 600px;\n  max-height: 150px;\n}\n\n.start-menu-text {\n  background: $component-background-color;\n  margin: 10px auto 50px auto;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.start-menu-buttons {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  align-items: center;\n\n  .text-button {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 15px;\n    margin: 5px 0;\n  }\n}\n\n.blushing-defeat-button-row {\n  grid-template-columns: 1fr !important;\n  height: 50px;\n  margin-top: auto;\n}\n\n#credits-window {\n  grid-area: c;\n}\n\n#help-window {\n  grid-area: h;\n\n  h3 {\n    margin-top: 10px;\n  }\n}\n\n.saves-window {\n  grid-area: s;\n\n  input {\n    background-color: $component-background-color;\n    color: white;\n    border: 1px solid black;\n    border-right: 0;\n    text-align: center;\n    font-size: 16px;\n  }\n\n  .selected-save {\n    display: grid;\n    grid-template-rows: 1fr;\n    background-color: $component-background-color;\n    height: 100px;\n  }\n}\n\n.stat-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-rows: minmax(40px, 1fr);\n}\n\n.text-button {\n  border: $component-border-style;\n\n  display: table;\n  div {\n    display: table-cell;\n    vertical-align: middle;\n  }\n\n  & > h3 {\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n  }\n}\n\n.help-list {\n  max-height: 500px;\n  overflow-y: auto;\n\n  .farm-window {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 10px;\n\n    div {\n      display: grid;\n      grid-template-columns: 11ch 1fr;\n      padding-top: 5px;\n      padding-bottom: 5px;\n      border-top: 1px solid white;\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n}\n\n.credits-block {\n  &:first-child {\n    h3 {\n      margin-top: 0;\n    }\n  }\n\n  h3 {\n    margin-bottom: 5px;\n    margin-top: 15px;\n  }\n\n  p {\n    margin: 0;\n  }\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class StartMenu extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./StartMenu.vue?vue&type=template&id=5a9a0fa2&scoped=true\"\nimport script from \"./StartMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./StartMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./StartMenu.vue?vue&type=style&index=0&id=5a9a0fa2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5a9a0fa2\"\n\nexport default script","<template>\n  <div class=\"milkfarm dialogue-only\" v-if=\"isLoaded\">\n    <div class=\"window dialogue\">\n      <div class=\"text\">\n        {{ game.currentDialogue }}\n      </div>\n      <div class=\"round-counter\">\n        <h3 v-if=\"game.round.value > 0\">{{ game.roundString }}</h3>\n        <h1 v-else style=\"margin: 0; padding: 0;\">Ditzy Dice</h1>\n      </div>\n      <div v-if=\"game.state.cardsToPick > 0\" class=\"cards-to-pick\">\n        <h3>Picked {{ game.state.cardsPickedThisRound }} of {{ game.state.cardsToPick }} cards</h3>\n      </div>\n      <div v-if=\"game.round.value > 0 && game.stageId !== 'bonus'\" class=\"bonus-rolls\">\n        <h3>Bonus rolls: {{ game.state.bonusRolls.value }} / {{ game.state.bonusRolls.max }}</h3>\n      </div>\n      <TextButton v-if=\"game.allowNextStage()\" class=\"next-button\" @click=\"game.nextStage()\">\n        <p style=\"margin: 0;\">{{ game.buttonLabel }}</p>\n      </TextButton>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueView extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style lang=\"scss\">\n.window {\n\n}\n</style>\n\n<style scoped lang=\"scss\">\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-rows: 400px 200px 200px 100px;\n    grid-template-areas:\n      \"c c\"\n      \"p s\"\n      \"p s\"\n      \". d\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    min-height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1000px){\n      padding: 10px;\n    }\n\n    @media only screen and (min-width: 1700px){\n      padding-left: 100px;\n      padding-right: 100px;\n    }\n  }\n\n  .dialogue-only {\n    grid-template-columns: 1fr max-content 1fr;\n    grid-template-rows: 1fr max-content 1fr;\n    grid-template-areas:\n      \". . .\"\n      \". s .\"\n      \". . .\";\n\n    .cards-wrapper, .picked-cards, .dices {\n      display: none;\n    }\n\n    .dialogue {\n      height: 500px;\n    }\n\n    @media only screen and (max-width: 800px){\n      grid-template-columns: 1fr;\n      grid-template-rows: 1fr;\n      grid-template-areas:\n      \"s\";\n      grid-gap: 0;\n\n      .dialogue {\n        width: 100vw;\n        max-width: 90vw;\n        justify-self: center;\n      }\n    }\n  }\n\n  .dialogue {\n    grid-area: s;\n\n    display: grid;\n    grid-template-rows: 30px 30px 40px 1fr 50px;\n    grid-template-columns: 2fr 2fr 1fr 2fr;\n    grid-template-areas:\n      \"r r . b\"\n      \"p p . b\"\n      \". . . .\"\n      \"t t t t\"\n      \". . . n\";\n\n    width: 40vw;\n    max-width: 700px;\n    white-space: pre-wrap;\n\n    @media only screen and (max-width: 1000px){\n      grid-template-rows: 25px 25px 40px 1fr 50px;\n      grid-template-columns: 1fr 1fr 1fr;\n      grid-template-areas:\n      \"r r b\"\n      \"p p b\"\n      \". . .\"\n      \"t t t\"\n      \". . n\";\n    }\n\n    .text {\n      grid-area: t;\n    }\n\n    .next-button {\n      grid-area: n;\n    }\n\n    .round-counter {\n      grid-area: r;\n    }\n\n    .cards-to-pick {\n      grid-area: p;\n    }\n\n    .bonus-rolls {\n      grid-area: b;\n    }\n  }\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueView extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./DialogueView.vue?vue&type=template&id=1c3d93b5&scoped=true\"\nimport script from \"./DialogueView.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogueView.vue?vue&type=script&lang=ts\"\n\nimport \"./DialogueView.vue?vue&type=style&index=0&id=1c3d93b5&lang=scss\"\nimport \"./DialogueView.vue?vue&type=style&index=1&id=1c3d93b5&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1c3d93b5\"\n\nexport default script","<template>\n  <div class=\"milkfarm\" v-if=\"isLoaded\">\n    <div class=\"cards-wrapper drawn-cards\">\n      <div class=\"cards\" :class=\"{'tight': game.state.drawnCards.length > 8}\">\n        <template v-for=\"card in game.state.pickedCards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card); game.clickCard(card);\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n    <div class=\"window dialogue\">\n      <div class=\"text\">\n        {{ game.currentDialogue }}\n      </div>\n      <TextButton v-if=\"game.allowNextStage()\" class=\"next-button\" @click=\"game.nextStage()\">\n        <p style=\"margin: 0;\">{{ game.buttonLabel }}</p>\n      </TextButton>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class HandView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n</script>\n\n<style lang=\"scss\">\n.window {\n\n}\n</style>\n\n<style scoped lang=\"scss\">\n  $border-radius: 8px;\n  $window-background-color: #341224;\n\n  .window {\n    background: $window-background-color;\n    padding: 10px;\n    border: 2px solid black;\n    border-radius: $border-radius;\n  }\n\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 200px 1fr;\n    grid-template-areas:\n      \"s\"\n      \"c\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1140px){\n      padding: 10px;\n      grid-template-columns: 1fr 250px;\n      grid-template-rows: 1fr 200px 200px;\n      grid-template-areas:\n      \"c s\"\n      \"c s\"\n      \"c s\";\n    }\n  }\n\n  .dialogue {\n    grid-area: s;\n\n    display: grid;\n    grid-template-rows: 1fr 50px;\n    grid-template-columns: 2fr 2fr 1fr 2fr;\n    grid-template-areas:\n      \"t t t t\"\n      \". . n n\";\n\n    //width: 400px;\n    //max-width: 700px;\n    white-space: pre-wrap;\n\n    @media only screen and (max-width: 1000px){\n      grid-template-rows: 1fr 50px;\n      grid-template-columns: 1fr 1fr 1fr;\n      grid-template-areas:\n      \"t t t\"\n      \". . n\";\n    }\n\n    .text {\n      grid-area: t;\n    }\n\n    .next-button {\n      grid-area: n;\n    }\n\n    .round-counter {\n      grid-area: r;\n    }\n\n    .cards-to-pick {\n      grid-area: p;\n    }\n\n    .bonus-rolls {\n      grid-area: b;\n    }\n  }\n\n  .drawn-cards {\n    grid-area: c;\n    z-index: 10;\n  }\n\n  .cards-wrapper {\n    overflow-x: auto;\n    overflow-y: auto;\n\n    border: 3px solid black;\n    border-radius: $border-radius;\n    padding: 10px 20px 0 20px;\n  }\n\n  .cards {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    grid-template-rows: repeat(auto-fit, 360px);\n    grid-gap: 10px;\n    justify-items: center;\n    transform: scale(1);\n    transform-origin: top left;\n    min-height: 100%;\n  }\n\n  .scaled {\n    transform: scale(1.06);\n    z-index: 2;\n    border-color: #939393;\n  }\n\n  .dices {\n    grid-area: d;\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 100px);\n    grid-auto-rows: 100px;\n    grid-template-rows: 100px;\n    grid-gap: 3px;\n\n    //background-color: #1E6BB8;\n  }\n\n  .add-dice {\n    background-color: rgba(#fff0e8, 0.75);\n    border-color: rgba(black, 0.9);\n    color: rgba(black, 0.9);\n  }\n\n  .credits {\n    display: none;\n  }\n\n  .value-meter {\n    height: 50px;\n    background-color: #222;\n\n    .milk-label {\n      margin: 0;\n      mix-blend-mode: exclusion;\n      color: #fff;\n      font-weight: bold;\n    }\n  }\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton, PlayingCard, DiceView, PatreonButton\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class HandView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n","import { render } from \"./HandView.vue?vue&type=template&id=d4be429e&scoped=true\"\nimport script from \"./HandView.vue?vue&type=script&lang=ts\"\nexport * from \"./HandView.vue?vue&type=script&lang=ts\"\n\nimport \"./HandView.vue?vue&type=style&index=0&id=d4be429e&lang=scss\"\nimport \"./HandView.vue?vue&type=style&index=1&id=d4be429e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-d4be429e\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport GameView from '@/components/GameView.vue'\nimport Menu from \"@/Menu\"\nimport StartMenu from \"@/components/StartMenu.vue\"\nimport DialogueView from \"@/components/DialogueView.vue\"\nimport globalState from \"@/store/globalState\"\nimport HandView from \"@/components/HandView.vue\"\n\n@Options({\n  components: {\n    GameView, StartMenu, DialogueView, HandView\n  },\n  methods: {\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/flowers.png') + ')'\n      }\n    }\n  }\n})\nexport default class App extends Vue {\n  menu: Menu = new Menu()\n}\n","import { render } from \"./App.vue?vue&type=template&id=a57fae36\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=a57fae36&lang=scss\"\nscript.render = render\n\nexport default script","import { createWebHistory, createRouter, createWebHashHistory } from \"vue-router\"\nimport GameView from \"@/components/GameView.vue\"\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Milkfarm\",\n    component: GameView,\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory('/'),\n  //history: createWebHashHistory('/gallery/'),\n  // @ts-ignore\n  routes: routes\n})\n\nexport default router\n","import * as Vue from 'vue'\nimport App from './App.vue'\nimport router from \"@/router\"\n\n// @ts-ignore\nVue.createApp(App).use(router).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ValueMeter.vue?vue&type=style&index=0&id=ef28c724&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DialogueView.vue?vue&type=style&index=0&id=1c3d93b5&lang=scss\""],"sourceRoot":""}