{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PatchNotesScreen.vue?e259","webpack:///./src/components/StartMenu.vue?92dc","webpack:///./src/assets/patreon-banner-no-text.webp","webpack:///./src/components/GameView.vue?a3a0","webpack:///./src/components/PlayingCard.vue?fc88","webpack:///./src/assets/background.webp","webpack:///./src/components/HandView.vue?2b9c","webpack:///./src/components/BlushWindow.vue?37c0","webpack:///./src/components/DialogueStatusCard.vue?765f","webpack:///./src/components/DialogueCard.vue?7456","webpack:///./src/components/CollectionScreen.vue?536a","webpack:///./src/components/CreditsScreen.vue?a580","webpack:///./src/components/DialogueView.vue?e84f","webpack:///./src/App.vue?868b","webpack:///./src/components/PatreonButton.vue?8e94","webpack:///./src/components/Credit.vue?0b56","webpack:///./src/components/DiceView.vue?bd9c","webpack:///./src/assets/black-felt.png","webpack:///./src/components/PatreonButton2.vue?974d","webpack:///./src/assets/patreon-banner.webp","webpack:///./src/components/TextButton.vue?ac38","webpack:///./src/components/PatchNotesScreen.vue?211e","webpack:///./src/App.vue","webpack:///./src/components/GameView.vue","webpack:///./src/components/TextButton.vue","webpack:///./src/components/TextButton.vue?72a9","webpack:///./src/components/TextButton.vue?a9fe","webpack:///./src/components/PlayingCard.vue","webpack:///./src/components/ValueMeter.vue","webpack:///./src/util.ts","webpack:///./src/effects/ValueMod.ts","webpack:///./src/effects/ValueRange.ts","webpack:///./src/components/ValueMeter.vue?a5c4","webpack:///./src/components/ValueMeter.vue?d750","webpack:///./src/components/PlayingCard.vue?3f51","webpack:///./src/components/PlayingCard.vue?bf32","webpack:///./src/store/globalState.ts","webpack:///./src/cards/Family.ts","webpack:///./src/cards/Deck.ts","webpack:///./src/cards/Card.ts","webpack:///./src/components/DiceView.vue","webpack:///./src/components/DiceView.vue?a465","webpack:///./src/components/DiceView.vue?79a7","webpack:///./src/components/DialogueStatusCard.vue","webpack:///./src/components/DialogueStatusCard.vue?6cea","webpack:///./src/components/DialogueStatusCard.vue?1858","webpack:///./src/components/GameView.vue?1080","webpack:///./src/components/GameView.vue?4165","webpack:///./src/Dice.ts","webpack:///./src/GameButton.ts","webpack:///./src/stages/GameStage.ts","webpack:///./src/stages/TextStage.ts","webpack:///./src/stages/IntensityStage.ts","webpack:///./src/stages/HighlightStage.ts","webpack:///./src/stages/EndStage.ts","webpack:///./src/stages/BonusStage.ts","webpack:///./src/stages/PickStage.ts","webpack:///./src/stages/DrawStage.ts","webpack:///./src/Game.ts","webpack:///./src/Cheat.ts","webpack:///./src/Cheatmode.ts","webpack:///./src/Save.ts","webpack:///./src/SaveSystem.ts","webpack:///./src/Menu.ts","webpack:///./src/components/StartMenu.vue","webpack:///./src/components/PatreonButton.vue","webpack:///./src/components/PatreonButton.vue?a3ae","webpack:///./src/components/PatreonButton.vue?a993","webpack:///./src/components/RelatedThumb.vue","webpack:///./src/components/RelatedThumb.vue?b719","webpack:///./src/components/RelatedThumb.vue?4a01","webpack:///./src/components/PatreonButton2.vue","webpack:///./src/components/PatreonButton2.vue?9266","webpack:///./src/components/PatreonButton2.vue?3464","webpack:///./src/components/PatchNotesScreen.vue","webpack:///./src/components/BlushWindow.vue","webpack:///./src/components/BlushWindow.vue?b73c","webpack:///./src/components/BlushWindow.vue?d4c1","webpack:///./src/components/PatchNotesScreen.vue?77f4","webpack:///./src/components/PatchNotesScreen.vue?684d","webpack:///./src/components/StartMenu.vue?0b14","webpack:///./src/components/StartMenu.vue?1128","webpack:///./src/components/DialogueView.vue","webpack:///./src/components/DialogueCard.vue","webpack:///./src/components/DialogueCard.vue?731d","webpack:///./src/components/DialogueCard.vue?ab69","webpack:///./src/components/DialogueView.vue?d9bf","webpack:///./src/components/DialogueView.vue?3376","webpack:///./src/components/HandView.vue","webpack:///./src/components/CollectionWindow.vue","webpack:///./src/components/CollectionWindow.vue?a72c","webpack:///./src/components/CollectionWindow.vue?8fa9","webpack:///./src/components/HandView.vue?71f7","webpack:///./src/components/HandView.vue?9274","webpack:///./src/components/CreditsScreen.vue","webpack:///./src/components/Credit.vue","webpack:///./src/components/Credit.vue?24c8","webpack:///./src/components/Credit.vue?f11c","webpack:///./src/components/CreditsScreen.vue?22d5","webpack:///./src/components/CreditsScreen.vue?9993","webpack:///./src/components/CollectionScreen.vue","webpack:///./src/components/CollectionScreen.vue?ee64","webpack:///./src/components/CollectionScreen.vue?43a1","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/assets/devil-512px.webp","webpack:///./src/components/ValueMeter.vue?ea85","webpack:///./src/components/RelatedThumb.vue?53d3","webpack:///./src/App.vue?a183","webpack:///./src/components/CollectionWindow.vue?b0b0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","style","cssVars","globalState","loading","menu","activeComponent","view","isLoaded","game","state","drawnCards","size","cards","card","scale","toggleScale","clickCard","pickedCards","dice","die","allowDiceBuy","buyDice","onselectstart","props","icon","String","render","__scopeId","title","type","hasParent","highlight","levelString","subtitle","description","artist","baseUrl","wait","ms","Promise","resolve","reject","setTimeout","fetchHjson","path","a","transformResponse","response","info","parse","getInfo","isVideo","url","test","sample","array","Math","floor","random","timeToDays","time","currentDate","day","this","timeofday","hour","minute","toFixed","padStart","displayTime","uuid","replace","Number","crypto","getRandomValues","Uint8Array","toString","capitalize","charAt","toUpperCase","substr","pickFrom","list","fraction","index","clamp","round","min","max","showNumber","relative","undefined","ensure","possibilities","find","v","shuffle","temporaryValue","randomIndex","currentIndex","screenshot","savename","element","document","getElementById","childCount","childNodes","childWidth","childHeight","width","height","minHeight","renderWidth","html2canvas","backgroundColor","then","canvas","image","toDataURL","createElement","download","href","body","appendChild","click","console","error","mod","abs","mods","ValueMod","activate","reverse","reverseActivate","text","capBaseValue","_baseValue","_min","_max","valueMods","minMods","maxMods","texts","MAX_SAFE_INTEGER","mulMods","oldValue","baseValue","reverseActivateAll","oldBase","sum","activateAll","values","ValueRange","barColor","container","methods","log","msg","computed","components","ValueMeter","TextButton","hue","thumb","cardFamilyString","dialogueString","artistsString","patreonCredits","patchNotesString","load","all","familyList","dialogue","artists","credits","patchList","JSON","stringify","familyPromises","familyPath","families","patches","md","patchId","patch","map","familiesLoaded","_familyMap","family","Family","Deck","referenceDeck","copy","deck","addCard","lookup","getCardById","parentId","parent","hasCard","subcards","addSubCard","isParent","getLevel","pop","concat","findIndex","drawIndex","cardId","sort","b","level","allLevels","sub","cardStates","cardMap","warn","_referenceDeck","parseCards","pack","cardsLoaded","_cardMap","familyState","levels","entries","subcard","leveledCard","parseCard","_family","_parent","_subcards","_level","hasSubCard","Card","maxLevel","familyMap","locked","roll","currentDialogue","roundString","stageId","bonusRolls","cardsToPick","cardsPickedThisRound","buttons","button","fun","label","scaledCard","PlayingCard","DiceView","DialogueStatusCard","created","_value","_locked","isRolling","valueUsed","rollingDice","rollsLeft","currentRolls","x","notifyDiceRoll","isUsed","args","_allowDiceBuy","nextButton","nextStage","stage","_nextStage","setStage","onResume","gotoNext","onStart","done","pickStage","parentCard","sortByLevel","diceCount","diceSize","lockDice","intensities","pick","highlightedCards","removeCard","pickCard","resumeStage","sortByFamily","end","leftToPick","withoutFamily","draw","addValue","isBonusRound","setLabel","drawStage","allowNext","updateButtons","addDraws","playerHand","rewardRolls","restart","gredraw","groll","onDiceRoll","gameComponent","stage1","stage2","stage3Decline","endGame","stage3","stage4","stageD","link","createNew","allDiceReady","diceValues","useValue","diceReadyCount","diceRollingCount","diceAreLocked","onCardClick","ready","rollCount","rolling","cheatFunction","cheats","activated","_game","cheatmode","password","activateCheats","registerCheats","cheat","version","_state","saves","loadAllFromStorage","save","writeToLocalStorage","readFromLocalStorage","localStorage","setItem","savesString","getItem","_activeComponent","saveSystem","collection","createFromCardStates","addDeck","Set","Menu","GAME_VERSION","startGame","showCollection","$emit","location","credit","src","PatreonButton","emits","util","patchNotes","date","BlushWindow","PatreonButton2","RelatedThumb","PatchNotesScreen","DialogueCard","tabs","tab","activeTab","activateTab","internalDeck","activateCard","activeCard","refDeck","isInspectingCard","unique","onlyFamily","CollectionWindow","target","artCredits","linkText","Credit","unpack","GameView","StartMenu","DialogueView","HandView","CreditsScreen","CollectionScreen","routes","component","router","history","use","mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/play/ditzy-dice/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PatchNotesScreen.vue?vue&type=style&index=1&id=3593dce2&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StartMenu.vue?vue&type=style&index=0&id=e20ac9aa&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/patreon-banner-no-text.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GameView.vue?vue&type=style&index=0&id=f6543726&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PlayingCard.vue?vue&type=style&index=0&id=270eee57&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/background.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HandView.vue?vue&type=style&index=0&id=0a5d792b&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BlushWindow.vue?vue&type=style&index=0&id=566403a4&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DialogueStatusCard.vue?vue&type=style&index=0&id=47feb228&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DialogueCard.vue?vue&type=style&index=0&id=0f463a96&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollectionScreen.vue?vue&type=style&index=0&id=151734b6&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreditsScreen.vue?vue&type=style&index=0&id=5d0c5c82&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DialogueView.vue?vue&type=style&index=0&id=ca58dffa&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=1&id=54d3d88e&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PatreonButton.vue?vue&type=style&index=0&id=d5159fe2&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Credit.vue?vue&type=style&index=0&id=27444a3f&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DiceView.vue?vue&type=style&index=0&id=7226aa86&lang=scss\"","module.exports = __webpack_public_path__ + \"img/black-felt.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PatreonButton2.vue?vue&type=style&index=0&id=3333a497&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/patreon-banner.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TextButton.vue?vue&type=style&index=0&id=2ba6bbe6&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PatchNotesScreen.vue?vue&type=style&index=0&id=3593dce2&lang=scss\"","<template >\n  <div id=\"milkfarm-app\" :style=\"cssVars\">\n    <div v-if=\"globalState.loading.value\" class=\"loading\">\n      <h1>Loading...</h1>\n    </div>\n    <component v-else\n               :is=\"menu.activeComponent\"\n               v-bind=\"{ menu: menu }\"\n               v-on:goto-view=\"(view) => {menu.activeComponent = view}\"\n               v-on:close=\"menu.activeComponent = 'StartMenu'\">\n    </component>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport GameView from '@/components/GameView.vue'\nimport Menu from \"@/Menu\"\nimport StartMenu from \"@/components/StartMenu.vue\"\nimport DialogueView from \"@/components/DialogueView.vue\"\nimport globalState from \"@/store/globalState\"\nimport HandView from \"@/components/HandView.vue\"\nimport CreditsScreen from \"@/components/CreditsScreen.vue\"\nimport CollectionScreen from \"@/components/CollectionScreen.vue\"\nimport PatchNotesScreen from \"@/components/PatchNotesScreen.vue\"\n\n@Options({\n  components: {\n    GameView, StartMenu, DialogueView, HandView, CreditsScreen, CollectionScreen, PatchNotesScreen\n  },\n  methods: {\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/background.webp') + ')'\n      }\n    },\n    globalState() {\n      return globalState()\n    }\n  }\n})\nexport default class App extends Vue {\n  menu: Menu = new Menu()\n}\n</script>\n\n<style lang=\"scss\">\n@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700');\n@import url('https://fonts.googleapis.com/css?family=Maven+Pro:500');\n@import url('https://fonts.googleapis.com/css?family=Croissant+One'); // The Blushing Defeat title font\n\n@import url('https://fonts.googleapis.com/css2?family=Lusitana:wght@400;700&display=swap');\n\nhtml {\n  height: 100%;\n}\nbody {\n  background-color: #353540;\n  margin: 0;\n  min-height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  & > * {\n    flex-shrink: 0;\n  }\n}\n#app {\n  flex-grow: 1;\n\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  & > * {\n    flex-shrink: 0;\n  }\n}\n#milkfarm-app {\n  flex-grow: 1;\n\n  //font-family: Avenir, Helvetica, Arial, sans-serif;\n  font-family: \"Open Sans\", \"Helvetica Neue\", Avenir, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100%;\n  color: #fefefe;\n  position: relative;\n  background: linear-gradient(180deg, rgba(#501979, 0.4), rgba(#1e0426, 0.1)), var(--background-image);//, linear-gradient(180deg, rgba(#7f2c53, 1), rgba(#520000, 1));\n  //background-image: url(\"https://www.transparenttextures.com/patterns/black-thread-light.png\");\n  background-repeat: repeat;\n  background-attachment: scroll;\n  //overflow-x: auto;\n\n  h1, h2, h3, h4, h5 {\n    font-family: \"Maven Pro\", \"Open Sans\", \"Helvetica Neue\", Avenir, Helvetica, Arial, sans-serif;\n  }\n}\na {\n  color: white;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.window {\n  background: $window-background-color;\n  padding: 10px 20px 20px 20px;\n  border: 3px solid black;\n  border-radius: $border-radius;\n\n  h1, h2 {\n    margin-top: 0;\n  }\n}\n</style>\n\n<style scoped lang=\"scss\">\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n\n  h1 {\n    text-align: center;\n  }\n}\n</style>\n","<template>\n  <div class=\"milkfarm\" v-if=\"isLoaded\">\n    <div class=\"cards-wrapper drawn-cards\">\n      <div class=\"cards\" :class=\"{'tight': game.state.drawnCards.size() > 8}\">\n        <template v-for=\"card in game.drawnCards.cards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card); game.clickCard(card);\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n    <DialogueStatusCard :menu=\"menu\"></DialogueStatusCard>\n    <div class=\"cards-wrapper picked-cards\">\n      <div class=\"cards\" :class=\"{'tight': game.state.pickedCards.size() > 5}\">\n        <template v-for=\"card in game.state.pickedCards.cards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card)\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n    <div class=\"dices\">\n      <template v-for=\"die in game.state.dice\" v-bind:key=\"die\">\n        <DiceView :dice=\"die\"></DiceView>\n      </template>\n      <div class=\"dice-view add-dice\" v-if=\"game.allowDiceBuy()\" @click=\"game.buyDice()\">\n        <p>+</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport Menu from \"@/Menu\"\nimport DialogueStatusCard from \"@/components/DialogueStatusCard.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, DiceView, DialogueStatusCard\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class GameView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n</script>\n\n<style scoped lang=\"scss\">\n  $border-radius: 8px;\n  $window-background-color: #341224;\n\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-rows: 410px 200px 200px 100px;\n    grid-template-areas:\n      \"c c\"\n      \"p s\"\n      \"p s\"\n      \". d\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    min-height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1700px){\n      padding-left: 100px;\n      padding-right: 100px;\n    }\n\n    @media only screen and (max-width: $mobile-width){\n      grid-template-columns: 1fr;\n      grid-template-rows: minmax(300px, auto) minmax(100px, auto) 410px 410px;\n      grid-template-areas:\n      \"s\"\n      \"d\"\n      \"c\"\n      \"p\";\n    }\n  }\n\n  .drawn-cards {\n    grid-area: c;\n    z-index: 10;\n    background-color: rgba($component-background-color, 0.5);\n\n    @media only screen and (max-width: 1400px){\n      .cards {\n        grid-auto-columns: 100px;\n      }\n      .tight {\n        grid-auto-columns: 75px !important;\n      }\n    }\n    @media only screen and (max-width: 1100px){\n      .cards {\n        grid-auto-columns: 50px;\n      }\n      .tight {\n        grid-auto-columns: 50px !important;\n      }\n    }\n\n    .tight {\n      grid-auto-columns: 100px;\n    }\n  }\n\n  .picked-cards {\n    grid-area: p;\n    background-color: rgba($component-background-color, 0.75);\n\n    .cards {\n      grid-auto-columns: 100px;\n    }\n\n    @media only screen and (max-width: 1400px){\n      .cards {\n        grid-auto-columns: 50px;\n      }\n    }\n\n    .tight {\n      grid-auto-columns: 50px;\n    }\n  }\n\n  .cards-wrapper {\n    overflow-x: auto;\n    overflow-y: visible;\n\n    border: 3px solid black;\n    border-radius: $border-radius;\n  }\n\n  .cards {\n    display: grid;\n    grid-auto-columns: 150px;\n    grid-template-rows: 200px;\n    grid-auto-flow: column;\n    grid-gap: 10px;\n    transform: scale(1);\n    transform-origin: top left;\n    height: 0; // Just a small height. Could be 0. If not limited, page size gets messed up when scaling.\n    width: 100%; // 100% * 2 (due to scaling with 0.5) to fill up entire space\n    //margin-top: 10px;\n  }\n\n  .scaled {\n    transform: scale(1.06);\n    z-index: 2;\n    border-color: #939393;\n  }\n\n  .dialogue-status-card {\n    grid-area: s;\n\n    box-sizing: border-box;\n    height: 100%;\n    width: 40vw;\n    max-width: 700px;\n    margin: auto;\n\n    @media only screen and (max-width: $mobile-width){\n      max-width: none;\n      width: 100%;\n    }\n  }\n\n  .dices {\n    grid-area: d;\n\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 100px);\n    grid-auto-rows: 100px;\n    grid-template-rows: 100px;\n    grid-gap: 3px;\n\n    //background-color: #1E6BB8;\n  }\n\n  .add-dice {\n    background-color: rgba(#fff0e8, 0.75);\n    border-color: rgba(black, 0.9);\n    color: rgba(black, 0.9);\n  }\n\n  .credits {\n    display: none;\n  }\n\n  .value-meter {\n    height: 50px;\n    background-color: #222;\n\n    .milk-label {\n      margin: 0;\n      mix-blend-mode: exclusion;\n      color: #fff;\n      font-weight: bold;\n    }\n  }\n\n</style>\n","<template>\n  <div class=\"text-button\" onselectstart=\"return false\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    icon: String\n  }\n})\nexport default class TextButton extends Vue {\n  icon!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n.text-button {\n  color: $text-light;\n  padding: 0.5em;\n  cursor: pointer;\n  background-color: $component-button;\n\n  transition: background-color $selection-time;\n\n  &:hover {\n    background-color: scale-color(lighten($component-button, 10%), $saturation: 30%);\n  }\n  &:active {\n    background-color: scale-color(darken($component-button, 5%), $saturation: -5%);\n  }\n\n  display: grid;\n  align-items: center;\n  justify-content: center;\n}\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    icon: String\n  }\n})\nexport default class TextButton extends Vue {\n  icon!: string\n}\n","import { render } from \"./TextButton.vue?vue&type=template&id=2ba6bbe6&scoped=true\"\nimport script from \"./TextButton.vue?vue&type=script&lang=ts\"\nexport * from \"./TextButton.vue?vue&type=script&lang=ts\"\n\nimport \"./TextButton.vue?vue&type=style&index=0&id=2ba6bbe6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2ba6bbe6\"\n\nexport default script","<template>\n  <div class=\"playing-card\" :class=\"{'single-card': card.type === 'single', 'child-card': card.hasParent, 'highlight': card.highlight}\" :style=\"cssVars\">\n    <div class=\"title-field\" title=\"Name of this card\">\n      <h3>{{ card.title }}</h3>\n    </div>\n    <div class=\"levels-field\" title=\"Level of this card / Max level of this card\">\n      <h3>{{ card.levelString }}</h3>\n    </div>\n    <div class=\"thumb-container\">\n      <!--<img class=\"thumb\" :src=\"card.thumb\"/>-->\n    </div>\n    <div v-if=\"card.subtitle !== ''\" class=\"subtitle-field\" title=\"Name of this level of this card\">\n      <h3>{{ card.subtitle }}</h3>\n    </div>\n    <div class=\"description-field\">\n      <p>{{ card.description }}</p>\n    </div>\n    <div class=\"artist-field\">\n      <p>Art by {{ card.artist }}</p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../cards/Card\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    card: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n        '--background-hue': this.card.hue,\n        '--background-image': 'url(' + require('@/assets/black-felt.png') + ')',\n        '--thumb': 'url(' + this.card.thumb + ')'\n      }\n    }\n  }\n})\nexport default class PlayingCard extends Vue {\n  card!: Card\n}\n</script>\n\n<style scoped lang=\"scss\">\nh1, h2, h3, h4, h5, p {\n  margin: 0;\n  line-height: 1;\n}\n\np {\n  font-size: 11px;\n  line-height: 1.2;\n}\n\n$text-field-color: var(--background-color);//var(--background-color);\n$text-color: #111;\n\n.playing-card {\n  background: var(--background-image), linear-gradient(180deg,\n              hsl(calc(var(--background-hue) + 15), 70%, 50%) 0%,\n              hsl(calc(var(--background-hue) - 5), 70%, 30%) 40%,\n              hsl(calc(var(--background-hue) - 15), 70%, 20%) 95%,\n              hsl(calc(var(--background-hue) - 15), 70%, 5%) 100%);\n  border: 2px solid var(--border-color);\n  border-radius: 4px;\n  padding: 3px 3px 10px;\n  cursor: pointer;\n  user-select: none;\n  color: $text-color;\n  width: 250px;\n  height: 360px;\n  box-sizing: border-box;\n\n  position: relative;\n  display: grid;\n  grid-template-columns: 6fr 2fr;\n  grid-template-rows: 25px 3fr 25px 2fr;\n  grid-template-areas:\n    \"t l\"\n    \"i i\"\n    \"i i\"\n    \"d d\";\n  grid-gap: 2px;\n\n  backface-visibility: hidden;\n  transition: transform 0.2s, border-color 0.1s;\n  transform-origin: top left;\n  transform: scale(1);\n\n  &:hover {\n    transform: scale(1.06);\n    z-index: 2;\n  }\n}\n\n.single-card {\n  //grid-template-columns: 6fr 2fr;\n  //grid-template-rows: 30px 1fr 30px 1fr;\n  grid-template-areas:\n    \"t t\"\n    \"i i\"\n    \"i i\"\n    \"d d\";\n\n  .levels-field {\n    display: none;\n  }\n}\n\n.child-card {\n  grid-template-columns: 12fr 3fr;\n  //grid-template-rows: 30px 3fr 30px 2fr;\n  grid-template-areas:\n    \"t t\"\n    \"i i\"\n    \"s l\"\n    \"d d\";\n}\n\n.highlight {\n  border-color: $highlight-color;\n  transform: scale(1.03);\n  z-index: 1;\n}\n\n.bold-field {\n  h1, h2, h3, h4 {\n    font-family: 'Lusitana', serif !important;\n  }\n  color: hsl(var(--background-hue), 80%, 90%);\n  background: linear-gradient(hsl(var(--background-hue), 60%, 30%), hsl(var(--background-hue), 80%, 21%));\n  //background-blend-mode: overlay;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  padding: 2px 4px;\n}\n\n.title-field {\n  @extend .bold-field;\n  grid-area: t;\n\n  h3 {\n    font-size: 15px;\n    line-height: 1.1;\n  }\n}\n\n.subtitle-field {\n  @extend .bold-field;\n  grid-area: s;\n\n  h3 {\n    font-size: 14px;\n    line-height: 1.1;\n  }\n}\n\n.levels-field {\n  @extend .bold-field;\n  grid-area: l;\n  text-align: center;\n  h3 {\n    font-size: 14px;\n    line-height: 1.1;\n  }\n}\n\n.description-field {\n  grid-area: d;\n\n  //font-family: 'Lusitana', serif;\n  color: hsl(var(--background-hue), 80%, 5%);\n  background: linear-gradient(180deg,\n    hsla(var(--background-hue), 20%, 80%, 80%),\n    hsla(var(--background-hue), 20%, 70%, 60%));\n  //background-blend-mode: multiply;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  padding: 4px 8px;\n\n  white-space: pre-wrap;\n}\n\n.thumb-container {\n  grid-area: i;\n\n  background-image: var(--thumb);\n  background-color: #222;\n  //background: var(--thumb), #222;\n  background-size: cover;\n  background-position: center;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n\n  overflow: hidden;\n}\n\n.thumb {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: 50% 50%;\n  pointer-events: none;\n  user-select: none;\n}\n\n.artist-field {\n  position: absolute;\n  bottom: 2px;\n  left: 0;\n  padding-top: 1px;\n  padding-left: 8px;\n  padding-right: 5px;\n  //background: hsl(var(--background-hue), 100%, 30%) var(--background-image);\n  //border-top-left-radius: 100px;\n  //border-left: 1px solid var(--border-color);\n  //border-top: 1px solid var(--border-color);\n\n  text-align: left;\n  color: hsl(var(--background-hue), 70%, 65%);\n\n  p {\n    font-size: 8px;\n    line-height: 1;\n  }\n}\n\n</style>\n","<template>\n  <div class=\"value-meter\" :style=\"cssVars\">\n    <div class=\"filled-bar\"></div>\n    <div class=\"label\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueRange from '@/effects/ValueRange'\n\n@Options({\n  props: {\n    container: ValueRange,\n    barColor: String,\n    backgroundColor: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--percent-filled': this.container.fraction * 100 + '%',\n        '--background-color': this.backgroundColor,\n        '--bar-color': this.barColor\n      }\n    }\n  }\n})\nexport default class ValueMeter extends Vue {\n  container!: ValueRange | undefined\n  backgroundColor: string = '#282c3b'\n  barColor: string = '#741A32'\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .value-meter {\n    border: 1px solid black;\n    border-radius: 0;\n    background-color: var(--background-color);\n    position: relative;\n    height: 1em;\n  }\n\n  .filled-bar {\n    height: 100%;\n    transition: width 0.1s linear;\n\n    border-radius: 0;\n    background-color: var(--bar-color);\n    width: var(--percent-filled);\n  }\n\n  .label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    display: grid;\n    place-items: center;\n  }\n\n</style>\n","import axios from \"axios\"\nimport Hjson from \"hjson\"\nimport * as html2canvas from \"html2canvas\"\n\nexport default {\n  baseUrl(): string {\n    return process.env.VUE_APP_BASE_URL\n  },\n  wait(ms: number) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, ms)\n    })\n  },\n  /**\n   * Fetches a HJSON or JSON file from the public folder.\n   * @param path relative to the public folder with no leading slash. Ex: 'research/research-tree.hjson'\n   */\n  async fetchHjson(path: string) {\n    let response = await axios.get(\n      this.baseUrl() + '/' + path,\n      { transformResponse: [(data) => { return data }] }) // Return pure data, do not auto-convert to json\n\n    let data = response.data\n    let info = Hjson.parse(data)\n    return info\n  },\n  async getInfo(id: string) {\n    return await this.fetchHjson(id + '/info.hjson')\n  },\n  isVideo(url: string) {\n    return /\\.webm$/i.test(url)\n  },\n  sample(array: any[]): any {\n    return array[Math.floor(Math.random() * array.length)]\n  },\n  timeToDays(time: number): number {\n    return time / 60\n  },\n  currentDate(time: number): string {\n    let day = Math.floor(this.timeToDays(time))\n    let timeofday = ((time % 60) / 60 * 24)\n    let hour = Math.floor(timeofday)\n    let minute = ((timeofday - hour) * 60)\n    return `Day ${day}, ${hour.toFixed(0).padStart(2, '0')}:${minute.toFixed(0).padStart(2, '0')}`\n  },\n  displayTime(time: number): string {\n    let day = Math.floor(this.timeToDays(time))\n    let timeofday = ((time % 60) / 60 * 24)\n    let hour = Math.floor(timeofday)\n    let minute = ((timeofday - hour) * 60)\n\n    let s = \"\"\n    if (day == 1) s += `${day} day`\n    if (day > 1) s += `${day} days`\n    if (day >= 1 && hour > 0) s += \", \"\n    if (hour == 1) s += `${hour} hour`\n    if (hour > 1) s += `${hour} hours`\n    if (day == 0 && hour == 0) s = `${minute} minutes`\n    return s\n  },\n  uuid(): string {\n    return (\"\" + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n      (Number(c) ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> Number(c) / 4).toString(16)\n    )\n  },\n  capitalize(s: string): string {\n    return s.charAt(0).toUpperCase() + s.substr(1)\n  },\n  pickFrom<E>(list: E[], fraction: number): E {\n    let index = this.clamp(Math.round(fraction * (list.length - 1)), 0, list.length - 1)\n    return list[index]\n  },\n  clamp(value: number, min: number, max: number) {\n    return Math.max(Math.min(value, max), min)\n  },\n  /**\n   *\n   * @param value the number that should be formatted\n   * @param relative this number determines how the value should be formatted. If not given, value is used for this.\n   */\n  showNumber(value: number, relative: number | undefined = undefined): string {\n    if (relative == undefined) relative = value\n\n    if (relative < 1) return value.toFixed(2)\n    else if (relative < 10) return value.toFixed(1)\n    return value.toFixed(0)\n  },\n  /** Ensure that a value is one of the possible values, if not, will return the first possible value as default. */\n  ensure(value: any, possibilities: any[]): any {\n    if (possibilities.find(v => v == value)) {\n      return value\n    }\n    return possibilities[0]\n  },\n  shuffle(array: any[]) {\n    let currentIndex = array.length; let temporaryValue; let randomIndex\n\n    // While there remain elements to shuffle...\n    while (currentIndex !== 0) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex)\n      currentIndex -= 1\n\n      // And swap it with the current element.\n      temporaryValue = array[currentIndex]\n      array[currentIndex] = array[randomIndex]\n      array[randomIndex] = temporaryValue\n    }\n    return array\n  },\n  screenshot(id: string, savename: string = 'collection') {\n    let element = document.getElementById(id)\n    if (element == null) {\n      console.error(`Could not take a screenshot of element with id \"${id}\".`)\n      return\n    }\n\n    let childCount = Math.max(element.childNodes.length - 2, 1)\n    let childWidth = 260\n    let childHeight = 360\n    let width = element.style.width\n    let height = element.style.height\n    let minHeight = element.style.minHeight\n\n    let renderWidth = Math.min(childWidth * childCount, 2560)\n    element.style.width = `${renderWidth}px`\n\n    if (childCount * childWidth < 2560) {\n      element.style.height = `${childHeight}px`\n      element.style.minHeight = `${childHeight}px`\n    }\n\n    // @ts-ignore\n    html2canvas(element, {\n      backgroundColor: '#5f172e',\n    }).then((canvas: any) => {\n      //document.body.appendChild(canvas)\n      let image = canvas.toDataURL(\"image/jpeg\")\n      let a = document.createElement('a')\n      a.download = `${savename}.jpg`\n      a.href = image\n      document.body.appendChild(a)\n      a.click()\n    })\n\n    element.style.width = width\n    element.style.minHeight = minHeight\n    element.style.height = height\n  }\n}\n","import CollectionPlayer from \"@/employee/CollectionPlayer\"\nimport util from \"@/util\"\nimport { identifier, list, map, primitive, serializable } from \"serializr\"\n\nexport default class ValueMod {\n  @serializable(identifier())\n  public readonly uuid: string = util.uuid()\n  @serializable\n  public readonly type: string = 'add' // add, mul\n  @serializable\n  public readonly value: number = 0\n\n  constructor(value: number, type: string) {\n    this.type = type\n    this.value = value\n  }\n\n  static activate(value: number, mod: ValueMod): number {\n    if (mod.type === 'add') return value + mod.value\n    else if (mod.type === 'mul') return value * mod.value\n\n    return value\n  }\n\n  /**\n   * Returns the value that could be activated to become X, where X is the input value\n   * @param value X\n   * @param mod\n   */\n  static reverseActivate(value: number, mod: ValueMod): number {\n    if (mod.type === 'add') return value - mod.value\n    else if (mod.type === 'mul') return value * (1 / mod.value)\n    return value\n  }\n\n  /**\n   * Activate all mods on a value. This uses a predefined order of activation.\n   * @param value the value to modify\n   * @param mods\n   */\n  static activateAll(value: number, mods: ValueMod[]): number {\n    for (let mod of mods) {\n      if (mod.type === 'add') value = ValueMod.activate(value, mod)\n    }\n\n    for (let mod of mods) {\n      if (mod.type === 'mul') value = ValueMod.activate(value, mod)\n    }\n\n    return value\n  }\n\n  /**\n   * Reverse-activates all mods on a value. This uses a predefined order of activation.\n   * @param value the value to modify\n   * @param mods\n   */\n  static reverseActivateAll(value: number, mods: ValueMod[]): number {\n    for (let mod of mods.reverse()) {\n      if (mod.type === 'mul') value = ValueMod.reverseActivate(value, mod)\n    }\n\n    for (let mod of mods.reverse()) {\n      if (mod.type === 'add') value = ValueMod.reverseActivate(value, mod)\n    }\n\n    return value\n  }\n\n  equals(mod: ValueMod) {\n    return this.value == mod.value && this.type == mod.type\n  }\n\n  toString(): string {\n    let s = \"\"\n    let value = util.showNumber(Math.abs(this.value))\n    let type = \"\"\n    if (this.type === 'add') {\n      if (this.value > 0) s = `+${value}`\n      else s = `-${value}`\n    } else if (this.type === 'mul') {\n      s = `x${value}`\n    }\n    return s\n  }\n}\n","import CollectionPlayer from \"@/employee/CollectionPlayer\"\nimport util from \"@/util\"\nimport { list, map, object, primitive, serializable } from \"serializr\"\nimport ValueMod from \"@/effects/ValueMod\"\n\nexport type MapStringAny = { [index: string]: any }\n\nexport default class ValueRange {\n  @serializable\n  private _baseValue: number = 0\n  @serializable\n  private readonly _min: number = 0\n  @serializable\n  private readonly _max: number = 0\n\n  @serializable(map(object(ValueMod)))\n  public valueMods: MapStringAny = {}\n\n  @serializable(map(object(ValueMod)))\n  public minMods: MapStringAny = {}\n\n  @serializable(map(object(ValueMod)))\n  public maxMods: MapStringAny = {}\n\n  @serializable(list(primitive()))\n  private readonly texts: string[] = []\n\n  @serializable\n  public readonly capBaseValue: boolean = false // If true, setting baseValue outside min/max range will not work\n\n  constructor(value: number, min: number, max: number | undefined = undefined, text: string[] = [], capBaseValue = false) {\n    this._baseValue = value\n    this._min = min\n    this._max = (max == undefined) ? Number.MAX_SAFE_INTEGER : max\n    this.texts = text\n    this.capBaseValue = capBaseValue\n  }\n\n  /**\n   * Adds the given amount to the current final value.\n   * @param value\n   * @return how much the value was changed\n   */\n  addValue(value: number): number {\n    let mulMods = []\n    for (let key in this.valueMods) {\n      let mod = this.valueMods[key]\n      if (mod.type == 'mul') mulMods.push(mod)\n    }\n    let oldValue = this.value\n    let oldBase = this.baseValue\n    this.baseValue += ValueMod.reverseActivateAll(value, mulMods)\n    return this.value - oldValue\n  }\n\n  /**\n   * Adds the given amount to the current base value.\n   * @param value\n   * @return how much the base value was actually changed\n   */\n  addBaseValue(value: number): number {\n    let oldBase = this.baseValue\n    this.baseValue += value\n\n    return this.baseValue - oldBase\n  }\n\n  set fraction(fraction: number) {\n    this.baseValue = this.min + this.max * fraction\n  }\n\n  get fraction(): number {\n    return (this.value - this.min) / (this.max - this.min)\n  }\n\n  get value(): number {\n    let sum = ValueMod.activateAll(this._baseValue, Object.values(this.valueMods))\n\n    if (sum > this.max) {\n      return this.max\n    } else if (sum < this.min) {\n      return this.min\n    } else {\n      return sum\n    }\n  }\n\n  set baseValue(value: number) {\n    if (this.capBaseValue) {\n      value = Math.max(Math.min(value, this.max), this.min)\n    }\n    this._baseValue = value\n  }\n\n  get baseValue(): number {\n    return this._baseValue\n  }\n\n  get min(): number {\n    return ValueMod.activateAll(this._min, Object.values(this.minMods))\n  }\n\n  //set min(value: number) {\n  //  this._min = value;\n  //}\n\n  get max(): number {\n    return ValueMod.activateAll(this._max, Object.values(this.maxMods))\n  }\n\n  //set max(value: number) {\n  //  this._max = value;\n  //}\n\n  get text(): string {\n    if (this.texts.length == 0) return this.value.toFixed(1)\n    return util.pickFrom(this.texts, this.fraction)\n  }\n\n  load(state: ValueRange) {\n    //this._min = state._min\n    //this._max = state._max\n    this._baseValue = state._baseValue\n  }\n\n  get copy(): ValueRange {\n    let v = new ValueRange(this._baseValue, this._min, this._max, this.texts)\n    v.valueMods = this.valueMods\n    return v\n  }\n}\n","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueRange from '@/effects/ValueRange'\n\n@Options({\n  props: {\n    container: ValueRange,\n    barColor: String,\n    backgroundColor: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--percent-filled': this.container.fraction * 100 + '%',\n        '--background-color': this.backgroundColor,\n        '--bar-color': this.barColor\n      }\n    }\n  }\n})\nexport default class ValueMeter extends Vue {\n  container!: ValueRange | undefined\n  backgroundColor: string = '#282c3b'\n  barColor: string = '#741A32'\n}\n","import { render } from \"./ValueMeter.vue?vue&type=template&id=ef28c724&scoped=true\"\nimport script from \"./ValueMeter.vue?vue&type=script&lang=ts\"\nexport * from \"./ValueMeter.vue?vue&type=script&lang=ts\"\n\nimport \"./ValueMeter.vue?vue&type=style&index=0&id=ef28c724&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ef28c724\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../cards/Card\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    card: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n        '--background-hue': this.card.hue,\n        '--background-image': 'url(' + require('@/assets/black-felt.png') + ')',\n        '--thumb': 'url(' + this.card.thumb + ')'\n      }\n    }\n  }\n})\nexport default class PlayingCard extends Vue {\n  card!: Card\n}\n","import { render } from \"./PlayingCard.vue?vue&type=template&id=270eee57&scoped=true\"\nimport script from \"./PlayingCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PlayingCard.vue?vue&type=script&lang=ts\"\n\nimport \"./PlayingCard.vue?vue&type=style&index=0&id=270eee57&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-270eee57\"\n\nexport default script","import { reactive, toRefs } from 'vue'\nimport util from \"@/util\"\nimport axios from \"axios\"\nimport MarkdownIt from 'markdown-it'\n\nconst state = reactive({\n  loading: true,\n  cardFamilyString: \"\" as string,\n  dialogueString: \"\" as string,\n  artistsString: \"\" as string,\n  patreonCredits: \"\",\n  patchNotesString: \"\"\n})\n\nexport default function globalState() {\n  const load = async () => {\n    state.loading = true\n\n    // Await all resources in parallel\n    let [familyList, dialogue, artists, credits, patchList] = await Promise.all([\n      util.fetchHjson('cards/series.hjson'),\n      util.fetchHjson('dialogue.hjson'),\n      util.fetchHjson('cards/artists.hjson'),\n      axios.get('https://www.blushingdefeat.com/assets/blushing-defeat-credits.json'),\n      util.fetchHjson('patch-notes/content.hjson')\n    ])\n\n    state.dialogueString = JSON.stringify(dialogue)\n    state.artistsString = JSON.stringify(artists)\n    state.patreonCredits = credits.data\n\n    // Second round of await for resources specified in the first await\n    let familyPromises: any[] = []\n    for (let familyPath of familyList) {\n      familyPromises.push(util.fetchHjson(`cards/${familyPath}`))\n    }\n    let families: any[] = await Promise.all(familyPromises)\n    state.cardFamilyString = JSON.stringify(families)\n\n    // Load patch notes\n    let patches: any[] = []\n    let md = new MarkdownIt()\n    for (let patchId of patchList) {\n      let patch = await util.fetchHjson(`patch-notes/${patchId}.hjson`)\n      patch.id = patchId\n      patch.text = md.render(patch.text)\n      patches.push(patch)\n    }\n    state.patchNotesString = JSON.stringify(patches)\n\n    state.loading = false\n  }\n\n  return { ...toRefs(state), load }\n}\n","import { list, primitive, serializable } from \"serializr\"\nimport Card from \"@/cards/Card\"\nimport globalState from \"@/store/globalState\"\n\nexport default class Family {\n  @serializable\n  public readonly id: string\n  @serializable\n  public readonly name: string\n  @serializable\n  public readonly thumb: string\n  @serializable\n  public readonly artist: string\n  @serializable\n  public readonly hue: string\n  @serializable(list(primitive()))\n  public readonly cards: string[]\n\n  constructor(state: any) {\n    this.id = state.id\n    this.name = state.name\n    this.thumb = state.thumb\n    this.artist = state.artist ? state.artist : \"Gardamuse\"\n    this.hue = state.hue\n    this.cards = state.cards.map((card: { id: string }) => card.id)\n  }\n\n  private static familiesLoaded = false\n  private static _familyMap: {[key: string]: Family} = {}\n  public static familyMap(): {[key: string]: Family} {\n    if (this.familiesLoaded) return this._familyMap\n\n    let families: any = JSON.parse(globalState().cardFamilyString.value)\n    for (let state of families) {\n      let family = new Family(state)\n      this._familyMap[family.id] = family\n    }\n    this.familiesLoaded = true\n    return this._familyMap\n  }\n}\n","import util from \"@/util\"\nimport Card from \"@/cards/Card\"\nimport { custom, deserialize, getDefaultModelSchema, list, object, serializable } from \"serializr\"\nimport globalState from \"@/store/globalState\"\nimport Family from \"@/cards/Family\"\n\nexport default class Deck {\n  public cards: Card[]\n\n  private static cardsLoaded = false\n  private static _cardMap: {[key: string]: Card} = {}\n  private static _referenceDeck: Deck\n\n  constructor(cards: Card[] | undefined = undefined) {\n    if (cards != undefined) {\n      this.cards = cards\n    } else {\n      this.cards = []\n    }\n  }\n\n  createNew(): Deck {\n    return Deck.referenceDeck().copy()\n  }\n\n  /** Returns a new deck with this one's cards, but with all cards of a given family removed. */\n  withoutFamily(family: string): Deck {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (card.family.id != family) cards.push(card)\n    }\n    return new Deck(cards)\n  }\n\n  /** Returns a new deck with this one's cards, but only with cards of a given family.\n   *\n   * Using 'all' will return a copy of this entire deck.\n   * */\n  onlyFamily(family: string): Deck {\n    if (family == 'all') return new Deck(this.cards)\n\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (card.family.id == family) cards.push(card)\n    }\n    return new Deck(cards)\n  }\n\n  /** Makes all cards in this deck references to cards in a single common reference deck. */\n  rebase(): Deck {\n    let deck: Deck = new Deck()\n    for (let card of this.cards) {\n      deck.addCard(Deck.lookup(card.id))\n    }\n    return deck\n  }\n\n  /** Returns this deck but with each card only appearing once. */\n  unique(): Deck {\n    let deck: Deck = new Deck()\n    for (let card of this.cards) {\n      if (deck.getCardById(card.id) == undefined) deck.addCard(card)\n    }\n\n    return deck\n  }\n\n  /** Returns this deck but packs child cards into their parents as sub-cards.*/\n  pack(): Deck {\n    let deck: Deck = new Deck()\n    for (let card of this.cards) {\n      if (card.hasParent) {\n        let parentId = card.parent!.id\n        let parent: Card\n\n        if (deck.hasCard(parentId)) {\n          // If the parent already exists in the new deck\n          parent = deck.getCardById(parentId)!\n\n        } else if (this.hasCard(parentId)) {\n          // If the parent exists in the old deck\n          parent = this.getCardById(parentId)!\n          deck.addCard(parent)\n\n        } else {\n          // If the parent doesn't exist in either deck, create it from static\n          parent = Deck.lookup(parentId)\n          parent.subcards = []\n          deck.addCard(parent)\n        }\n        parent.addSubCard(card)\n\n      } else {\n        deck.addCard(card)\n      }\n    }\n    return deck\n  }\n\n  /** Returns this deck but with all child cards directly in the deck. All parent cards are removed. */\n  unpack(): Deck {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (card.isParent) {\n        for (let i = 0; i < card.subcards.length; i++) {\n          cards.push(card.getLevel(i))\n        }\n      } else {\n        cards.push(card)\n      }\n    }\n    return new Deck(cards)\n  }\n\n  /**\n   * Returns the cards on 1-based indices specified by values.\n   * @param values\n   */\n  pick(values: number[]): Deck {\n    let cards: Card[] = []\n    for (let i = 0; i < this.cards.length; i++) {\n      for (let value of values) {\n        if (i == value - 1) cards.push(this.cards[i])\n      }\n    }\n    return new Deck(cards)\n  }\n\n  draw(value: number): Deck {\n    let cards: Card[] = []\n    for (let i = 0; i < value; i++) {\n      let card: Card | undefined = this.cards.pop()\n      if (card != undefined) cards.push(card)\n      else break\n    }\n    return new Deck(cards)\n  }\n\n  /** Draws the card with given index. */\n  drawIndex(index: number) {\n    return this.cards.splice(index, 1)[0]\n  }\n\n  addCard(card: Card) {\n    this.cards.push(card)\n  }\n\n  addDeck(deck: Deck) {\n    this.cards = this.cards.concat(deck.cards)\n  }\n\n  removeCard(card: Card) {\n    let i = this.cards.findIndex(c => c.id == card.id)\n    if (i != -1) this.drawIndex(i)\n  }\n\n  hasCard(cardId: string): boolean {\n    return this.cards.find(card => card.id == cardId) != undefined\n  }\n\n  size(): number {\n    return this.cards.length\n  }\n\n  shuffle() {\n    this.cards = util.shuffle(this.cards)\n  }\n\n  sortByFamily() {\n    this.cards = this.cards.sort((a, b) => (a.family.id < b.family.id) ? -1 : 1)\n    return this\n  }\n\n  sortByLevel(): Deck {\n    this.cards = this.cards.sort((a, b) => a.level - b.level)\n    return this\n  }\n\n  get pickableCards(): Card[] {\n    let cards: Card[] = []\n    for (let card of this.cards) {\n      if (!card.isParent) cards.push(card)\n      for (let i = 0; i < card.subcards.length; i++) {\n        cards.push(card.getLevel(i))\n      }\n    }\n    return cards\n  }\n\n  /** Returns all cards, not just top level ones. */\n  get allLevels(): Card[] {\n    let cards = []\n    for (let card of this.cards) {\n      cards.push(card)\n      if (card.isParent) {\n        for (let sub of card.subcards) {\n          cards.push(sub)\n        }\n      }\n    }\n    return cards\n  }\n\n  getCardById(id: string): Card | undefined {\n    let card = this.allLevels.find(card => card.id == id)\n    return card\n  }\n\n  copy(): Deck {\n    return new Deck(this.cards.map((c: Card) => c.copy()))\n  }\n\n  public static createFromCardStates(cardStates: any[]): Deck {\n    let cards: Card[] = []\n    for (let state of cardStates) {\n      cards.push(Deck.lookup(state.id))\n    }\n    return new Deck(cards)\n  }\n\n  public static lookup(id: string): Card {\n    let card = this.cardMap()[id]\n    if (card == undefined) console.warn(`Static lookup of card \"${id}\" failed.`)\n    return card.copy()\n  }\n\n  public static referenceDeck(): Deck {\n    if (this._referenceDeck != undefined) {\n      return this._referenceDeck.copy()\n    }\n\n    let cards = this.parseCards()\n\n    let deck: Deck = new Deck()\n    for (let card of cards) {\n      if (!card.isParent) deck.addCard(card)\n    }\n\n    this._referenceDeck = deck.pack()\n    return this._referenceDeck.copy()\n  }\n\n  private static cardMap(): {[key: string]: Card} {\n    if (this.cardsLoaded) return this._cardMap\n\n    for (let card of this.parseCards()) {\n      this._cardMap[card.id] = card\n    }\n\n    this.cardsLoaded = true\n    return this._cardMap\n  }\n\n  private static parseCards(): Card[] {\n    let families: any = JSON.parse(globalState().cardFamilyString.value)\n    let cards = []\n    for (let familyState of families) {\n      let family = new Family(familyState)\n      for (let card of familyState.cards) {\n        let levels: Card[] = []\n\n        // If this card is a parent\n        if (card.levels != undefined) {\n          // Create all level cards for it\n          for (let [i, subcard] of card.levels.entries()) {\n            let leveledCard: Card = new Card({\n              family: family.id,\n              thumb: (subcard.thumb) ? `cards/${subcard.thumb}` : (card.thumb) ? `cards/${card.thumb}` : `cards/${family.thumb}`,\n              id: subcard.id,\n              name: subcard.name,\n              description: subcard.description,\n              type: card.type,\n              subcards: [],\n              levels: 1,\n              level: i + 1,\n              parent: card.id,\n              hue: family.hue,\n              artist: (subcard.artist) ? subcard.artist : (card.artist) ? card.artist : (family.artist) ? family.artist : \"Gardamuse\"\n            })\n            levels.push(leveledCard)\n            cards.push(leveledCard)\n          }\n        }\n        cards.push(this.parseCard(card, family, levels))\n      }\n    }\n\n    return cards\n  }\n\n  /** Parses a single card. */\n  private static parseCard(card: any, family: any, subcards: Card[] = []) {\n    return new Card({\n      family: family.id,\n      thumb: (card.thumb) ? `cards/${card.thumb}` : `cards/${family.thumb}`,\n      id: card.id,\n      name: card.name,\n      description: card.description,\n      type: card.type,\n      subcards: subcards.map(c => c.id),\n      levels: subcards.length,\n      hue: family.hue,\n      artist: (card.artist) ? card.artist : (family.artist) ? family.artist : \"Gardamuse\"\n    })\n  }\n}\n","import { identifier, list, object, primitive, serializable, serialize } from \"serializr\"\nimport Family from \"@/cards/Family\"\nimport Deck from \"@/cards/Deck\"\n\nexport default class Card {\n  @serializable\n  private readonly _family: string\n  @serializable\n  private readonly _parent: string\n\n  @serializable\n  public readonly thumb: string\n  @serializable(identifier())\n  public readonly id: string\n  @serializable\n  public readonly name: string\n  @serializable\n  public readonly description: string\n  @serializable(list(primitive()))\n  private _subcards: string[]\n  @serializable\n  public readonly type: string // numeric, select, single\n  @serializable\n  public readonly _level: number\n  @serializable\n  public readonly levels: number\n  @serializable\n  public readonly hue: number\n  @serializable\n  public readonly artist: string\n\n  public scale: boolean = false\n  public highlight: boolean = false\n\n  constructor(state: any) {\n    if (state == undefined) state = {}\n\n    this._family = state.family ? state.family : \"none\"\n    this._parent = state.parent\n\n    this.thumb = state.thumb\n    this.id = state.id\n    this.name = state.name\n    this.description = state.description\n    this._subcards = state.subcards ? state.subcards : []\n    this._level = state.level ? state.level : 0\n    this.levels = state.levels ? state.levels : 0\n    this.type = state.type ? state.type : \"single\"\n    this.hue = state.hue ? state.hue : 0\n    this.artist = state.artist ? state.artist : \"Gardamuse\"\n  }\n\n  get title(): string {\n    if (this.hasParent) return `${this.parent!.name}`\n    return this.name\n  }\n\n  get subtitle(): string {\n    if (this.hasParent) return `${this.name}`\n    return \"\"\n  }\n\n  set subcards(cards: Card[]) {\n    this._subcards = cards.map(c => c.id)\n  }\n\n  get subcards(): Card[] {\n    return this._subcards.map((id: string) => Deck.lookup(id))\n  }\n\n  addSubCard(card: Card) {\n    if (!this.hasSubCard(card)) {\n      this._subcards.push(card.id)\n      this._subcards.sort()\n    }\n  }\n\n  hasSubCard(card: Card): boolean {\n    return this._subcards.find(id => id == card.id) != undefined\n  }\n\n  get level(): number {\n    return this._level\n  }\n\n  get maxLevel(): number {\n    if (this.hasParent) {\n      return this.parent!.levels\n    }\n    return this.levels\n  }\n\n  get levelString(): string {\n    if (this.type == \"single\") return \"1\"\n    if (this.isParent && this.levels == this.subcards.length) {\n      return this.levels.toFixed(0)\n    } else if (this.isParent) {\n      return `${this.subcards.length} / ${this.levels}`\n    }\n    return `${this.level} / ${this.maxLevel}`\n  }\n\n  getLevel(level: number): Card {\n    if (this.type != \"single\" && level < this.subcards.length) {\n      return this.subcards[level]\n    }\n    return this\n  }\n\n  get parent(): Card | undefined {\n    return Deck.lookup(this._parent)\n  }\n\n  get hasParent(): boolean {\n    return this._parent != undefined\n  }\n\n  get isParent(): boolean {\n    return this.type != \"single\" && this.levels > 1\n  }\n\n  get family(): Family {\n    return Family.familyMap()[this._family]\n  }\n\n  equals(c: Card) {\n    return this.id == c.id\n  }\n\n  copy(): Card {\n    let card = new Card({\n      id: this.id,\n      name: this.name,\n      thumb: this.thumb,\n      description: this.description,\n      subcards: this._subcards,\n      levels: this.levels,\n      level: this._level,\n      type: this.type,\n      hue: this.hue,\n      artist: this.artist,\n      family: this._family,\n      parent: this._parent\n    })\n    return card\n  }\n\n  toJSON() {\n    return serialize(this)\n  }\n}\n","<template>\n  <div class=\"dice-view\" :class=\"{'locked-dice': dice.locked}\" :style=\"cssVars\" @click=\"dice.roll()\">\n    <p>{{ dice.value }} / {{ dice.max }}</p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../cards/Card\"\nimport Dice from \"@/Dice\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    dice: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n      }\n    }\n  }\n})\nexport default class DiceView extends Vue {\n  dice!: Dice\n}\n</script>\n\n<style lang=\"scss\">\n.dice-view {\n  background: #fff0e8;\n  color: #111;\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n  border: 3px solid black;\n  border-radius: 4px;\n  padding: 5px 5px;\n  cursor: pointer;\n  user-select: none;\n\n  // Align content vertically\n  display: table;\n  p {\n    display: table-cell;\n    vertical-align: middle;\n  }\n\n  backface-visibility: hidden;\n  transition: transform 0.2s, border-color 0s;\n  transform-origin: top;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    border-color: #efa200;\n    color: #efa200;\n  }\n}\n\n.locked-dice {\n  color: #222;\n  background: #777068;\n  cursor: default;\n\n  &:hover {\n    transform: scale(1);\n  }\n\n  &:active {\n    border-color: var(--border-color);\n    color: #222;\n  }\n}\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Card from \"../cards/Card\"\nimport Dice from \"@/Dice\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    dice: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--border-color': 'black',\n      }\n    }\n  }\n})\nexport default class DiceView extends Vue {\n  dice!: Dice\n}\n","import { render } from \"./DiceView.vue?vue&type=template&id=7226aa86\"\nimport script from \"./DiceView.vue?vue&type=script&lang=ts\"\nexport * from \"./DiceView.vue?vue&type=script&lang=ts\"\n\nimport \"./DiceView.vue?vue&type=style&index=0&id=7226aa86&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"dialogue-status-card window\" :class=\"{'simple': title !== undefined}\">\n    <div class=\"text\">\n      {{ game.currentDialogue }}\n    </div>\n    <div v-if=\"title !== undefined\" style=\"grid-area: r;\">\n      <h1>{{ title }}</h1>\n    </div>\n    <template v-else>\n      <div class=\"round-counter\">\n        <h3 v-if=\"game.round.value > 0\">{{ game.roundString }}</h3>\n        <h1 v-else style=\"margin: 0; padding: 0;\">Ditzy Dice</h1>\n      </div>\n      <div v-if=\"game.round.value > 0 && game.stageId !== 'bonus'\" class=\"bonus-rolls\">\n        <h3>Bonus rolls: {{ game.state.bonusRolls.value }} / {{ game.state.bonusRolls.max }}</h3>\n      </div>\n      <div v-if=\"game.state.cardsToPick > 0\" class=\"cards-to-pick\">\n        <h3>Picked {{ game.state.cardsPickedThisRound }} of {{ game.state.cardsToPick }} cards</h3>\n      </div>\n    </template>\n    <div class=\"buttons\">\n      <template v-for=\"button in game.buttons\" v-bind:key=\"button\">\n        <TextButton @click=\"button.fun()\">\n          <p style=\"margin: 0;\">{{ button.label }}</p>\n        </TextButton>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    menu: Object,\n    title: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  }\n})\nexport default class DialogueStatusCard extends Vue {\n  menu!: Menu\n  title!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .dialogue-status-card {\n    display: grid;\n    grid-template-rows: 30px 30px 1fr 60px;\n    grid-template-columns: 2fr 2fr 1fr minmax(150px, 2fr);\n    grid-template-areas:\n      \"r r . b\"\n      \"p p . b\"\n      \"t t t t\"\n      \"n n n n\";\n\n    white-space: pre-wrap;\n\n    @media only screen and (max-width: 1000px){\n      grid-template-rows: 25px 25px 1fr 60px;\n      grid-template-columns: 1fr 1fr minmax(100px, 1fr);\n      grid-template-areas:\n      \"r r b\"\n      \"p p b\"\n      \"t t t\"\n      \"n n n\";\n    }\n\n    .text {\n      grid-area: t;\n      padding-top: 10px;\n    }\n\n    .buttons {\n      grid-area: n;\n    }\n\n    .round-counter {\n      grid-area: r;\n    }\n\n    .cards-to-pick {\n      grid-area: p;\n    }\n\n    .bonus-rolls {\n      grid-area: b;\n    }\n  }\n\n  .simple {\n    grid-template-rows: 50px 1fr auto;\n    grid-template-columns: 2fr 2fr 1fr;\n    grid-template-areas:\n      \"r r r\"\n      \"t t t\"\n      \"n n n\";\n\n    @media only screen and (max-width: 1140px){\n      grid-template-rows: 50px 1fr 50px;\n      grid-template-columns: 2fr 2fr 1fr;\n      grid-template-areas:\n      \"r r r\"\n      \"t t t\"\n      \"n n n\";\n    }\n  }\n\n  .buttons {\n    display: flex;\n    flex-wrap: wrap;\n\n    .text-button {\n      flex: 1;\n      min-width: 100px;\n      margin: 5px;\n      border: $component-border-style;\n      border-radius: $border-radius;\n    }\n  }\n\n  h1, h2, h3 {\n    margin: 0;\n  }\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    menu: Object,\n    title: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  }\n})\nexport default class DialogueStatusCard extends Vue {\n  menu!: Menu\n  title!: string\n}\n","import { render } from \"./DialogueStatusCard.vue?vue&type=template&id=47feb228&scoped=true\"\nimport script from \"./DialogueStatusCard.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogueStatusCard.vue?vue&type=script&lang=ts\"\n\nimport \"./DialogueStatusCard.vue?vue&type=style&index=0&id=47feb228&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-47feb228\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport Menu from \"@/Menu\"\nimport DialogueStatusCard from \"@/components/DialogueStatusCard.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, DiceView, DialogueStatusCard\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class GameView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n","import { render } from \"./GameView.vue?vue&type=template&id=f6543726&scoped=true\"\nimport script from \"./GameView.vue?vue&type=script&lang=ts\"\nexport * from \"./GameView.vue?vue&type=script&lang=ts\"\n\nimport \"./GameView.vue?vue&type=style&index=0&id=f6543726&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-f6543726\"\n\nexport default script","import Game from \"@/Game\"\n\nexport default class Dice {\n  private _value: number = 1\n  public max: number\n  private _locked: boolean = false\n  private isRolling: boolean = false\n  private valueUsed: boolean = true // True when dice has been rolled but its value has not yet been used\n\n  private game: Game\n\n  // @ts-ignore\n  constructor(max: number, game: Game = undefined) {\n    this.max = max\n    this.game = game\n  }\n\n  load(game: Game) {\n    this.game = game\n  }\n\n  roll() {\n    if (this.isRolling || this.locked) return\n    this.isRolling = true\n    this.rollingDice(9)\n  }\n\n  /** Returns the dice value and marks this dice as used until it is rolled again. */\n  useValue(): number {\n    this.valueUsed = true\n    return this.value\n  }\n\n  get isUsed(): boolean {\n    return this.valueUsed\n  }\n\n  private rollingDice(rollsLeft: number) {\n    if (rollsLeft > 0) {\n      this._value = rollsLeft\n      setTimeout(() => {\n        this.rollingDice(rollsLeft - 1)\n      }, 50)\n    } else {\n      this._value = Math.floor(Math.random() * this.max) + 1\n      if (this.game.currentRolls.findIndex(x => x == this._value) != -1) {\n        //console.log(`Rolled ${this._value}, rerolling.`)\n        this._value = Math.floor(Math.random() * this.max) + 1\n      }\n\n      this.valueUsed = false\n      this.game.notifyDiceRoll(this.value)\n      this.isRolling = false\n    }\n  }\n\n  set locked(value: boolean) {\n    this._locked = value\n  }\n\n  get locked(): boolean {\n    return this._locked || !this.isUsed\n  }\n\n  get value(): number {\n    return this._value\n  }\n\n  get rolling(): boolean {\n    return this.isRolling\n  }\n}\n","export default class GameButton {\n  public label: string\n  public fun: () => any\n\n  constructor(label: string, fun: () => any) {\n    this.label = label\n    this.fun = fun\n  }\n\n  setLabel(label: string): GameButton {\n    this.label = label\n    return this\n  }\n}\n","import Game from \"@/Game\"\nimport Card from \"@/cards/Card\"\nimport GameButton from \"@/GameButton\"\n\nexport default abstract class GameStage {\n  public id: string = \"stage\"\n  protected game: Game\n  protected args: any = {}\n  public text: string = \"\"\n  protected _nextStage: GameStage | undefined\n  protected _allowDiceBuy: boolean = false\n  public activeComponent: string = \"GameView\"\n\n  public buttons: GameButton[] = []\n  protected nextButton: GameButton = new GameButton(\"Next\", () => this.nextStage())\n\n  protected constructor(game: Game, id: string) {\n    this.game = game\n    this.id = id\n  }\n\n  onStart() {}\n\n  onResume() {}\n\n  onDiceRoll(values: number[]) {}\n\n  onCardClick(card: Card) {}\n\n  link(stage: GameStage): GameStage {\n    this._nextStage = stage\n    return stage\n  }\n\n  resumeStage(stage: GameStage) {\n    this.game.setStage(stage)\n    stage.onResume()\n  }\n\n  nextStage(stage: GameStage | undefined = undefined, args: any = undefined) {\n    if (stage != undefined) {\n      this.gotoNext(stage, args)\n    } else if (this._nextStage != undefined) {\n      this.gotoNext(this._nextStage, args)\n    } else {\n      this.game.setStage(this)\n    }\n  }\n\n  allowDiceBuy(): boolean {\n    return this._allowDiceBuy\n  }\n\n  private gotoNext(stage: GameStage, args: any = undefined) {\n    this.game.setStage(stage)\n    stage.args = args\n    stage.onStart()\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport GameButton from \"@/GameButton\"\n\nexport default class TextStage extends GameStage {\n  constructor(game: Game, text: string = \"\") {\n    super(game, \"text\")\n    this.text = text\n\n    this.buttons = [this.nextButton]\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/cards/Card\"\nimport Deck from \"@/cards/Deck\"\nimport PickStage from \"@/stages/PickStage\"\nimport HighlightStage from \"@/stages/HighlightStage\"\n\nexport default class IntensityStage extends GameStage {\n  private pickStage!: PickStage\n  private parentCard!: Card\n  private deck: Deck = new Deck([])\n  private done: boolean = false\n\n  constructor(game: Game) {\n    super(game, \"intensity\")\n  }\n\n  onStart() {\n    this.pickStage = this.args.pickStage\n    this.parentCard = this.args.parentCard\n    this._allowDiceBuy = (this.args.allowDiceBuy != undefined) ? this.args.allowDiceBuy : true\n    this.text = `Ah, you got ${this.parentCard.name}. ${this.game.dialogue['intensityStage']}`\n    this.done = false\n\n    this.deck = new Deck(this.parentCard.subcards).sortByLevel()\n    this.game.drawnCards = this.deck\n    this.game.diceCount = 1\n    this.game.diceSize = this.deck.size()\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.done) return\n    this.done = true\n    this.game.lockDice(true)\n\n    let intensities: Deck = this.deck.pick(values)\n    this.nextStage(new HighlightStage(this.game), { pickStage: this.pickStage, highlightedCards: intensities })\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/cards/Card\"\nimport Deck from \"@/cards/Deck\"\nimport PickStage from \"@/stages/PickStage\"\nimport IntensityStage from \"@/stages/IntensityStage\"\n\nexport default class HighlightStage extends GameStage {\n  private pickStage!: PickStage\n  private highlightedCards: Deck = new Deck([])\n  private done: boolean = false\n\n  constructor(game: Game) {\n    super(game, \"highlight\")\n  }\n\n  onStart() {\n    this.pickStage = this.args.pickStage\n    this.highlightedCards = this.args.highlightedCards\n    this._allowDiceBuy = (this.args.allowDiceBuy != undefined) ? this.args.allowDiceBuy : true\n    if (this.highlightedCards.size() == 1) {\n      this.text = `Ah, you got ${this.highlightedCards.cards[0].name}. Click on it to add it to your hand.`\n    } else {\n      this.text = `Because you rolled multiple dice you now get to choose one of the highlighted cards. Click on the one you want to add to your hand.`\n    }\n\n    for (let c of this.highlightedCards.cards) {\n      c.highlight = true\n    }\n\n    this.done = false\n  }\n\n  onCardClick(card: Card) {\n    if (card.highlight) {\n      for (let c of this.highlightedCards.cards) {\n        c.highlight = false\n        c.scale = false\n      }\n      if (card.isParent) {\n        this.pickStage.deck.removeCard(card)\n        this.nextStage(new IntensityStage(this.game), { pickStage: this.pickStage, parentCard: card, allowDiceBuy: this._allowDiceBuy })\n      } else {\n        this.pickStage.deck.removeCard(card)\n        this.game.pickCard(card)\n        this.resumeStage(this.pickStage)\n      }\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/cards/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport Deck from \"@/cards/Deck\"\nimport GameButton from \"@/GameButton\"\nimport util from \"@/util\"\n\nexport default class EndStage extends GameStage {\n  constructor(game: Game) {\n    super(game, \"end\")\n  }\n\n  onStart() {\n    this.game.pickedCards.sortByFamily()\n    this.activeComponent = \"HandView\"\n    this.text = this.game.dialogue['endStage']\n    this.buttons = [\n      new GameButton(\"Screenshot Hand\", () => { util.screenshot('cards', 'hand') }),\n      new GameButton(\"Back to Menu\", () => { this.game.end() })\n    ]\n  }\n\n  nextStage(stage: GameStage | undefined = undefined, args: any = undefined) {\n    //this.game.restart()\n    //super.nextStage(stage, args)\n    this.activeComponent = \"StartMenu\"\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/cards/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport Deck from \"@/cards/Deck\"\nimport EndStage from \"@/stages/EndStage\"\n\nexport default class BonusStage extends GameStage {\n  private pickedCards: Deck = new Deck([])\n  private leftToPick: number = 0\n  public deck: Deck = new Deck([])\n\n  constructor(game: Game) {\n    super(game, \"bonus\")\n  }\n\n  onStart() {\n    this.text = this.game.dialogue['bonusStage']\n    this.deck = this.game.deck.withoutFamily('reward').draw(12)\n    this.game.state.drawnCards = this.deck\n\n    this.game.round.addValue(1)\n    this.game.state.cardsPickedThisRound = 0\n    this.leftToPick = this.game.state.bonusRolls.value\n    this.game.state.cardsToPick = this.leftToPick\n    this.game.diceCount = 2\n    this.game.diceSize = this.deck.size()\n    this.game.state.isBonusRound = true\n    this._allowDiceBuy = false\n\n    if (this.leftToPick == 0) {\n      this.onResume()\n      this.nextStage(new EndStage(this.game))\n    }\n  }\n\n  onResume() {\n    this.game.state.drawnCards = this.deck\n    this.game.diceCount = 2\n    this.game.diceSize = this.deck.size()\n\n    if (this.leftToPick == 0) {\n      this.game.diceCount = 0\n      this.text = `Great, you've completed the bonus round.`\n      this._nextStage = new EndStage(this.game)\n      this.buttons = [this.nextButton.setLabel(\"To Epilogue\")]\n      this.game.lockDice(true)\n    }\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.leftToPick > 0) {\n      this.leftToPick -= 1\n      this.pickedCards = this.deck.pick(values)\n      this.game.lockDice(true)\n\n      this.nextStage(new HighlightStage(this.game), { pickStage: this, highlightedCards: this.pickedCards, allowDiceBuy: false })\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/cards/Card\"\nimport Deck from \"@/cards/Deck\"\nimport IntensityStage from \"@/stages/IntensityStage\"\nimport HighlightStage from \"@/stages/HighlightStage\"\nimport BonusStage from \"@/stages/BonusStage\"\n\nexport default class PickStage extends GameStage {\n  private leftToPick: number = 0 // How many cards should be picked in this stage\n  private diceCount: number = 1\n  public deck: Deck = new Deck([])\n\n  constructor(game: Game) {\n    super(game, \"pick\")\n  }\n\n  onStart() {\n    this.leftToPick = this.args.cardsToPick\n    this._nextStage = this.args.drawStage\n\n    this.text = this.game.dialogue['pickStage']\n    this.deck = this.game.drawnCards\n\n    this.diceCount = 1\n    this.game.diceCount = this.diceCount\n    this.game.diceSize = this.deck.size()\n    this.buttons = []\n    this._allowDiceBuy = true\n  }\n\n  onResume() {\n    this.game.drawnCards = this.deck\n    this.diceCount = Math.max(1, this.diceCount - 1)\n    this.game.diceCount = this.diceCount\n    this.game.diceSize = this.deck.size()\n    this._allowDiceBuy = true\n    if (this.leftToPick == 0) {\n      this.text = `Good job! You completed round ${this.game.round.value}.`\n      this.buttons = [this.nextButton.setLabel(\"Next Round\")]\n      this.game.lockDice(true)\n\n      if (this.game.round.fraction == 1) {\n        if (this.game.state.bonusRolls.value > 0) {\n          this.buttons = [this.nextButton.setLabel(\"To Bonus Round\")]\n        } else {\n          this.buttons = [this.nextButton.setLabel(\"To Epilogue\")]\n        }\n        this._nextStage = new BonusStage(this.game)\n      }\n    }\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.leftToPick > 0) {\n      this.leftToPick -= 1\n      let highlightedCards = this.deck.pick(values)\n      this.game.lockDice(true)\n      this.diceCount = values.length\n\n      this.nextStage(new HighlightStage(this.game), { pickStage: this, highlightedCards: highlightedCards })\n    }\n  }\n}\n","import GameStage from \"@/stages/GameStage\"\nimport Game from \"@/Game\"\nimport TextStage from \"@/stages/TextStage\"\nimport Card from \"@/cards/Card\"\nimport Dice from \"@/Dice\"\nimport ValueMod from \"@/effects/ValueMod\"\nimport Deck from \"@/cards/Deck\"\nimport PickStage from \"@/stages/PickStage\"\nimport GameButton from \"@/GameButton\"\nimport util from \"@/util\"\n\nexport default class DrawStage extends GameStage {\n  private drawnCards: Deck = new Deck([])\n  private allowNext: boolean = true\n\n  constructor(game: Game) {\n    super(game, \"draw\")\n  }\n\n  onStart() {\n    this.text = this.game.dialogue['drawStage']\n    this.drawnCards = this.game.deck.draw(8)\n    this.game.diceSize = Math.min(6, this.drawnCards.size())\n    this.game.state.drawnCards = this.drawnCards\n    this.allowNext = false\n    this.buttons = []\n    this.game.round.addValue(1)\n    this.game.state.cardsPickedThisRound = 0\n    this.game.state.cardsToPick = 0\n    this.game.diceCount = 1\n    this._allowDiceBuy = false\n  }\n\n  onDiceRoll(values: number[]) {\n    if (this.allowNext) return\n    let value = Math.min(...values)\n    this.game.state.cardsToPick = value\n    this.text = `You will have to draw ${value} cards this round.\\n\\nIf you want to draw either more or fewer cards, you can do so, but you also get an extra bonus roll.`\n    this.allowNext = true\n    this.updateButtons()\n    this.game.lockDice(true)\n  }\n\n  nextStage() {\n    if (this.allowNext) super.nextStage(new PickStage(this.game), { cardsToPick: this.game.state.cardsToPick, drawStage: this })\n  }\n\n  addDraws(value: number) {\n    this.game.state.bonusRolls.addValue(1)\n    this.game.state.cardsToPick = util.clamp(this.game.state.cardsToPick + value, 1, 6)\n    this.text = `You will have to draw ${this.game.state.cardsToPick} cards this round.\\n\\nIf you want to draw either more or fewer cards, you can do so, but you also get an extra bonus roll.`\n    this.updateButtons()\n  }\n\n  updateButtons() {\n    let buttons = []\n    if (this.game.state.cardsToPick > 1 && this.game.state.bonusRolls.value < this.game.state.bonusRolls.max) {\n      buttons.push(new GameButton(\"Draw 1 less\", () => { this.addDraws(-1) }))\n    }\n    if (this.game.state.cardsToPick < 6 && this.game.state.bonusRolls.value < this.game.state.bonusRolls.max) {\n      buttons.push(new GameButton(\"Draw 1 more\", () => { this.addDraws(1) }))\n    }\n    buttons.push(this.nextButton)\n    this.buttons = buttons\n  }\n}\n","import { reactive, toRaw } from 'vue'\nimport Deck from \"@/cards/Deck\"\nimport globalState from \"@/store/globalState\"\nimport Dice from \"@/Dice\"\nimport Card from \"@/cards/Card\"\nimport GameStage from \"@/stages/GameStage\"\nimport TextStage from \"@/stages/TextStage\"\nimport PickStage from \"@/stages/PickStage\"\nimport DrawStage from \"@/stages/DrawStage\"\nimport ValueRange from \"@/effects/ValueRange\"\nimport DialogueView from \"@/components/DialogueView.vue\"\nimport GameButton from \"@/GameButton\"\nimport Menu from \"@/Menu\"\n\nexport default class Game {\n  // State variables are all given default values in restart function\n  state = reactive({\n    deck: new Deck(),\n    dice: [] as Dice[],\n    drawnCards: new Deck([]) as Deck,\n    pickedCards: new Deck([]) as Deck,\n    playerHand: [] as Card[],\n    stage: new TextStage(this) as GameStage,\n    round: new ValueRange(0, 0, 3),\n    isBonusRound: false,\n    cardsToPick: 0,\n    cardsPickedThisRound: 0,\n    rewardRolls: new ValueRange(0, 0, 8),\n    bonusRolls: new ValueRange(0, 0, 8)\n  })\n\n  public dialogue: any\n  public stage1!: GameStage\n  private menu: Menu\n\n  constructor(menu: Menu) {\n    this.menu = menu\n    this.dialogue = JSON.parse(globalState().dialogueString.value)\n\n    this.restart()\n    console.log(\"Deck size:\", this.state.deck.size(), this.state.deck.allLevels.length)\n\n    /** Replaces currently drawn cards. */\n    // @ts-ignore\n    window.gredraw = (value: number) => {\n      if (!(this.state.stage.id == 'draw' || this.state.stage.id == 'pick' || this.state.stage.id == 'bonus')) {\n        return `Can not redraw cards in this stage.`\n      }\n      let cards = this.deck.draw(value)\n      this.state.drawnCards = cards\n      if (this.state.stage.id == 'pick') (this.state.stage as PickStage).deck = cards\n      return `Drew ${value} cards, ${this.deck.size()} cards remain in the current deck.`\n    }\n\n    // @ts-ignore\n    window.groll = (value: number) => {\n      this.state.stage.onDiceRoll([value])\n    }\n\n    // @ts-ignore\n    window.gameComponent = () => {\n      return this.activeComponent\n    }\n  }\n\n  restart() {\n    // Create all stages\n    this.stage1 = new TextStage(this, this.dialogue[`stage1`])\n    this.stage1.id = \"stage1\"\n    this.stage1.activeComponent = \"DialogueView\"\n\n    let stage2 = new TextStage(this, this.dialogue[`stage2`])\n    stage2.activeComponent = \"DialogueView\"\n\n    let stage3Decline = new TextStage(this, this.dialogue[`stage3Decline`])\n    stage3Decline.activeComponent = \"DialogueView\"\n    stage3Decline.buttons = [\n      new GameButton(\"Leave\", () => {\n        this.menu.endGame()\n      })\n    ]\n\n    let stage3 = new TextStage(this, this.dialogue[`stage3`])\n    stage3.activeComponent = \"DialogueView\"\n    stage3.buttons = [\n      new GameButton(\"No\", () => {\n        stage3.nextStage(stage3Decline)\n      }),\n      new GameButton(\"Yes\", () => {\n        stage3.nextStage()\n      })\n    ]\n\n    let stage4 = new TextStage(this, this.dialogue[`stage4`])\n    stage4.buttons = [\n      new GameButton(\"Start\", () => {\n        stage4.nextStage()\n      }),\n    ]\n    stage4.activeComponent = \"DialogueView\"\n\n    let stageD = new DrawStage(this)\n\n    this.stage1.link(stage2).link(stage3).link(stage4).link(stageD)\n\n    // Reset state variables\n    this.state.deck = new Deck().createNew().pack()\n    this.state.dice = []\n    this.state.drawnCards = new Deck([])\n    this.state.pickedCards = new Deck([])\n    this.state.playerHand = []\n    this.state.stage = this.stage1\n    this.state.round = new ValueRange(0, 0, 3)\n    this.state.isBonusRound = false\n    this.state.cardsToPick = 0\n    this.state.cardsPickedThisRound = 0\n    this.state.rewardRolls = new ValueRange(0, 0, 8)\n    this.state.bonusRolls = new ValueRange(0, 0, 8)\n\n    this.state.deck.shuffle()\n    this.lockDice(true)\n  }\n\n  end() {\n    this.menu.endGame()\n  }\n\n  /** Adds a card to the players hand */\n  pickCard(card: Card) {\n    this.state.pickedCards.addCard(card)\n    this.state.cardsPickedThisRound += 1\n  }\n\n  nextStage() {\n    this.state.stage.nextStage()\n  }\n\n  get buttons(): GameButton[] {\n    return this.state.stage.buttons\n  }\n\n  setStage(stage: GameStage) {\n    this.state.stage = stage\n  }\n\n  currentRolls: number[] = []\n  notifyDiceRoll(value: number) {\n    this.currentRolls.push(value)\n\n    if (this.allDiceReady) {\n      this.state.stage.onDiceRoll(this.diceValues)\n      this.currentRolls = []\n\n      for (let die of this.state.dice) {\n        die.useValue()\n      }\n    }\n  }\n\n  get diceValues(): number[] {\n    let values = []\n    for (let die of this.state.dice) {\n      values.push(die.value)\n    }\n    return values\n  }\n\n  get allDiceReady(): boolean {\n    return this.diceReadyCount == this.state.dice.length\n  }\n\n  get diceReadyCount(): number {\n    let ready = 0\n    for (let die of this.state.dice) {\n      if (!die.isUsed) ready += 1\n    }\n    return ready\n  }\n\n  get diceRollingCount(): number {\n    let rollCount = 0\n    for (let die of this.state.dice) {\n      if (die.rolling) rollCount += 1\n    }\n    return rollCount\n  }\n\n  lockDice(value: boolean) {\n    for (let die of this.state.dice) {\n      die.locked = value\n    }\n  }\n\n  diceAreLocked(): boolean {\n    let locked = 0\n    for (let die of this.state.dice) {\n      if (die.locked) locked += 1\n    }\n    return locked == this.state.dice.length\n  }\n\n  buyDice() {\n    if (!this.allowDiceBuy()) return\n    this.bonusRolls.addValue(1)\n\n    if (this.state.dice.length == 0) this.state.dice.push(new Dice(6, this))\n    else this.state.dice.push(new Dice(this.state.dice[0].max, this))\n  }\n\n  allowDiceBuy(): boolean {\n    return this.state.stage.allowDiceBuy() &&\n      this.diceReadyCount + this.diceRollingCount == 0 &&\n      !this.diceAreLocked() &&\n      this.state.dice.length < 4 &&\n      this.state.bonusRolls.value < this.state.bonusRolls.max\n  }\n\n  get activeComponent(): string {\n    return this.state.stage.activeComponent\n  }\n\n  set diceCount(value: number) {\n    let dice: Dice[] = []\n    for (let i = 0; i < value; i++) {\n      if (this.state.dice.length == 0) dice.push(new Dice(6, this))\n      else dice.push(new Dice(this.state.dice[0].max, this))\n    }\n    this.state.dice = dice\n  }\n\n  set diceSize(value: number) {\n    for (let i = 0; i < this.state.dice.length; i++) {\n      this.state.dice[i] = new Dice(value, this)\n    }\n  }\n\n  clickCard(card: Card) {\n    this.state.stage.onCardClick(card)\n  }\n\n  get currentDialogue(): string {\n    return this.state.stage.text\n  }\n\n  get deck(): Deck {\n    return this.state.deck as Deck\n  }\n\n  get drawnCards(): Deck {\n    return this.state.drawnCards as Deck\n  }\n\n  set drawnCards(value: Deck) {\n    this.state.drawnCards = value\n  }\n\n  get pickedCards(): Deck {\n    return this.state.pickedCards as Deck\n  }\n\n  set pickedCards(value: Deck) {\n    this.state.pickedCards = value\n  }\n\n  get round(): ValueRange {\n    return this.state.round as ValueRange\n  }\n\n  get roundString(): string {\n    if (this.state.isBonusRound) return \"Bonus Round\"\n    return `Round ${this.round.value} of ${this.round.max}`\n  }\n\n  get stageId(): string {\n    return this.state.stage.id\n  }\n\n  get rewardRolls(): ValueRange {\n    return this.state.rewardRolls as ValueRange\n  }\n\n  get bonusRolls(): ValueRange {\n    return this.state.bonusRolls as ValueRange\n  }\n\n  get cardsPickedThisRound(): number {\n    return this.state.cardsPickedThisRound\n  }\n\n  get showDialogueOnly(): boolean {\n    return this.round.value == 0\n  }\n}\n","import Game from \"@/Game\"\n\nexport default class Cheat {\n  name: string\n  description: string\n  fun: (game: Game, args: any) => any\n\n  constructor(name: string, description: string, cheatFunction: (game: Game, args: any) => any) {\n    this.name = name\n    this.description = description\n    this.fun = cheatFunction\n  }\n\n  activate(game: Game) {\n    // @ts-ignore\n    window[this.name] = (args: any) => { return this.fun(game, args) }\n  }\n}\n","import Cheat from \"@/Cheat\"\nimport Game from \"@/Game\"\nimport Card from \"@/cards/Card\"\nimport PickStage from \"@/stages/PickStage\"\n\nexport default class Cheatmode {\n  private _game: Game\n  private cheats: Cheat[] = [\n    new Cheat(\"roll\",\n      `(value): Rolls all dice to this value.`,\n      (game, value: number) => {\n        game.state.stage.onDiceRoll([value])\n      }),\n    new Cheat(\"pickCard\",\n      `(name): Picks an unseen card from the current deck and adds it to your hand.`,\n      (game: Game, name: string) => {\n        let card = game.deck.allLevels.find((c: Card) => c.name == name)\n        if (card != undefined) {\n          game.state.pickedCards.addCard(card)\n          return `Added ${card.name} to hand.`\n        }\n        return `Could not find the ${name} card in the current deck.`\n      }),\n    new Cheat(\"drawCard\",\n      `(name): Picks an unseen card from the current deck and adds it to the list of cards drawn from the deck.`,\n      (game: Game, name: string) => {\n        let card = game.deck.allLevels.find((c: Card) => c.name == name)\n        if (card != undefined) {\n          game.state.drawnCards.addCard(card)\n          return `Added ${card.name} to hand.`\n        }\n        return `Could not find the ${name} card in the current deck.`\n      }),\n    new Cheat(\"redraw\",\n      `(value): Discard currently drawn cards and replace them with this many.`,\n      (game, value: number) => {\n        if (!(game.state.stage.id == 'draw' || game.state.stage.id == 'pick' || game.state.stage.id == 'bonus')) {\n          return `Can not redraw cards in this stage.`\n        }\n        let cards = game.deck.draw(value)\n        game.state.drawnCards = cards\n        if (game.state.stage.id == 'pick') (game.state.stage as PickStage).deck = cards\n        return `Drew ${value} cards, ${game.deck.size()} cards remain in the current deck.`\n      }),\n    new Cheat(\"deck\",\n      `(): Shows info about the current deck.`,\n      (game, value: number) => {\n        return `Deck size: ${game.state.deck.size()}, ${game.state.deck.allLevels.length}`\n      })\n  ]\n  private activated: boolean = false\n\n  constructor(game: Game) {\n    this._game = game\n    // @ts-ignore\n    window.cheatmode = (password: string) => { return this.activateCheats(password) }\n  }\n\n  set game(game: Game) {\n    this._game = game\n    this.registerCheats()\n  }\n\n  activateCheats(password: string): string {\n    if (password != \"rose\") return \"Wrong password. Find out the current password by becoming a Patreon supporter!\"\n    this.activated = true\n    this.registerCheats()\n\n    let s = \"Cheatmode activated. Available commands: \\n\\n\"\n    for (let cheat of this.cheats) {\n      s += `${cheat.name}${cheat.description}\\n`\n    }\n    return s\n  }\n\n  private registerCheats() {\n    if (!this.activated) return false\n\n    for (let cheat of this.cheats) {\n      cheat.activate(this._game)\n    }\n  }\n}\n","import { serializable } from \"serializr\"\n\nexport default class Save {\n  @serializable\n  public readonly name: string\n\n  @serializable\n  public readonly version: string\n\n  @serializable\n  private readonly _state: string\n\n  constructor(name: string, version: string, state: any) {\n    this.name = name\n    this.version = version\n    this._state = JSON.stringify(state)\n  }\n\n  get state(): any {\n    return JSON.parse(this._state)\n  }\n}\n","import Save from \"@/Save\"\nimport { deserialize } from \"serializr\"\n\nexport default class SaveSystem {\n  private saves: {[key: string]: any} // Working copy of all saves. This is a map from save name to save object.\n\n  constructor() {\n    this.saves = this.loadAllFromStorage()\n  }\n\n  public save(name: string, version: string, state: any) {\n    let save: Save = new Save(name, version, state)\n    this.writeToLocalStorage(save)\n  }\n\n  /**\n   * Returns the save, or undefined if no save with that name was found.\n   * @param name\n   */\n  public load(name: string): any {\n    if (name in this.saves) return this.readFromLocalStorage(name)\n    return undefined\n  }\n\n  private deleteFromLocalStorage(name: string) {\n    delete this.saves[name]\n    localStorage.setItem(\"blushingdefeat-saves\", JSON.stringify(this.saves))\n  }\n\n  private writeToLocalStorage(save: Save) {\n    this.saves[save.name] = save\n    localStorage.setItem(\"blushingdefeat-saves\", JSON.stringify(this.saves))\n  }\n\n  private readFromLocalStorage(name: string): Save {\n    return deserialize(Save, this.saves[name]) as unknown as Save\n  }\n\n  private loadAllFromStorage(): {[key: string]: any} {\n    let savesString = localStorage.getItem(\"blushingdefeat-saves\")\n    let saves: {[key: string]: any} = {}\n    if (savesString != null) {\n      saves = JSON.parse(savesString)\n    }\n    return saves\n  }\n}\n","import Game from \"@/Game\"\nimport globalState from \"@/store/globalState\"\nimport { reactive, toRaw } from \"vue\"\nimport Deck from \"@/cards/Deck\"\nimport axios from \"axios\"\nimport Cheatmode from \"@/Cheatmode\"\nimport SaveSystem from \"@/SaveSystem\"\nimport { deserialize, serialize } from \"serializr\"\nimport * as html2canvas from \"html2canvas\"\n\nexport default class Menu {\n  public static readonly GAME_VERSION = '1.1.0-beta.7'\n\n  private _activeComponent: string = \"StartMenu\"\n  private _game: any = undefined\n  private cheatmode: Cheatmode | undefined\n  private saveSystem: SaveSystem = new SaveSystem()\n  public collection: any = reactive(new Deck([]))\n\n  constructor() {\n    globalState().load().then(() => {\n      let save = this.saveSystem.load(\"save-1\")\n      if (save != undefined) {\n        this.collection = reactive(Deck.createFromCardStates(save.state.collection))\n        this.collection.sortByFamily()\n        if (this.collection.size() != save.state.collection.length) {\n          console.warn(`Not all saved cards were loaded. Expected size ${save.state.collection.cards.length}, actual size ${this.collection.size()}.`)\n        }\n        //this.save() // Save to remove any non-legal ids\n      }\n    })\n  }\n\n  get game() {\n    return this._game\n  }\n\n  startGame() {\n    this._game = reactive(new Game(this))\n    this.activeComponent = this.game!.activeComponent\n    if (this.cheatmode == undefined) {\n      this.cheatmode = new Cheatmode(this._game)\n    } else {\n      this.cheatmode.game = this._game\n    }\n  }\n\n  endGame() {\n    this.collection.addDeck(this._game.state.pickedCards)\n    this.save()\n\n    this._game = undefined\n    this.activeComponent = \"StartMenu\"\n  }\n\n  save() {\n    this.collection.sortByFamily()\n    this.saveSystem.save(\"save-1\", this.version, { collection: toRaw(this.collection).cards })\n  }\n\n  showCollection() {\n    this.activeComponent = \"CollectionScreen\"\n  }\n\n  get activeComponent(): string {\n    if (this.game != undefined) return this.game.activeComponent\n    return this._activeComponent\n  }\n\n  set activeComponent(value: string) {\n    this._activeComponent = value\n  }\n\n  artCredits(): any[] {\n    let artists: any = JSON.parse(globalState().artistsString.value)\n    for (let artist of artists) {\n      artist.cards = []\n    }\n    let deck = Deck.referenceDeck()\n    for (let card of deck.allLevels) {\n      // Find the artist of this card\n      let artist = artists.find((a: any) => a.artist == card.artist)\n      if (artist == undefined) continue\n\n      if (card.isParent) {\n        artist.cards.push(`${card.name}`)\n      } else if (card.hasParent) {\n        //artist.cards.push(`${card.parent.name}: ${card.name}`)\n        artist.cards.push(`${card.parent!.name}`)\n      } else {\n        artist.cards.push(`${card.name}`)\n      }\n    }\n    for (let artist of artists) {\n      artist.cards = [...new Set(artist.cards)] // Remove duplicates\n      artist.cards.sort()\n    }\n    return artists\n  }\n\n  patreonCredits() {\n    let credits = globalState().patreonCredits.value\n    return credits\n  }\n\n  get patchNotes() {\n    return JSON.parse(globalState().patchNotesString.value)\n  }\n\n  get version(): string {\n    return Menu.GAME_VERSION\n  }\n}\n","<template>\n  <template v-if=\"isLoaded\">\n    <div class=\"menu-view\">\n      <div class=\"window text-window\">\n        <div class=\"title-row\">\n          <p></p>\n          <h1>Ditzy Dice</h1>\n          <p>v{{menu.version}}</p>\n        </div>\n        <div class=\"window start-menu-text\">\n          <p>Greetings!</p>\n          <p>This is an <b>erotic transformation</b> game. That means <b>sexual content</b>, focusing on bodily and mental transformations related to bimbofication. If you are not comfortable with, or legally allowed to view such content, turn around now. </p>\n          <p>Otherwise, if you have feedback or questions, let me know in the comments!</p>\n        </div>\n\n        <div class=\"start-menu-buttons\">\n          <TextButton class=\"farm-button\" @click=\"menu.startGame()\">\n            <h3>Start</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"menu.showCollection()\">\n            <h3>My Collection</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"$emit('goto-view', 'PatchNotesScreen')\">\n            <h3>Patch Notes</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"$emit('goto-view', 'CreditsScreen')\">\n            <h3>Credits</h3>\n          </TextButton>\n          <TextButton class=\"farm-button\" @click=\"window().location.href = 'https://www.blushingdefeat.com/play/'\">\n            <h3>Exit to Blushing Defeat</h3>\n          </TextButton>\n        </div>\n      </div>\n      <div class=\"window extras\">\n        <PatreonButton2 :image=\"require('@/assets/patreon-banner-no-text.webp')\"\n                      link=\"https://www.patreon.com/gardamuse\"\n                      class=\"patreon\"\n                      >\n          Thank you for your support on <span style=\"color: #f96854;\">Patreon</span>!\n        </PatreonButton2>\n        <h3>An extra thank you to</h3>\n        <div class=\"extra-thanks\">\n          <p v-for=\"credit in menu.patreonCredits()\" class=\"credit\">{{ credit.name }}</p>\n        </div>\n      </div>\n      <div class=\"window more\">\n        <h2>More on Blushing Defeat</h2>\n        <RelatedThumb image=\"https://www.blushingdefeat.com/projects/cowgirl-dairy-farm/thumb-2.webp\"\n                      link=\"https://www.blushingdefeat.com/play/cowgirl-dairy-farm/\">\n          Cowgirl Dairy Farm\n        </RelatedThumb>\n        <RelatedThumb image=\"https://www.blushingdefeat.com/play/bimbo-personality-quiz/thumb.jpg\"\n                      link=\"https://www.blushingdefeat.com/play/bimbo-personality-quiz/\">\n          Bimbo Personality Quiz\n        </RelatedThumb>\n        <RelatedThumb image=\"https://www.blushingdefeat.com/projects/bimbo-booth/thumb.jpg\"\n                      link=\"https://www.blushingdefeat.com/bimbo-booth/\">\n          Bimbofication Booth\n        </RelatedThumb>\n        <RelatedThumb image=\"https://www.blushingdefeat.com/projects/mispell/misspell-thumb.png\"\n                      link=\"https://www.blushingdefeat.com/mispell/\">\n          Mispell\n        </RelatedThumb>\n      </div>\n\n      <!--<PatreonButton></PatreonButton>-->\n\n    </div>\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\nimport RelatedThumb from \"@/components/RelatedThumb.vue\"\nimport PatreonButton2 from \"@/components/PatreonButton2.vue\"\nimport PatchNotesScreen from \"@/components/PatchNotesScreen.vue\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton, PatreonButton2, RelatedThumb, PatchNotesScreen\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class StartMenu extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.menu-view {\n  display: grid;\n  grid-template-rows: auto 3fr 2fr;\n  grid-template-columns: minmax(0, 1fr) minmax(600px, 2fr) minmax(300px, 1fr) minmax(0, 1fr);\n  grid-template-areas:\n    \". p . .\"\n    \". t e .\"\n    \". t m .\";\n  grid-gap: 10px;\n  margin: 20px;\n\n  @media screen and (max-width: 1000px){\n    grid-template-rows: repeat(4, auto);\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      \"t\"\n      \"p\"\n      \"e\"\n      \"m\";\n    margin: 0;\n  }\n}\n\n.text-window {\n  grid-area: t;\n\n  display: flex;\n  flex-direction: column;\n  min-height: 80vh;\n  height: 100%;\n  max-width: 600px;\n  margin: auto;\n\n  box-sizing: border-box;\n\n  p {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  @media screen and (max-width: $mobile-width){\n    padding: 10px\n  }\n}\n\n.extras {\n  grid-area: e;\n\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  max-width: 600px;\n  padding: 0;\n  margin: auto;\n\n  .patreon {\n    //height: 150px;\n  }\n\n  h3 {\n    padding: 0 20px;\n    margin: 5px;\n  }\n\n  .extra-thanks {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px repeat(auto-fit, auto);\n    grid-column-gap: 5px;\n    padding: 0 20px;\n\n    background: rgba($component-background-color, 0.75);\n  }\n}\n\n.more {\n  grid-area: m;\n\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  max-width: 600px;\n  margin: auto;\n\n  display: grid;\n  grid-template-rows: 40px 1fr 1fr;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 10px;\n  grid-template-areas:\n    \"t t\"\n    \". .\"\n    \". .\";\n\n  h2 {\n    grid-area: t;\n  }\n}\n\n.start-menu-text {\n  background: rgba($component-background-color, 0.75);\n  margin: 10px auto 50px auto;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.start-menu-buttons {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n  align-items: center;\n  height: 100%;\n\n  .text-button {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 15px;\n    margin: 0 0 10px;\n    border-radius: $border-radius;\n\n    &:last-of-type {\n      margin-top: auto;\n    }\n  }\n}\n\n.title-row {\n  display: grid;\n  grid-template-columns: minmax(50px, 1fr) 3fr minmax(50px, 1fr);\n  grid-auto-rows: minmax(40px, 1fr);\n  align-items: center;\n\n  h1, h2, p {\n    margin: 0;\n  }\n\n  h1 {\n    text-align: center;\n    //line-height: 50px;\n  }\n\n  p {\n    text-align: right;\n    //line-height: 50px;\n  }\n}\n\n.text-button {\n  border: $component-border-style;\n\n  display: table;\n  div {\n    display: table-cell;\n    vertical-align: middle;\n  }\n\n  & > h3 {\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n  }\n}\n</style>\n","<template>\n  <a href=\"https://www.patreon.com/gardamuse\" :style=\"cssVars\" class=\"patreon-button\" />\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    label: String\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/patreon-banner.webp') + ')'\n      }\n    }\n  }\n})\nexport default class PatreonButton extends Vue {\n  label!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n.patreon-button {\n  background: var(--background-image);\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: block;\n  width: 1fr;\n  //max-width: 300px;\n  height: 200px;\n  margin: 10px auto;\n  border: $component-border-style;\n  backface-visibility: hidden;\n  transition: transform 0.3s;\n\n  &:hover {\n    transform: scale(1.024) translateY(0px) translateX(0px);\n  }\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\n\n@Options({\n  props: {\n    label: String\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/patreon-banner.webp') + ')'\n      }\n    }\n  }\n})\nexport default class PatreonButton extends Vue {\n  label!: string\n}\n","import { render } from \"./PatreonButton.vue?vue&type=template&id=d5159fe2&scoped=true\"\nimport script from \"./PatreonButton.vue?vue&type=script&lang=ts\"\nexport * from \"./PatreonButton.vue?vue&type=script&lang=ts\"\n\nimport \"./PatreonButton.vue?vue&type=style&index=0&id=d5159fe2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-d5159fe2\"\n\nexport default script","<template>\n  <a class=\"related-thumb\" :href=\"link\">\n    <h3><slot></slot></h3>\n    <img :src=\"image\">\n  </a>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    image: String,\n    link: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class RelatedThumb extends Vue {\n  image!: string\n  link!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.related-thumb {\n  position: relative;\n  display: block;\n  min-height: 100px;\n  border: 1px solid black;\n  border-radius: $border-radius;\n  transition: transform $selection-time;\n\n  h3 {\n    position: absolute;\n    bottom: 0;\n    z-index: 2;\n    margin: 10px;\n\n    transition: bottom $selection-time, top $selection-time;\n  }\n  img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: top;\n    border-radius: $border-radius;\n  }\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    z-index: 1;\n\n    opacity: 0.7;\n    background-image: linear-gradient(0deg, #180202 10%, rgba(#180202, 0.6) 40%, rgba(#180202, 0) 70%);\n    border-bottom-left-radius: $border-radius - 1;\n    border-bottom-right-radius: $border-radius - 1;\n\n    transition: opacity $selection-time;\n  }\n  &::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    z-index: 1;\n\n    opacity: 0;\n    background-image: linear-gradient(180deg, #180202 5%, rgba(#180202, 0.3) 100%);\n    border-bottom-left-radius: $border-radius - 1;\n    border-bottom-right-radius: $border-radius - 1;\n\n    transition: opacity $selection-time;\n  }\n\n  &:hover {\n    transform: scale(1.03);\n\n    &::before {\n      //opacity: 0;\n    }\n\n    &::after {\n      //opacity: 1;\n    }\n\n    h3 {\n      //top: 0;\n    }\n  }\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    image: String,\n    link: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class RelatedThumb extends Vue {\n  image!: string\n  link!: string\n}\n","import { render } from \"./RelatedThumb.vue?vue&type=template&id=072ed195&scoped=true\"\nimport script from \"./RelatedThumb.vue?vue&type=script&lang=ts\"\nexport * from \"./RelatedThumb.vue?vue&type=script&lang=ts\"\n\nimport \"./RelatedThumb.vue?vue&type=style&index=0&id=072ed195&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-072ed195\"\n\nexport default script","<template>\n  <a class=\"patreon-button-2\" :href=\"link\">\n    <h2><slot></slot></h2>\n    <img :src=\"image\">\n  </a>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    image: String,\n    link: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class PatreonButton2 extends Vue {\n  image!: string\n  link!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.patreon-button-2 {\n  position: relative;\n  display: block;\n  min-height: 200px;\n  border: 1px solid black;\n  border-radius: $border-radius;\n  transition: transform $selection-time;\n\n  h2, h3 {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    margin: 10px;\n    text-align: center;\n    //font-family: \"Croissant One\", \"Open Sans\", \"Helvetica Neue\", Avenir, Helvetica, Arial, sans-serif !important;\n\n    transition: bottom $selection-time, top $selection-time;\n  }\n  img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: top;\n    border-radius: $border-radius;\n  }\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    z-index: 1;\n\n    opacity: 0.7;\n    background-image: linear-gradient(180deg, #180202 10%, rgba(#180202, 0.8) 40%, rgba(#180202, 0) 60%);\n    border-bottom-left-radius: $border-radius - 1;\n    border-bottom-right-radius: $border-radius - 1;\n\n    transition: opacity $selection-time;\n  }\n  &::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    z-index: 1;\n\n    opacity: 0;\n    background-image: linear-gradient(180deg, #180202 5%, rgba(#180202, 0.3) 100%);\n    border-bottom-left-radius: $border-radius - 1;\n    border-bottom-right-radius: $border-radius - 1;\n\n    transition: opacity $selection-time;\n  }\n\n  &:hover {\n    transform: scale(1.03);\n\n    &::before {\n      //opacity: 0;\n    }\n\n    &::after {\n      //opacity: 1;\n    }\n\n    h3 {\n      //top: 0;\n    }\n  }\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    image: String,\n    link: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class PatreonButton2 extends Vue {\n  image!: string\n  link!: string\n}\n","import { render } from \"./PatreonButton2.vue?vue&type=template&id=3333a497&scoped=true\"\nimport script from \"./PatreonButton2.vue?vue&type=script&lang=ts\"\nexport * from \"./PatreonButton2.vue?vue&type=script&lang=ts\"\n\nimport \"./PatreonButton2.vue?vue&type=style&index=0&id=3333a497&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3333a497\"\n\nexport default script","<template>\n  <div class=\"menu-view\">\n    <BlushWindow v-on:close=\"$emit('close')\">\n      <template v-slot:title>\n        <h2 style=\"margin: 0;\">Patch Notes</h2>\n      </template>\n      <div class=\"blush-list\">\n        <div v-for=\"patch in menu.patchNotes\" class=\"patch-window\">\n          <h2 v-if=\"patch.name.length > 0\">{{patch.id}} - {{patch.name}}</h2>\n          <h2 v-else>{{patch.id}}</h2>\n          <h4 style=\"font-weight: normal; text-align: right;\">{{patch.date}}</h4>\n          <div class=\"md-patchnotes\" style=\"grid-column: span 2;\" v-html=\"patch.text\"></div>\n        </div>\n      </div>\n    </BlushWindow>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, BlushWindow\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class PatchNotesScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style lang=\"scss\">\n.md-patchnotes {\n  h1 {\n    font-size: large;\n  }\n\n  ul {\n    list-style-type: none;\n    padding-left: 15px;\n    margin: 10px 0;\n\n    li {\n      border-left: 3px solid #ddd;\n      padding: 0 10px;\n      margin-bottom: 7px;\n      background: rgba($component-background-color, 0.5);\n\n      ul {\n        padding-left: 1ch;\n        margin: 5px 0 0 0;\n\n        li {\n          list-style-type: disc;\n          list-style-position: inside;\n          color: #ccc;\n          border-left: 0 solid;\n          background: rgba($component-background-color, 0);\n          font-style: italic;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<style scoped lang=\"scss\">\n.menu-view {\n  height: 100vh;\n\n  display: grid;\n  grid-template-rows: auto auto;\n  grid-template-columns: 1fr;\n  grid-template-areas:\n    \"t\"\n    \"t\";\n  grid-gap: 20px;\n\n  @media screen and (max-width: $mobile-width){\n    grid-template-areas:\n      \"t\"\n      \"t\";\n    margin: 0;\n  }\n}\n\n.blush-window {\n  grid-area: t;\n\n  box-sizing: border-box;\n  flex-direction: column;\n  min-height: 200px;\n  max-height: 100%;\n  width: 100%;\n  max-width: 700px;\n  margin: 20px auto;\n\n  @media screen and (max-width: $mobile-width){\n    padding: 10px;\n    margin: 0 auto;\n  }\n}\n\n.list-wrapper {\n  display: grid;\n  grid-template-areas: \"c\";\n\n  height: 100%;\n}\n\n.blush-list {\n  grid-area: c;\n\n  box-sizing: border-box;\n  min-height: 100%;\n  border: 1px solid black;\n  border-radius: $border-radius;\n\n  p {\n    margin: 0;\n  }\n}\n\n.patch-window {\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-template-columns: 1fr 1fr;\n\n  margin-bottom: 10px;\n  padding: 10px;\n\n  background-color: #260C1A;\n\n  h2, h3, h4, p {\n    margin: 0;\n  }\n}\n\n</style>\n","<template>\n  <div class=\"blush-window\">\n    <slot name=\"title\"></slot>\n    <TextButton class=\"farm-button close-button\" @click=\"$emit('close')\">\n      <h3>X</h3>\n    </TextButton>\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport util from \"@/util\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n  },\n  computed: {\n    util() {\n      return util\n    }\n  }\n})\nexport default class BlushWindow extends Vue {\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .blush-window {\n    background: $window-background-color;\n    padding: 10px;\n    border: 3px solid black;\n    border-radius: $border-radius;\n\n    box-sizing: border-box;\n    min-height: 100px;\n    width: 100%;\n\n    display: grid;\n    grid-template-rows: 40px auto;\n    grid-template-columns: auto 50px;\n    grid-template-areas:\n    \"t x\"\n    \"c c\";\n    grid-gap: 10px;\n  }\n\n  .close-button {\n    border: 1px solid black;\n    margin: 0;\n    padding: 0;\n\n    h3 {\n      margin: 0;\n    }\n  }\n\n  .content {\n    grid-area: c;\n    overflow-y: auto;\n  }\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport util from \"@/util\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n  },\n  computed: {\n    util() {\n      return util\n    }\n  }\n})\nexport default class BlushWindow extends Vue {\n}\n","import { render } from \"./BlushWindow.vue?vue&type=template&id=566403a4&scoped=true\"\nimport script from \"./BlushWindow.vue?vue&type=script&lang=ts\"\nexport * from \"./BlushWindow.vue?vue&type=script&lang=ts\"\n\nimport \"./BlushWindow.vue?vue&type=style&index=0&id=566403a4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-566403a4\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, BlushWindow\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class PatchNotesScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./PatchNotesScreen.vue?vue&type=template&id=3593dce2&scoped=true\"\nimport script from \"./PatchNotesScreen.vue?vue&type=script&lang=ts\"\nexport * from \"./PatchNotesScreen.vue?vue&type=script&lang=ts\"\n\nimport \"./PatchNotesScreen.vue?vue&type=style&index=0&id=3593dce2&lang=scss\"\nimport \"./PatchNotesScreen.vue?vue&type=style&index=1&id=3593dce2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3593dce2\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\nimport RelatedThumb from \"@/components/RelatedThumb.vue\"\nimport PatreonButton2 from \"@/components/PatreonButton2.vue\"\nimport PatchNotesScreen from \"@/components/PatchNotesScreen.vue\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton, PatreonButton2, RelatedThumb, PatchNotesScreen\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class StartMenu extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./StartMenu.vue?vue&type=template&id=e20ac9aa&scoped=true\"\nimport script from \"./StartMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./StartMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./StartMenu.vue?vue&type=style&index=0&id=e20ac9aa&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-e20ac9aa\"\n\nexport default script","<template>\n  <div class=\"milkfarm dialogue-view\" v-if=\"isLoaded\">\n    <DialogueCard :menu=\"menu\"></DialogueCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\nimport DialogueCard from \"@/components/DialogueCard.vue\"\n\n@Options({\n  components: {\n    TextButton, DialogueCard\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueView extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr max-content;\n    grid-template-rows: 400px 200px 200px 100px;\n    grid-template-areas:\n      \"c c\"\n      \"p s\"\n      \"p s\"\n      \". d\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    min-height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1000px){\n      padding: 10px;\n    }\n\n    @media only screen and (min-width: 1700px){\n      padding-left: 100px;\n      padding-right: 100px;\n    }\n  }\n\n  .dialogue-view {\n    grid-template-columns: 1fr minmax(600px, 2fr) 1fr;\n    grid-template-rows: 1fr minmax(400px, 2fr) 1fr;\n    grid-template-areas:\n      \". . .\"\n      \". s .\"\n      \". . .\";\n\n    .cards-wrapper, .picked-cards, .dices {\n      display: none;\n    }\n\n    .dialogue {\n      height: 500px;\n    }\n\n    @media only screen and (max-width: 800px){\n      grid-template-columns: 1fr;\n      grid-template-rows: 1fr;\n      grid-template-areas:\n      \"s\";\n      grid-gap: 0;\n\n      .dialogue {\n        width: 100vw;\n        max-width: 90vw;\n        justify-self: center;\n      }\n    }\n  }\n\n  .dialogue-card {\n    grid-area: s;\n\n    box-sizing: border-box;\n    height: 100%;\n    width: 100%;\n    max-width: 700px;\n    margin: auto;\n  }\n</style>\n","<template>\n  <div class=\"dialogue-card window\" :class=\"{'simple': title !== undefined}\">\n    <div class=\"text\">\n      {{ game.currentDialogue }}\n    </div>\n    <div style=\"grid-area: r;\">\n      <h1 v-if=\"title !== undefined\" >{{ title }}</h1>\n      <h1 v-else>Ditzy Dice</h1>\n    </div>\n    <img :src=\"require('@/assets/devil-512px.webp')\" class=\"speaker-profile\"/>\n    <div class=\"buttons\">\n      <template v-for=\"button in game.buttons\" v-bind:key=\"button\">\n        <TextButton class=\"next-button\" @click=\"button.fun()\">\n          <p style=\"margin: 0;\">{{ button.label }}</p>\n        </TextButton>\n      </template>\n      <!--<TextButton v-if=\"game.allowNextStage()\" class=\"next-button\" @click=\"game.nextStage()\">\n        <p style=\"margin: 0;\">{{ game.buttonLabel }}</p>\n      </TextButton>-->\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    menu: Object,\n    title: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueCard extends Vue {\n  isLoaded = false\n  menu!: Menu\n  title!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .dialogue-card {\n    display: grid;\n    grid-gap: 10px;\n    grid-template-rows: 60px 1fr 1fr 60px;\n    grid-template-columns: 2fr 2fr 1fr minmax(150px, 2fr);\n    grid-template-areas:\n      \"r r r .\"\n      \"t t t b\"\n      \"t t t b\"\n      \"n n n n\";\n\n    white-space: pre-wrap;\n\n    @media only screen and (max-width: 1000px){\n      grid-template-rows: 25px 25px 1fr 60px;\n      grid-template-columns: 1fr 1fr minmax(100px, 1fr);\n      grid-template-areas:\n      \"r r b\"\n      \"p p b\"\n      \"t t t\"\n      \"n n n\";\n    }\n\n    .text {\n      grid-area: t;\n    }\n\n    .buttons {\n      grid-area: n;\n    }\n\n    .round-counter {\n      grid-area: r;\n    }\n\n    .cards-to-pick {\n      grid-area: p;\n    }\n\n    .bonus-rolls {\n      grid-area: b;\n    }\n  }\n\n  .simple {\n    grid-template-rows: 50px 1fr 50px;\n    grid-template-columns: 2fr 2fr 1fr;\n    grid-template-areas:\n      \"r r r\"\n      \"t t t\"\n      \"n n n\";\n\n    @media only screen and (max-width: 1140px){\n      grid-template-rows: 50px 1fr 50px;\n      grid-template-columns: 2fr 2fr 1fr;\n      grid-template-areas:\n      \"r r r\"\n      \"t t t\"\n      \"n n n\";\n    }\n  }\n\n  .speaker-profile {\n    grid-area: b;\n\n    box-sizing: border-box;\n    width: 100%;\n    border: 1px solid white;\n    border-radius: 8px;\n  }\n\n  .buttons {\n    display: flex;\n\n    .next-button {\n      flex: 1;\n      margin-left: 10px;\n      border: $component-border-style;\n      border-radius: $border-radius;\n    }\n\n    .next-button:first-of-type {\n      margin-left: 0;\n    }\n  }\n\n  h1, h2, h3 {\n    margin: 0;\n  }\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    ValueMeter, TextButton\n  },\n  props: {\n    menu: Object,\n    title: String\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueCard extends Vue {\n  isLoaded = false\n  menu!: Menu\n  title!: string\n}\n","import { render } from \"./DialogueCard.vue?vue&type=template&id=0f463a96&scoped=true\"\nimport script from \"./DialogueCard.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogueCard.vue?vue&type=script&lang=ts\"\n\nimport \"./DialogueCard.vue?vue&type=style&index=0&id=0f463a96&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0f463a96\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport ValueMeter from '@/components/ValueMeter.vue'\nimport TextButton from '@/components/TextButton.vue'\nimport globalState from '@/store/globalState'\nimport SaveSystem from '@/SaveSystem'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport DiceView from \"@/components/DiceView.vue\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport Menu from \"@/Menu\"\nimport DialogueCard from \"@/components/DialogueCard.vue\"\n\n@Options({\n  components: {\n    TextButton, DialogueCard\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class DialogueView extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./DialogueView.vue?vue&type=template&id=ca58dffa&scoped=true\"\nimport script from \"./DialogueView.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogueView.vue?vue&type=script&lang=ts\"\n\nimport \"./DialogueView.vue?vue&type=style&index=0&id=ca58dffa&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ca58dffa\"\n\nexport default script","<template>\n  <div class=\"milkfarm\" v-if=\"isLoaded\">\n    <CollectionWindow :deck=\"game.pickedCards\"></CollectionWindow>\n    <!--<div class=\"cards-wrapper drawn-cards\">\n      <div class=\"cards\">\n        <template v-for=\"card in game.pickedCards.cards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"toggleScale(card);\"></PlayingCard>\n        </template>\n      </div>\n    </div>-->\n    <DialogueStatusCard :menu=\"menu\" title=\"The End\"></DialogueStatusCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport Menu from \"@/Menu\"\nimport DialogueStatusCard from \"@/components/DialogueStatusCard.vue\"\nimport CollectionWindow from \"@/components/CollectionWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, DialogueStatusCard, CollectionWindow\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class HandView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: minmax(230px, auto) 1fr;\n    grid-template-areas:\n      \"s\"\n      \"c\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    min-height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1140px){\n      padding: 10px;\n      grid-template-columns: 1fr 250px;\n      grid-template-rows: 1fr 200px 200px;\n      grid-template-areas:\n      \"c s\"\n      \"c s\"\n      \"c s\";\n\n      height: 100vh;\n    }\n  }\n\n  .dialogue-status-card {\n    grid-area: s;\n  }\n\n  .collection-window {\n    grid-area: c;\n  }\n\n</style>\n","<template>\n  <div class=\"collection-window\">\n    <div class=\"collection-tabs\">\n      <template v-for=\"tab in tabs\" v-bind:key=\"tab\">\n        <TextButton :class=\"{'active-tab': activeTab === tab}\" @click=\"activateTab(tab)\">\n          <h3>{{ util.capitalize(tab) }}</h3>\n        </TextButton>\n      </template>\n    </div>\n    <div class=\"cards-wrapper drawn-cards\">\n      <div class=\"cards\" id=\"cards\">\n        <template v-for=\"card in internalDeck.cards\" v-bind:key=\"card\">\n          <PlayingCard :card=\"card\" :class=\"{'scaled': card.scale}\" @click=\"activateCard(card);\"></PlayingCard>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport util from \"@/util\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\nimport Deck from \"@/cards/Deck\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, BlushWindow\n  },\n  props: {\n    deck: Object\n  },\n  emits: ['close', 'activate-tab', 'activate-card'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    },\n    activateTab(tab: string) {\n      this.activeTab = tab\n      this.activeCard = new Card({})\n      this.$emit('activate-tab', tab)\n    },\n    activateCard(card: Card) {\n      this.activeCard = card\n      this.$emit('activate-card', card)\n    },\n    lookup(id: string): Card {\n      return Deck.lookup(id)\n    }\n  },\n  computed: {\n    tabs(): string[] {\n      return [\n        'all',\n        'behavior',\n        'body',\n        'clothing',\n        'event',\n        'mind',\n        'reward'\n      ]\n    },\n    util() {\n      return util\n    },\n    refDeck(): Deck {\n      return Deck.referenceDeck()\n    },\n    internalDeck(): Deck {\n      if (this.isInspectingCard) {\n        return new Deck(this.activeCard.subcards).sortByLevel()\n      }\n      return this.deck.copy().unique().onlyFamily(this.activeTab).pack()\n    },\n    isInspectingCard(): boolean {\n      return this.activeCard.id != undefined && this.activeCard.isParent\n    }\n  }\n})\nexport default class CollectionWindow extends Vue {\n  deck!: Deck\n  scaledCard: Card = new Card({})\n  activeTab: string = 'all'\n  activeCard: Card = new Card({})\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .collection-window {\n    display: grid;\n    grid-template-rows: 60px 1fr;\n    grid-template-areas:\n      \"t\"\n      \"c\";\n  }\n\n  .drawn-cards {\n    grid-area: c;\n    z-index: 10;\n  }\n\n  $card-background-color: $window-background-color;\n  .cards-wrapper {\n    overflow-x: auto;\n    overflow-y: auto;\n\n    background-color: $card-background-color;\n    border: 3px solid black;\n    border-radius: $border-radius;\n    padding: 10px 20px 0 20px;\n  }\n\n  .cards {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    grid-template-rows: repeat(auto-fit, 360px);\n    grid-gap: 10px;\n    justify-items: center;\n    transform: scale(1);\n    transform-origin: top left;\n    min-height: 100%;\n  }\n\n  .scaled {\n    transform: scale(1.06);\n    z-index: 2;\n    border-color: #939393;\n  }\n\n  .collection-tabs {\n    grid-area: t;\n\n    display: flex;\n    height: 63px;\n    margin: 0 5px;\n    overflow-x: auto;\n\n    .text-button {\n      flex-grow: 1;\n      border-top-left-radius: $border-radius;\n      border-top-right-radius: $border-radius;\n      border-top: 3px solid black;\n      border-left: 3px solid black;\n      border-right: 3px solid black;\n      border-bottom: 3px solid black;\n      margin-right: 5px;\n      z-index: 11;\n\n      background-color: darken($card-background-color, 12%);\n\n      &:hover {\n        background-color: darken($card-background-color, 5%);\n      }\n    }\n\n    .active-tab {\n      background-color: $card-background-color;\n      border-bottom-color: $card-background-color;\n      cursor: default;\n\n      &:hover {\n        background-color: darken($card-background-color, 0%);\n      }\n    }\n\n    h1, h2, h3 {\n      margin: 0;\n    }\n  }\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport util from \"@/util\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\nimport Deck from \"@/cards/Deck\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, BlushWindow\n  },\n  props: {\n    deck: Object\n  },\n  emits: ['close', 'activate-tab', 'activate-card'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    },\n    activateTab(tab: string) {\n      this.activeTab = tab\n      this.activeCard = new Card({})\n      this.$emit('activate-tab', tab)\n    },\n    activateCard(card: Card) {\n      this.activeCard = card\n      this.$emit('activate-card', card)\n    },\n    lookup(id: string): Card {\n      return Deck.lookup(id)\n    }\n  },\n  computed: {\n    tabs(): string[] {\n      return [\n        'all',\n        'behavior',\n        'body',\n        'clothing',\n        'event',\n        'mind',\n        'reward'\n      ]\n    },\n    util() {\n      return util\n    },\n    refDeck(): Deck {\n      return Deck.referenceDeck()\n    },\n    internalDeck(): Deck {\n      if (this.isInspectingCard) {\n        return new Deck(this.activeCard.subcards).sortByLevel()\n      }\n      return this.deck.copy().unique().onlyFamily(this.activeTab).pack()\n    },\n    isInspectingCard(): boolean {\n      return this.activeCard.id != undefined && this.activeCard.isParent\n    }\n  }\n})\nexport default class CollectionWindow extends Vue {\n  deck!: Deck\n  scaledCard: Card = new Card({})\n  activeTab: string = 'all'\n  activeCard: Card = new Card({})\n}\n","import { render } from \"./CollectionWindow.vue?vue&type=template&id=717132cc&scoped=true\"\nimport script from \"./CollectionWindow.vue?vue&type=script&lang=ts\"\nexport * from \"./CollectionWindow.vue?vue&type=script&lang=ts\"\n\nimport \"./CollectionWindow.vue?vue&type=style&index=0&id=717132cc&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-717132cc\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport Game from '@/Game'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport Menu from \"@/Menu\"\nimport DialogueStatusCard from \"@/components/DialogueStatusCard.vue\"\nimport CollectionWindow from \"@/components/CollectionWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, DialogueStatusCard, CollectionWindow\n  },\n  props: {\n    menu: Object\n  },\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    }\n  },\n  computed: {\n    game: function (): Game {\n      return this.menu.game\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class HandView extends Vue {\n  isLoaded = false\n  //saveSystem!: SaveSystem\n  //farm!: Farm\n  _game!: Game\n  menu!: Menu\n  scaledCard: Card = new Card({})\n}\n","import { render } from \"./HandView.vue?vue&type=template&id=0a5d792b&scoped=true\"\nimport script from \"./HandView.vue?vue&type=script&lang=ts\"\nexport * from \"./HandView.vue?vue&type=script&lang=ts\"\n\nimport \"./HandView.vue?vue&type=style&index=0&id=0a5d792b&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0a5d792b\"\n\nexport default script","<template>\n  <template v-if=\"isLoaded\">\n    <div class=\"menu-view\">\n      <div class=\"window text-window\" id=\"help-window\">\n        <div>\n          <h1 style=\"margin: 0;\">Credits</h1>\n        </div>\n        <TextButton class=\"farm-button\" @click=\"$emit('close')\">\n          <h3>X</h3>\n        </TextButton>\n        <div class=\"farm-list help-list\">\n          <div class=\"farm-window credits-block\">\n            <h2>Development and Design</h2>\n            <h3 class=\"credit\">Gardamuse</h3>\n          </div>\n          <div class=\"farm-window credits-block\">\n            <h2>Artwork</h2>\n            <template v-for=\"credit in menu.artCredits()\" v-bind:key=\"credit\">\n              <Credit :name=\"credit.artist\" :link=\"credit.link\" :linkText=\"credit.linkText\">\n                For illustrations on:\n                <span v-for=\"(card,index) in credit.cards\">\n                  {{ card }}<span v-if=\"index !== credit.cards.length - 1\">, </span>\n                </span>.\n              </Credit>\n            </template>\n          </div>\n          <div class=\"farm-window credits-block\">\n            <h2>Graphics</h2>\n            <Credit name=\"Transparent Textures\" link=\"https://www.transparenttextures.com/\" linkText=\"Website\">\n              Card textures.\n            </Credit>\n            <Credit name=\"Artbreeder\" link=\"https://www.artbreeder.com\" linkText=\"Website\">\n              Tool for generating images.\n            </Credit>\n          </div>\n          <div class=\"farm-window credits-block\">\n            <h2>Special Thanks to</h2>\n            <h3 v-for=\"credit in menu.patreonCredits()\" class=\"credit\">{{ credit.name }}</h3>\n            <p class=\"credit\">And everyone else who supports Blushing Defeat on Patreon!</p>\n          </div>\n          <div class=\"farm-window credits-block double-columns\">\n            <h2>Game Inspired by</h2>\n            <Credit name=\"Xsentisus\" link=\"https://www.deviantart.com/xsentisus\" linkText=\"DeviantArt\">\n              For their\n              <a href=\"https://www.deviantart.com/xsentisus/art/Bimbo-Dice-700-Watcher-25k-Page-Views-SPECIAL-865174538\"  target=\"_blank\">\n                Bimbo Dice</a>\n              caption series.\n            </Credit>\n            <Credit name=\"MythicalCreatureBone\" link=\"https://www.deviantart.com/mythicalcreaturebone\" linkText=\"DeviantArt\">\n              For their\n              <a href=\"https://imgur.com/a/bXlN6Fe\" target=\"_blank\">Eliminated</a>\n              choose-your-own-adventure.\n            </Credit>\n            <Credit name=\"GrapplerOfBooty\" link=\"https://www.deviantart.com/grapplerofbooty\" linkText=\"DeviantArt\">\n              For their\n              <a href=\"https://www.deviantart.com/grapplerofbooty/art/Transmoria-The-Realm-of-Chang-Faerie-Mind-Shaper-859293252\" target=\"_blank\">\n                Transoria</a>\n              descriptions and\n              <a href=\"https://www.deviantart.com/grapplerofbooty/art/MTG-TG-Self-Inflicted-Stupidity-790655990\" target=\"_blank\">MTG</a>\n              card series.\n            </Credit>\n            <Credit name=\"TF Me Please!\" link=\"https://www.tumblr.com/blog/view/transformmeplease\" linkText=\"Tumblr\">\n              For their transformation spins caption series.\n            </Credit>\n            <Credit name=\"Unknown\" link=\"https://imgur.com/W0YNL6l\" linkText=\"Imgur\">\n              For the\n              <a href=\"https://imgur.com/W0YNL6l\" target=\"_blank\">\n                Bimbofication Curse</a>\n              spreadsheet.\n            </Credit>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport util from \"@/util\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport Menu from \"@/Menu\"\nimport Credit from \"@/components/Credit.vue\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton, Credit\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class CreditsScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.menu-view {\n  //max-width: $full-page-width;\n  height: 100vh;\n\n  display: grid;\n  grid-template-rows: auto auto;\n  grid-template-columns: 1fr;\n  grid-template-areas:\n    \"t\"\n    \"t\";\n  grid-gap: 20px;\n\n  @media screen and (max-width: $mobile-width){\n    grid-template-areas:\n      \"t\"\n      \"t\";\n    margin: 0;\n  }\n}\n\n.text-window {\n  grid-area: t;\n\n  box-sizing: border-box;\n  flex-direction: column;\n  min-height: 200px;\n  max-height: 100%;\n  width: 100%;\n  max-width: 700px;\n  margin: 20px auto;\n\n  display: grid;\n  grid-template-rows: 30px auto;\n  grid-template-columns: auto 50px;\n  grid-template-areas:\n    \"t x\"\n    \"c c\";\n  grid-gap: 10px;\n\n  p {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  @media screen and (max-width: $mobile-width){\n    padding: 10px;\n    margin: 0 auto;\n  }\n}\n\n.text-button {\n  border: $component-border-style;\n\n  display: table;\n  div {\n    display: table-cell;\n    vertical-align: middle;\n  }\n\n  & > h3 {\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n  }\n}\n\n.help-list {\n  grid-area: c;\n\n  overflow-y: auto;\n  border: 1px solid black;\n  border-radius: $border-radius;\n  margin-top: 10px;\n\n  .farm-window {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 15px;\n  }\n\n  p {\n    margin: 0;\n  }\n}\n\n.credits-block {\n  h2 {\n    margin: 0;\n    margin-left: 5px;\n    color: $tertiary-color;\n  }\n\n  h3 {\n    margin: 0;\n  }\n\n  .credit {\n    background-color: rgba($component-background-color, 0.7);\n    padding: 10px 5px;\n    margin-bottom: 5px;\n  }\n\n  a {\n    transition: color $selection-time;\n\n    &:hover {\n      color: $highlight-color;\n    }\n  }\n}\n\n.double-columns {\n  display: grid !important;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 40px repeat(auto-fit, auto);\n  grid-column-gap: 5px;\n\n  h2 {\n    grid-column: span 2;\n  }\n}\n\n</style>\n","<template>\n  <div class=\"credit\">\n    <h3>\n      {{ name }}\n      | <span style=\"font-size: 0.8em;\" ><a :href=\"link\" target=\"_blank\" >{{ linkText }}</a></span>\n    </h3>\n    <p style=\"font-size: 0.8em; color: #ccc;\">\n      <slot></slot>\n    </p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    name: String,\n    link: String,\n    linkText: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class Credit extends Vue {\n  name!: string\n  link!: string\n  linkText!: string\n}\n</script>\n\n<style scoped lang=\"scss\">\n.credit {\n  background-color: $component-background-color;\n  padding: 10px 5px;\n  margin-bottom: 5px;\n}\n\nh2, h3, p {\n  margin: 0;\n}\n\na:hover {\n  color: $highlight-color;\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport util from \"@/util\"\nimport Menu from \"@/Menu\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton\n  },\n  props: {\n    name: String,\n    link: String,\n    linkText: String\n  },\n  emits: ['goto-view', 'close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n  }\n})\nexport default class Credit extends Vue {\n  name!: string\n  link!: string\n  linkText!: string\n}\n","import { render } from \"./Credit.vue?vue&type=template&id=27444a3f&scoped=true\"\nimport script from \"./Credit.vue?vue&type=script&lang=ts\"\nexport * from \"./Credit.vue?vue&type=script&lang=ts\"\n\nimport \"./Credit.vue?vue&type=style&index=0&id=27444a3f&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-27444a3f\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport util from \"@/util\"\nimport PatreonButton from \"@/components/PatreonButton.vue\"\nimport TextButton from \"@/components/TextButton.vue\"\nimport Menu from \"@/Menu\"\nimport Credit from \"@/components/Credit.vue\"\n\n@Options({\n  components: {\n    TextButton, PatreonButton, Credit\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    util() {\n      return util\n    },\n    window() {\n      return window\n    }\n  },\n  async created() {\n    //let farm = new Farm()\n    //await farm.load()\n    //this.farm = farm\n    this.isLoaded = true\n  }\n})\nexport default class CreditsScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n}\n","import { render } from \"./CreditsScreen.vue?vue&type=template&id=5d0c5c82&scoped=true\"\nimport script from \"./CreditsScreen.vue?vue&type=script&lang=ts\"\nexport * from \"./CreditsScreen.vue?vue&type=script&lang=ts\"\n\nimport \"./CreditsScreen.vue?vue&type=style&index=0&id=5d0c5c82&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5d0c5c82\"\n\nexport default script","<template>\n  <div class=\"milkfarm\" v-if=\"isLoaded\">\n    <CollectionWindow :deck=\"menu.collection\" v-on:activate-tab=\"activateTab\" v-on:activate-card=\"activateCard\"></CollectionWindow>\n    <BlushWindow style=\"grid-area: s;\" v-on:close=\"$emit('close')\">\n      <template v-slot:title>\n        <h2>My Collection</h2>\n      </template>\n      <div class=\"status-content\">\n        <div class=\"status-text\">\n          <template v-if=\"isInspectingCard\">\n            <p>These are all levels of the \"{{ activeCard.name }}\" card you've collected.</p>\n            <p>To go back, click any card.</p>\n            <p>Levels owned: {{ activeCard.subcards.length }} / {{ activeCard.levels }}</p>\n          </template>\n          <template v-else>\n            <p>These are all the cards you've collected.</p>\n            <p>To inspect a card with multiple levels, click it.</p>\n            <p>Cards owned: {{ deck.size() }} / {{ refDeck.onlyFamily(activeTab).size() }}</p>\n            <p>Card levels owned: {{ deck.unpack().size() }} / {{ refDeck.onlyFamily(activeTab).unpack().size() }}</p>\n          </template>\n        </div>\n        <div class=\"buttons\">\n          <TextButton @click=\"util.screenshot('cards')\">Screenshot Tab</TextButton>\n        </div>\n      </div>\n    </BlushWindow>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport Menu from \"@/Menu\"\nimport util from \"@/util\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\nimport Deck from \"@/cards/Deck\"\nimport CollectionWindow from \"@/components/CollectionWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, BlushWindow, CollectionWindow\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    },\n    activateTab(tab: string) {\n      this.activeTab = tab\n      this.activeCard = new Card({})\n    },\n    activateCard(card: Card) {\n      this.activeCard = card\n    },\n    lookup(id: string): Card {\n      return Deck.lookup(id)\n    }\n  },\n  computed: {\n    tabs(): string[] {\n      return [\n        'all',\n        'behavior',\n        'body',\n        'clothing',\n        'event',\n        'mind',\n        'reward'\n      ]\n    },\n    util() {\n      return util\n    },\n    refDeck(): Deck {\n      return Deck.referenceDeck()\n    },\n    deck(): Deck {\n      if (this.isInspectingCard) {\n        return new Deck(this.activeCard.subcards).sortByLevel()\n      }\n      return this.menu.collection.copy().unique().onlyFamily(this.activeTab).pack()\n    },\n    isInspectingCard(): boolean {\n      return this.activeCard.id != undefined && this.activeCard.isParent\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class CollectionScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n  scaledCard: Card = new Card({})\n  activeTab: string = 'all'\n  activeCard: Card = new Card({})\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .milkfarm {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: minmax(230px, auto) 1fr;\n    grid-template-areas:\n      \"s\"\n      \"c\";\n    grid-gap: 10px;\n\n    background-size: cover;\n    background-attachment: fixed;\n    position: relative;\n\n    min-width: 360px;\n    //height: 100vh;\n    box-sizing: border-box; // Include padding in height so that we don't get scrollbars.\n\n    @media only screen and (min-width: 1140px){\n      padding: 10px;\n      grid-template-columns: 6fr minmax(250px, 1fr);\n      grid-template-rows: 50px 1fr;\n      grid-template-areas:\n      \"c s\"\n      \"c s\";\n\n      height: 100vh;\n    }\n  }\n\n  .collection-window {\n    grid-area: c;\n  }\n\n  $card-background-color: $window-background-color;\n  .cards-wrapper {\n    overflow-x: auto;\n    overflow-y: auto;\n\n    background-color: $card-background-color;\n    border: 3px solid black;\n    border-radius: $border-radius;\n    padding: 10px 20px 0 20px;\n  }\n\n  .cards {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    grid-template-rows: repeat(auto-fit, 360px);\n    grid-gap: 10px;\n    justify-items: center;\n    transform: scale(1);\n    transform-origin: top left;\n    min-height: 100%;\n  }\n\n  .scaled {\n    transform: scale(1.06);\n    z-index: 2;\n    border-color: #939393;\n  }\n\n  .collection-tabs {\n    grid-area: t;\n\n    display: flex;\n    height: 63px;\n    margin: 0 5px;\n    overflow-x: auto;\n\n    .text-button {\n      flex-grow: 1;\n      border-top-left-radius: $border-radius;\n      border-top-right-radius: $border-radius;\n      border-top: 3px solid black;\n      border-left: 3px solid black;\n      border-right: 3px solid black;\n      border-bottom: 3px solid black;\n      margin-right: 5px;\n      z-index: 11;\n\n      background-color: darken($card-background-color, 12%);\n\n      &:hover {\n        background-color: darken($card-background-color, 5%);\n      }\n    }\n\n    .active-tab {\n      background-color: $card-background-color;\n      border-bottom-color: $card-background-color;\n      cursor: default;\n\n      &:hover {\n        background-color: darken($card-background-color, 0%);\n      }\n    }\n\n    h1, h2, h3 {\n      margin: 0;\n    }\n  }\n\n  .status-window {\n    grid-area: s;\n  }\n\n  .status-content {\n    height: 100%;\n\n    display: grid;\n    grid-template-rows: 1fr auto;\n    grid-template-areas:\n      \"c\"\n      \"b\";\n  }\n\n  .buttons {\n    grid-area: b;\n    display: flex;\n    flex-wrap: wrap;\n\n    .text-button {\n      flex: 1;\n      min-width: 100px;\n      margin: 5px;\n      border: $component-border-style;\n      border-radius: $border-radius;\n    }\n  }\n\n</style>\n","\nimport { Options, Vue } from 'vue-class-component'\nimport TextButton from '@/components/TextButton.vue'\nimport PlayingCard from \"@/components/PlayingCard.vue\"\nimport Card from '@/cards/Card'\nimport Menu from \"@/Menu\"\nimport util from \"@/util\"\nimport BlushWindow from \"@/components/BlushWindow.vue\"\nimport Deck from \"@/cards/Deck\"\nimport CollectionWindow from \"@/components/CollectionWindow.vue\"\n\n@Options({\n  components: {\n    TextButton, PlayingCard, BlushWindow, CollectionWindow\n  },\n  props: {\n    menu: Object\n  },\n  emits: ['close'],\n  methods: {\n    log(msg: any) {\n      console.log(msg)\n    },\n    toggleScale(card: Card) {\n      card.scale = !card.scale\n      if (this.scaledCard == card) {\n        this.scaledCard.scale = false\n        this.scaledCard = new Card({})\n      } else {\n        this.scaledCard.scale = false\n      }\n      if (card.scale) this.scaledCard = card\n    },\n    activateTab(tab: string) {\n      this.activeTab = tab\n      this.activeCard = new Card({})\n    },\n    activateCard(card: Card) {\n      this.activeCard = card\n    },\n    lookup(id: string): Card {\n      return Deck.lookup(id)\n    }\n  },\n  computed: {\n    tabs(): string[] {\n      return [\n        'all',\n        'behavior',\n        'body',\n        'clothing',\n        'event',\n        'mind',\n        'reward'\n      ]\n    },\n    util() {\n      return util\n    },\n    refDeck(): Deck {\n      return Deck.referenceDeck()\n    },\n    deck(): Deck {\n      if (this.isInspectingCard) {\n        return new Deck(this.activeCard.subcards).sortByLevel()\n      }\n      return this.menu.collection.copy().unique().onlyFamily(this.activeTab).pack()\n    },\n    isInspectingCard(): boolean {\n      return this.activeCard.id != undefined && this.activeCard.isParent\n    }\n  },\n  async created() {\n    //await globalState().load()\n    this.isLoaded = true\n  }\n})\nexport default class CollectionScreen extends Vue {\n  isLoaded = false\n  menu!: Menu\n  scaledCard: Card = new Card({})\n  activeTab: string = 'all'\n  activeCard: Card = new Card({})\n}\n","import { render } from \"./CollectionScreen.vue?vue&type=template&id=151734b6&scoped=true\"\nimport script from \"./CollectionScreen.vue?vue&type=script&lang=ts\"\nexport * from \"./CollectionScreen.vue?vue&type=script&lang=ts\"\n\nimport \"./CollectionScreen.vue?vue&type=style&index=0&id=151734b6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-151734b6\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component'\nimport GameView from '@/components/GameView.vue'\nimport Menu from \"@/Menu\"\nimport StartMenu from \"@/components/StartMenu.vue\"\nimport DialogueView from \"@/components/DialogueView.vue\"\nimport globalState from \"@/store/globalState\"\nimport HandView from \"@/components/HandView.vue\"\nimport CreditsScreen from \"@/components/CreditsScreen.vue\"\nimport CollectionScreen from \"@/components/CollectionScreen.vue\"\nimport PatchNotesScreen from \"@/components/PatchNotesScreen.vue\"\n\n@Options({\n  components: {\n    GameView, StartMenu, DialogueView, HandView, CreditsScreen, CollectionScreen, PatchNotesScreen\n  },\n  methods: {\n  },\n  computed: {\n    cssVars() {\n      return {\n        '--background-image': 'url(' + require('@/assets/background.webp') + ')'\n      }\n    },\n    globalState() {\n      return globalState()\n    }\n  }\n})\nexport default class App extends Vue {\n  menu: Menu = new Menu()\n}\n","import { render } from \"./App.vue?vue&type=template&id=54d3d88e&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=54d3d88e&lang=scss\"\nimport \"./App.vue?vue&type=style&index=1&id=54d3d88e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-54d3d88e\"\n\nexport default script","import { createWebHistory, createRouter, createWebHashHistory } from \"vue-router\"\nimport GameView from \"@/components/GameView.vue\"\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Milkfarm\",\n    component: GameView,\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory('/'),\n  //history: createWebHashHistory('/gallery/'),\n  // @ts-ignore\n  routes: routes\n})\n\nexport default router\n","import * as Vue from 'vue'\nimport App from './App.vue'\nimport router from \"@/router\"\n\n// @ts-ignore\nVue.createApp(App).use(router).mount('#app')\n","module.exports = __webpack_public_path__ + \"img/devil-512px.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ValueMeter.vue?vue&type=style&index=0&id=ef28c724&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RelatedThumb.vue?vue&type=style&index=0&id=072ed195&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=54d3d88e&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollectionWindow.vue?vue&type=style&index=0&id=717132cc&scoped=true&lang=scss\""],"sourceRoot":""}