(function(e){function t(t){for(var r,i,u=t[0],s=t[1],o=t[2],f=0,d=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/gallery/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0991":function(e,t,n){},"544b":function(e,t,n){},"603e":function(e,t,n){"use strict";n("544b")},"68d9":function(e,t,n){"use strict";n("0991")},"810d":function(e,t,n){},"9cdc":function(e,t,n){"use strict";n("c701")},c701:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={id:"app"},c=Object(r["e"])("Gallery");function i(e,t,n,i,u,s){var o=Object(r["x"])("router-link"),l=Object(r["x"])("router-view");return Object(r["o"])(),Object(r["d"])("div",a,[Object(r["f"])(o,{to:"/"},{default:Object(r["D"])((function(){return[c]})),_:1}),Object(r["f"])(l)])}var u=n("d4ec"),s=n("262e"),o=n("2caf"),l=n("9ab4"),f=n("ce1f"),d=(n("a4d3"),n("e01a"),Object(r["E"])("data-v-39826f47"));Object(r["s"])("data-v-39826f47");var b={class:"control-panel"},h=Object(r["e"])("First"),p=Object(r["e"])("Prev"),v={key:0},O={key:1},j=Object(r["e"])("Next"),g={class:"sequence-thumbs"};Object(r["p"])();var m=d((function(e,t,n,a,c,i){var u=this,s=Object(r["x"])("BlushButton");return Object(r["o"])(),Object(r["d"])("div",{id:this.id,class:"image-view"},[Object(r["f"])("h1",null,Object(r["z"])(e.info.title)+", "+Object(r["z"])(e.sequencePlayer.getCurrentIndex())+" / "+Object(r["z"])(e.sequencePlayer.getLastIndex()),1),Object(r["f"])("img",{class:"gallery-thumb",src:e.img},null,8,["src"]),Object(r["f"])("div",b,[Object(r["f"])(s,{onClick:t[1]||(t[1]=function(e){return u.firstB()})},{default:d((function(){return[h]})),_:1}),Object(r["f"])(s,{onClick:t[2]||(t[2]=function(e){return u.prevB()})},{default:d((function(){return[p]})),_:1}),Object(r["f"])(s,{onClick:t[3]||(t[3]=function(e){return u.playB()})},{default:d((function(){return[e.paused?(Object(r["o"])(),Object(r["d"])("span",v,"Play")):(Object(r["o"])(),Object(r["d"])("span",O,"Pause"))]})),_:1}),Object(r["f"])(s,{onClick:t[4]||(t[4]=function(e){return u.nextB()})},{default:d((function(){return[j]})),_:1})]),Object(r["f"])("p",null,"Image: "+Object(r["z"])(e.img),1),Object(r["f"])("p",null,Object(r["z"])(e.description),1),Object(r["f"])("div",g,[(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.allImages,(function(e){return Object(r["o"])(),Object(r["d"])("img",{class:"thumb",src:e},null,8,["src"])})),256))])])})),x=(n("96cf"),n("1da1")),y=n("bc3a"),I=n.n(y),k=(n("d3b7"),{baseUrl:function(){return"http://localhost:4000/gallery"},wait:function(e){return new Promise((function(t,n){setTimeout(t,e)}))}}),w=(n("99af"),n("baa5"),n("ac1f"),n("25f0"),n("466d"),n("4d90"),n("bee2")),q=function(){function e(t,n){Object(u["a"])(this,e),this.id=t,this.info=n,this.firstIndex=e.sequenceIndex(this.info.firstImage),this.lastIndex=this.firstIndex+this.info.length,this.index=0}return Object(w["a"])(e,[{key:"goto",value:function(e){return this.index=e,this.index=Math.min(this.index,this.info.length-1),this.index=Math.max(this.index,0),this}},{key:"next",value:function(){return this.goto(this.index+1),this}},{key:"prev",value:function(){return this.goto(this.index-1),this}},{key:"get",value:function(){return e.setSequenceIndex("".concat(k.baseUrl(),"/").concat(this.id)+this.info.firstImage,this.getImageIndex())}},{key:"getAll",value:function(){for(var t=[],n=this.firstIndex;n<this.lastIndex;n++)t.push(e.setSequenceIndex("".concat(k.baseUrl(),"/").concat(this.id)+this.info.firstImage,n));return t}},{key:"getCurrentIndex",value:function(){return this.index+1}},{key:"getLastIndex",value:function(){return this.info.length}},{key:"getImageIndex",value:function(){return this.firstIndex+this.index}}],[{key:"sequencePrefix",value:function(e){var t=e.match(/([0-9]+)/g),n=null===t||void 0===t?void 0:t[t.length-1];if(null!=n){var r=e.lastIndexOf(n);return e.substr(0,r)}return e}},{key:"sequenceSuffix",value:function(e){var t=e.lastIndexOf(".");return e.substr(t,e.length)}},{key:"sequenceIndex",value:function(e){var t=e.match(/[0-9]+/g),n=null===t||void 0===t?void 0:t[t.length-1];return parseFloat((null===n||void 0===n?void 0:n.toString())||"0")}},{key:"sequenceIndexLength",value:function(e){var t=e.match(/[0-9]+/g),n=null===t||void 0===t?void 0:t[t.length-1],r=null===n||void 0===n?void 0:n.length;return r||0}},{key:"setSequenceIndex",value:function(e,t){var n=this.sequencePrefix(e),r=this.sequenceSuffix(e),a=this.sequenceIndexLength(e),c=t.toString().padStart(a,"0");return n+c+r}}]),e}(),P=Object(r["E"])("data-v-c17f9342");Object(r["s"])("data-v-c17f9342");var _={class:"pink-button",onselectstart:"return false"};Object(r["p"])();var B=P((function(e,t,n,a,c,i){return Object(r["o"])(),Object(r["d"])("div",_,[Object(r["w"])(e.$slots,"default")])})),S=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return n}(f["b"]);S=Object(l["a"])([Object(f["a"])({props:{label:String}})],S);var C=S;n("603e");C.render=B,C.__scopeId="data-v-c17f9342";var T=C,R=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.img="",e.description="",e.info={title:"",firstImage:""},e.sequencePlayer=new q("none",e.info),e.allImages=[],e.paused=!0,e}return n}(f["b"]);R=Object(l["a"])([Object(f["a"])({components:{BlushButton:T},props:{},methods:{log:function(e){console.log(e)},play:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.wait(200);case 2:if(e.sequencePlayer.getCurrentIndex()!=e.sequencePlayer.getLastIndex()){t.next=12;break}return t.next=5,k.wait(1e3);case 5:if(!e.paused){t.next=7;break}return t.abrupt("return");case 7:return e.firstB(),t.next=10,k.wait(800);case 10:if(!e.paused){t.next=12;break}return t.abrupt("return");case 12:return e.nextB(),t.next=15,k.wait(800);case 15:e.paused||e.play();case 16:case"end":return t.stop()}}),t)})))()},playB:function(){this.paused=!this.paused,this.paused||this.play()},firstB:function(){this.img=this.sequencePlayer.goto(0).get()},prevB:function(){this.img=this.sequencePlayer.prev().get()},nextB:function(){this.img=this.sequencePlayer.next().get()}},beforeCreate:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.$route.params.id),e.id=e.$route.params.id,t.next=4,I.a.get(k.baseUrl()+"/"+e.id+"/info.json");case 4:n=t.sent,e.info=n.data,e.description=e.info.description,e.sequencePlayer=new q(e.id,e.info),e.img=e.sequencePlayer.get(),e.allImages=e.sequencePlayer.getAll();case 10:case"end":return t.stop()}}),t)})))()},setup:function(){console.log("SETUP")}})],R);var U=R;n("f9f3");U.render=m,U.__scopeId="data-v-39826f47";var M=U,z=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return n}(f["b"]);z=Object(l["a"])([Object(f["a"])({components:{ImageView:M}})],z);var L=z;n("9cdc");L.render=i;var E=L,G=n("6c02"),$=Object(r["E"])("data-v-4686712e");Object(r["s"])("data-v-4686712e");var A=Object(r["f"])("h1",null,"Gallery",-1),F={class:"thumbs"};Object(r["p"])();var J=$((function(e,t,n,a,c,i){var u=Object(r["x"])("router-link");return Object(r["o"])(),Object(r["d"])("div",{id:this.id,class:"gallery"},[A,Object(r["f"])("div",F,[(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.allThumbs,(function(e){return Object(r["o"])(),Object(r["d"])("div",null,[Object(r["f"])(u,{to:"/"+e.id},{default:$((function(){return[Object(r["f"])("img",{class:"thumb",src:e.thumb},null,8,["src"])]})),_:2},1032,["to"])])})),256))])])})),V=n("b85c"),D=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.sequences=[],e.allThumbs=[],e}return n}(f["b"]);D=Object(l["a"])([Object(f["a"])({components:{BlushButton:T},props:{},methods:{getThumb:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(k.baseUrl()+"/"+e+"/info.json");case 2:return n=t.sent,r=n.data,t.abrupt("return","".concat(k.baseUrl(),"/").concat(e).concat(r.thumb));case 5:case"end":return t.stop()}}),t)})))()}},beforeCreate:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(k.baseUrl()+"/gallery-info.json");case 2:n=t.sent,e.sequences=n.data.sequences,r=Object(V["a"])(e.sequences),t.prev=5,r.s();case 7:if((a=r.n()).done){t.next=18;break}return c=a.value,t.t0=e.allThumbs,t.t1=c,t.next=13,e.getThumb(c);case 13:t.t2=t.sent,t.t3={id:t.t1,thumb:t.t2},t.t0.push.call(t.t0,t.t3);case 16:t.next=7;break;case 18:t.next=23;break;case 20:t.prev=20,t.t4=t["catch"](5),r.e(t.t4);case 23:return t.prev=23,r.f(),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[5,20,23,26]])})))()}})],D);var N=D;n("68d9");N.render=J,N.__scopeId="data-v-4686712e";var H=N,K=[{path:"/",name:"Gallery",component:H},{path:"/:id",name:"Image View",component:M}],Q=Object(G["a"])({history:Object(G["b"])("/gallery/"),routes:K}),W=Q;r["c"](E).use(W).mount("#app")},f9f3:function(e,t,n){"use strict";n("810d")}});
//# sourceMappingURL=app.js.map